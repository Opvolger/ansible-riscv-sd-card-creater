From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from CHN02-BJS-obe.outbound.protection.partner.outlook.cn (mail-bjschn02on2098.outbound.protection.partner.outlook.cn [139.219.17.98])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 080463115B5;
	Fri,  7 Nov 2025 10:30:04 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=fail smtp.client-ip=139.219.17.98
ARC-Seal:i=2; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762511412; cv=fail; b=LxvjQGL0cYkoZyvv94wIaf/f09S7o4YYkmOB/FGEIEnNxaiNq3HlHunXH3g7g2gLKCPrvZpDSb3tBDYPwnfbzmvkKoxm9FvAylyHW26olq1soJaLTTFNYyRu9k6qkIcQh3z9AM6CJAwQ9iqVo20EZDBjd542hQTsVz51Ni26quA=
ARC-Message-Signature:i=2; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762511412; c=relaxed/simple;
	bh=dZvdAOKsKn4xUz6m9MEOpO0j6/uJ8VN0HQy5nJL/ABo=;
	h=From:To:Cc:Subject:Date:Message-ID:In-Reply-To:References:
	 Content-Type:MIME-Version; b=EdSr6QmByv8imGISxGbp8HERbaN4hii/wrKMkhx4e7tlzgspfuIKm/HgGlDp3Z0EEMuxRtcaBUGE8nBwFMB9CDRNcuw0nyB3K5356nGpDBxRa1vZE0Lbh/iGdSX4XGbRHCq4EcXvTO9Dmar32TG7Qp2SaAXzMU/Crbx63JdYznQ=
ARC-Authentication-Results:i=2; smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com; spf=pass smtp.mailfrom=starfivetech.com; arc=fail smtp.client-ip=139.219.17.98
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=starfivetech.com
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=duBQ2ge1405dCHHZPQ93zIn9xuVIP2E+yTqtpWIRh+OgMVufsAKw2RRfqJkq0vMlixu6pQVLlg0LpzHgpvJSNphnt/LtUMI1dTbt4k/Ik9NLrj78pyicPW91kUFGnc7ynSJ+QK48l3qgRz4/TJXKr1dEsF5LIjaUYBsU8glLAsZzLXVRqLG0nUCfZinD2do7wYCwizyChu4Payg2u0e0oXyGlH4fmfwZF3Rnz60uSfxxdqPAR3H7CxRqoVRGg9FJm4YQELMOqh8sCPkMh7GbuLkkGAqnGLA3glDz6WE3eQq3bnpI5NXjmOYIE5Vyp0QVpeIVkGgjHrSobyzivG7QmA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=RopYT9nzxjAG1AgJJOfzvjsouzhfjUNUpcWgGKqJh5Q=;
 b=EcAtN3MxqSX/J4l1MHCzXg6LCnw5MsdhWEUyKts1NUAN2lHII0dDAhc3SHX5oIrH4mSbiwLvsCafVcGnQjH59i6NmiyoeeQ+IzTYy9zTW19Ddp1HNFMp/jjPWTT34lTZSfP+4Y42S1gkprGHjrLHTSzYkTTyv1IrE25K3VHqvJaVbiVr3m+/RLn688L2oIf68cMVsseB4HSpZwJsjXR7bWugqEZvSjN0SqpqcIlnLxzfP30m1OMfHkJiTOJGzELM917NQy5Jp+K8hUHaN+sN8hfcYQrTORbt0CYItl2DddAZzD06sG0vpcn6v+japaLI7kc3lSM/cGY1LohrbWp1tA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=starfivetech.com; dmarc=pass action=none
 header.from=starfivetech.com; dkim=pass header.d=starfivetech.com; arc=none
Authentication-Results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=starfivetech.com;
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:7::14) by ZQ2PR01MB1305.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:6::14) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9298.12; Fri, 7 Nov
 2025 09:55:39 +0000
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7]) by ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7%6]) with mapi id 15.20.9298.010; Fri, 7 Nov 2025
 09:55:39 +0000
From: Hal Feng <hal.feng@starfivetech.com>
To: Conor Dooley <conor+dt@kernel.org>,
	Rob Herring <robh@kernel.org>,
	Krzysztof Kozlowski <krzk+dt@kernel.org>,
	Palmer Dabbelt <palmer@dabbelt.com>,
	Paul Walmsley <pjw@kernel.org>,
	Albert Ou <aou@eecs.berkeley.edu>,
	"Rafael J . Wysocki" <rafael@kernel.org>,
	Viresh Kumar <viresh.kumar@linaro.org>,
	Bjorn Helgaas <bhelgaas@google.com>,
	Lorenzo Pieralisi <lpieralisi@kernel.org>,
	=?UTF-8?q?Krzysztof=20Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
	Manivannan Sadhasivam <mani@kernel.org>,
	Emil Renner Berthing <emil.renner.berthing@canonical.com>,
	Heinrich Schuchardt <heinrich.schuchardt@canonical.com>,
	E Shattow <e@freeshell.de>
Cc: Hal Feng <hal.feng@starfivetech.com>,
	devicetree@vger.kernel.org,
	linux-riscv@lists.infradead.org,
	linux-kernel@vger.kernel.org
Subject: [PATCH v2 1/8] dt-bindings: PCI: starfive,jh7110-pcie: Add enable-gpios property
Date: Fri,  7 Nov 2025 17:55:23 +0800
Message-ID: <20251107095530.114775-2-hal.feng@starfivetech.com>
X-Mailer: git-send-email 2.43.2
In-Reply-To: <20251107095530.114775-1-hal.feng@starfivetech.com>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
Content-Transfer-Encoding: 8bit
Content-Type: text/plain
X-ClientProxiedBy: ZQ0PR01CA0014.CHNPR01.prod.partner.outlook.cn (10.2.0.83)
 To ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn (10.2.1.78)
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-MS-PublicTrafficType: Email
X-MS-TrafficTypeDiagnostic: ZQ2PR01MB1307:EE_|ZQ2PR01MB1305:EE_
X-MS-Office365-Filtering-Correlation-Id: 7aa2df87-424e-47ad-9324-08de1de3ce5e
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam:
	BCL:0;ARA:13230040|366016|7416014|52116014|1800799024|41320700013|38350700014|921020;
X-Microsoft-Antispam-Message-Info:
	bmPYnsQGobFnS83YzdcFKYph65yqnS7rsljac/Ik7NqUvJrqjKMnrDUJTbBDF9VzGSyPl/lKoTSTSj8KKyEmfB+CsHr0Kv5CQu8cHqFdbhAS3oU44t38fP+FW7LpCpqdH43PdyQz8oI3h5/0DXCaffT6s0YO05dVYR33LCU3u+22WnlRndRPBwKqfxPClgygAAcuZ7PWjAubWvh2idvJXshX0YMIsplfjxmI0RtlmNXNqIw31D7LgspjfTPzyAt23T+vjYoOCKIpAzPXwQtQYAXD+0KLETn/avl3SunNbQzkcWLafvdtbDaZUux0TndSQqarGNfq25r3HszJK0KwcFPl2qG62RHs6DgtFBTC5HVc5Qjx/AKnLON9kIdyuf21MvDajOSJZWlMwSMoI03yNb2lyM0gbnDx3CxO8omPSonIrjTGB3NDQgGHt2ENwRINHiF8OMCqIuDSM6Vbn9v4WvdBIjggIG0EHq61ZEDIQP1LarZLiV3H4yLtLzFcKbIHMwJVtQCj0inVokMf7NIEu8ayWwUXRWZg96CSiK83okkqorOuohFXL7IhK4wJljPijSZIaMQq3tplOh58G7OsAYHqt5r8mYhBA590QU5Jl2U=
X-Forefront-Antispam-Report:
	CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn;PTR:;CAT:NONE;SFS:(13230040)(366016)(7416014)(52116014)(1800799024)(41320700013)(38350700014)(921020);DIR:OUT;SFP:1102;
X-MS-Exchange-AntiSpam-MessageData-ChunkCount: 1
X-MS-Exchange-AntiSpam-MessageData-0:
	=?us-ascii?Q?mGLWjjd3DdEM5AQ7kYolD2QuxGvjjmFwmkNfMymG9MHnrE/FhbrdSy6uHWRf?=
 =?us-ascii?Q?m6alxPT3VqJXPi+SYgGCJIEWS2RTN55ukVkx0gyN8jlJGwgTBacsTn4spR1n?=
 =?us-ascii?Q?a9a3NeuecJHZgRke6H+uVxffu9xGg7OdAT2T9ngmIgr+vbcC1bnsgQ3Ah+Iq?=
 =?us-ascii?Q?cn2mFi+UDTfsF+jOSsia4pmAik1f/Md2hL8VtRFEZhiB7r6iLceTQcGg/359?=
 =?us-ascii?Q?UNG3NODERpsnGGpxiBkMnnfTRreG/jW25Z7OlPHyrPab0ZOxpBQAn2oVc3tS?=
 =?us-ascii?Q?uTYm/e5tmeZUYUG0deexeq2ptHwzAreH6Zu+iCWys72/rYkaur72CIz5dlfd?=
 =?us-ascii?Q?c+v6aUsMe9bTFCk9qpt6rCMTGH+6x1CZ4/kB3Bm5wNiHnepQjD/azTT6Lk9x?=
 =?us-ascii?Q?5J43/nCG1jkLfRKe8+pGs1mYoIciH3fvvQX7gmQzVZdUoMJ9/62sXlEZ4y45?=
 =?us-ascii?Q?NyTM1A8wl7qs59w3/cHcYLWTIP8m22vlmZz2CqQgTaBTFeJOCHrclEecjCvT?=
 =?us-ascii?Q?8opWj3U8hprSYKUbxjqfalA+4RHcTcWmsdLsCAelP7hdDidxBGDjops4rxLS?=
 =?us-ascii?Q?n4bkGfKW8YOJcZxjjsoziekfxnTsuNKKCmI6UO+fDmUG/FuDkamBSxJVSNQI?=
 =?us-ascii?Q?Eeh4DTtJAh4iiYzgRzeNMnrBDHq6hAR1D9p3YfzwmBFvtzTPP2+wAogxkuVT?=
 =?us-ascii?Q?rznFrrUzXKEPqmkZyNkriZM9NfuhWfiRi4jPJR2Hea45nTwzOm4LoZj2DeVN?=
 =?us-ascii?Q?Nyjp87coVOUpp/YSIiDiw4WQKs5cuBA2S47atNc8eV1jYWNPm4Lh3ZKjTmo1?=
 =?us-ascii?Q?lSotHmZhQ90l0d3p56Bg8PoeAwhRVN5f0E86V/E/td0Qf6roaWIBXPGIgSTe?=
 =?us-ascii?Q?smwP+tnvtOlO16gTF3Dkp/2NZhBBIksDDiak2F7rrHcnnx4JBbyX38YxcaPI?=
 =?us-ascii?Q?pCJFGO7jDtiWWaDlGYQSD7WK2iwv1d+SmXky7GugUTAAG4GQFrLnVHK7bDyD?=
 =?us-ascii?Q?bNl3NdMAP+JqndWLdjZaDNy0cJHXylMw2FJ0SktL0gueQWr9v7aIIofxmTyU?=
 =?us-ascii?Q?DPLjbzOuvP2ZUX3u19L6zmd572XgdadXoi8hL1d5cRX6kCFcCPlvSPh17+IO?=
 =?us-ascii?Q?7zIb1vN99UUO/Y9jd8BjW+MujnpQfbheX/1mnuOqNotQ7EcxovOcFxtBlmfQ?=
 =?us-ascii?Q?JXhdkYmhpALAwdPA9eX8KEO+0jo+zqkZvXeWavYbvu1qHWhjtYLhbG9hSAPv?=
 =?us-ascii?Q?P8YG1dHR2MzA8GzcX9/GE0tAbTSO9SG1jwdSMHD8zBLelyTYW2AyIiQUN5Ve?=
 =?us-ascii?Q?OGK0FzIPGYGiBaK+dHR0Sdo/skBZtcqZxXSie10cZtL2PJ0zEXpc8/MSEMvY?=
 =?us-ascii?Q?4VI+gh42cYTQ4yc+6qcibxF57fQUoLMN1n0JgJmEp3ixWRelyoSP9C0egCJE?=
 =?us-ascii?Q?BF8OQNlf4G8iFlbyCuqiDDec/IDcK1xY8N1kkA9GslRa+YwMSduIZ7U3ay26?=
 =?us-ascii?Q?59jUxH5JrEVG1A6uR/a5S4Cy/Oq3GAIVpIIjBs+Kn1cbLaPqmSlJF/4aKvET?=
 =?us-ascii?Q?L0e0LJoE/+/inRxVzHn1JwOeQvndqOMo5GVt5fK0g5XHv/fZDIV7Yk1rK+No?=
 =?us-ascii?Q?WA=3D=3D?=
X-OriginatorOrg: starfivetech.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 7aa2df87-424e-47ad-9324-08de1de3ce5e
X-MS-Exchange-CrossTenant-AuthSource: ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 07 Nov 2025 09:55:39.1241
 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 06fe3fa3-1221-43d3-861b-5a4ee687a85c
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: I9mGPjD4rU54fTz1U1tzYZOUydLohxXqMOfNv0I0eU4gXxRH6YGyshwpv8pdtRebQ4JcBBqrjGRg2opApP+obzzaA9rqWCkJ53BRdkOUs3k=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: ZQ2PR01MB1305

Add enable-gpios property for controlling the PCI bus device power.
This property had been supported in the driver but not added in the
dt-bindings.

Acked-by: Conor Dooley <conor.dooley@microchip.com>
Fixes: 22fe32239770 ("dt-bindings: PCI: Add StarFive JH7110 PCIe controller")
Signed-off-by: Hal Feng <hal.feng@starfivetech.com>
---
 .../devicetree/bindings/pci/starfive,jh7110-pcie.yaml         | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/Documentation/devicetree/bindings/pci/starfive,jh7110-pcie.yaml b/Documentation/devicetree/bindings/pci/starfive,jh7110-pcie.yaml
index 33c80626e8ec..1e36f92ec852 100644
--- a/Documentation/devicetree/bindings/pci/starfive,jh7110-pcie.yaml
+++ b/Documentation/devicetree/bindings/pci/starfive,jh7110-pcie.yaml
@@ -59,6 +59,10 @@ properties:
     description:
       The phandle to System Register Controller syscon node.
 
+  enable-gpios:
+    description: GPIO used to enable the PCI bus device power
+    maxItems: 1
+
   perst-gpios:
     description: GPIO controlled connection to PERST# signal
     maxItems: 1
-- 
2.43.2


From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from CHN02-BJS-obe.outbound.protection.partner.outlook.cn (mail-bjschn02on2098.outbound.protection.partner.outlook.cn [139.219.17.98])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id C78883195EC;
	Fri,  7 Nov 2025 10:30:12 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=fail smtp.client-ip=139.219.17.98
ARC-Seal:i=2; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762511417; cv=fail; b=FytVl/YAUriijgZ06/dtescAHtgVHJlakxl1DWgp9Ic0qEYdzcig8y0O3A/Koy8Xp2J4WNWPKRIDIsp1JgYQsx2xTVGb+4xZppaqU92z6t+v4dNhNVZoOtfVAPEg3GPIyIOKUdY91Hgh+X+A7wXRMl/KJ2Do6J45dTQhj3cVGcg=
ARC-Message-Signature:i=2; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762511417; c=relaxed/simple;
	bh=/Q+0iEwPd8dENaLPCJaSXynf71xyqBM66C/Y+25SKYs=;
	h=From:To:Cc:Subject:Date:Message-ID:In-Reply-To:References:
	 Content-Type:MIME-Version; b=r1lXIAw65nnTs2/Ar5rR7Ok8MlPPllvWdLAOEU1+mS6KHV0PSQm5reVuGG8l7H7woWvgLOFfynrJbwlXtUNSlWViXMLEIcy29B62RgvdX1rr0hEORBSVxaJ30XCuqNVL+h+1XFpubfLpYz7XP12XaS1VVB1Kd+mrTOKTiTNtock=
ARC-Authentication-Results:i=2; smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com; spf=pass smtp.mailfrom=starfivetech.com; arc=fail smtp.client-ip=139.219.17.98
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=starfivetech.com
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=aFTdoNQ2J5hVcma2qI63oBqEXgN50wZCPqnIhNRPj79eo9vtXfZQntEPuaYh5ffi9iRvOqkDo2REqgDJj0ZmJVzp7qZmw5LhoVyhvIQtDG0vq6NIHVC5bIueyykBJQlEoXMwImx62CrtD1+AuxtjX4qgqxwt8/VxWkP58+vB41PJ+q9dzbpv2+gPoLv+haDYVOKLT2pOPv818G0045um2PQd2fUAVDC5XSo4IXNnQkFDBxVMl2bFmVHHgF0YZaPtmBFZSMyfd6XiI6y3L9qCVM4MLIr39Y9aDA8XWkBaL90DRsQmlPmDGaS1bDpbzVJjqHGW9SAvpuSPvOj46RnMFg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=QQCTHLQIU/AIPDs6AFrkkAkw5Vdt6Bv+nefuaHIZTGI=;
 b=ZEhTOf1Y3q8ySNxxncVXvgXWTgkN1q48EsnJ5GDc6fwRkjlUhccQhwGum70yvkq2Rm+vGjgBjC62WaE48xVLtAo1bMzMs8yzD4RbxjqQfPJR8iPr504qEgPB1wvc5UJQ8iBL1olTmSafUu9zeOn3reV6p7gqo/NoYMypZnqOC469coXck8DkXumslWcGtPnCasne26l508rSM0pwO0xFsl6TBmT/KE8JB48Yf8OEZA4rDte/vWGmaa6wXS7NSmjQxMvqNMJuEiJQggRSDtn4632R1nt+OoO0mz5UgpPdzQci7tWZ0toGKost6BaFstU3whPguy4s3f3fN1DNcq5FtA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=starfivetech.com; dmarc=pass action=none
 header.from=starfivetech.com; dkim=pass header.d=starfivetech.com; arc=none
Authentication-Results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=starfivetech.com;
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:7::14) by ZQ2PR01MB1305.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:6::14) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9298.12; Fri, 7 Nov
 2025 09:55:41 +0000
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7]) by ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7%6]) with mapi id 15.20.9298.010; Fri, 7 Nov 2025
 09:55:41 +0000
From: Hal Feng <hal.feng@starfivetech.com>
To: Conor Dooley <conor+dt@kernel.org>,
	Rob Herring <robh@kernel.org>,
	Krzysztof Kozlowski <krzk+dt@kernel.org>,
	Palmer Dabbelt <palmer@dabbelt.com>,
	Paul Walmsley <pjw@kernel.org>,
	Albert Ou <aou@eecs.berkeley.edu>,
	"Rafael J . Wysocki" <rafael@kernel.org>,
	Viresh Kumar <viresh.kumar@linaro.org>,
	Bjorn Helgaas <bhelgaas@google.com>,
	Lorenzo Pieralisi <lpieralisi@kernel.org>,
	=?UTF-8?q?Krzysztof=20Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
	Manivannan Sadhasivam <mani@kernel.org>,
	Emil Renner Berthing <emil.renner.berthing@canonical.com>,
	Heinrich Schuchardt <heinrich.schuchardt@canonical.com>,
	E Shattow <e@freeshell.de>
Cc: Hal Feng <hal.feng@starfivetech.com>,
	devicetree@vger.kernel.org,
	linux-riscv@lists.infradead.org,
	linux-kernel@vger.kernel.org
Subject: [PATCH v2 3/8] riscv: dts: starfive: Rename jh7110.dtsi to jh711x.dtsi
Date: Fri,  7 Nov 2025 17:55:25 +0800
Message-ID: <20251107095530.114775-4-hal.feng@starfivetech.com>
X-Mailer: git-send-email 2.43.2
In-Reply-To: <20251107095530.114775-1-hal.feng@starfivetech.com>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
Content-Transfer-Encoding: 8bit
Content-Type: text/plain
X-ClientProxiedBy: ZQ0PR01CA0014.CHNPR01.prod.partner.outlook.cn (10.2.0.83)
 To ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn (10.2.1.78)
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-MS-PublicTrafficType: Email
X-MS-TrafficTypeDiagnostic: ZQ2PR01MB1307:EE_|ZQ2PR01MB1305:EE_
X-MS-Office365-Filtering-Correlation-Id: 892fd969-ac0c-494f-9239-08de1de3cfc4
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam:
	BCL:0;ARA:13230040|366016|7416014|52116014|1800799024|41320700013|38350700014|921020;
X-Microsoft-Antispam-Message-Info:
	uBMDFddZHmdxi56iU7yikjyVP5QVFJblWbuSik10oEEZmOf7nicwd95nzFQFdZn9IqmuAgHxI/zpg3PAr1MF1cMmgR5kJ1xLCG4ccY1domX0EjOql7Q/sqG4ervmayqnvxDMl2yj6Qh1sGAUxUZ40wp+CasRh9QafkBaL08vB7R6D4TQW3YzIkNYMqRZGrbscWeYxPB6sjTIuoiD7yc0e9SmhVUpSm6qQ4H4oMCLUe1rOYSZsOAXOma/W8nseGAqSZcrYKpkgrS0chcVzWTIr0cYILHP6r5s6x/d+8Kd8q89kdfgjvUEEt9MJuUo6k7190BBNNRM6zoilDUQd0PPOp3mvgX/aetHCgi2k63gqJRDm9DRtl2ZfrDFGUxGsziEbTjO2dlzhVferY86qirGQ6bH35ZV4tUtDFQfpOgwfgEGiXi67VoUvWcbDKksykILM7yAT0Yc4Y39DobxsIj92jtdTFmdwcL+I/TaVZ23jCljkK+D7TR6p9B2hzu582jtIbCPMjLLzthfcU8ioGVccWGZEElbvH9fn/oSB2OjRmchxZ7ouiFojhLm+hFLwRyemHVx3a+D8HRF6u98UXnkkejiLsMhuZcBYmQY3ok5TaA=
X-Forefront-Antispam-Report:
	CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn;PTR:;CAT:NONE;SFS:(13230040)(366016)(7416014)(52116014)(1800799024)(41320700013)(38350700014)(921020);DIR:OUT;SFP:1102;
X-MS-Exchange-AntiSpam-MessageData-ChunkCount: 1
X-MS-Exchange-AntiSpam-MessageData-0:
	=?us-ascii?Q?m3/DRifrg9eMHgCQEHT13nV2G88X06Dh/vp+gRghlNN7GvWJRTQsbFRYxClI?=
 =?us-ascii?Q?z0ViuwO8mRgEEQGYaMXzwX6zFUbYommSsHocHbKGD1F9ooAvrU6jpGUdcR8J?=
 =?us-ascii?Q?f1Ax0sjjtRwvFXYRwQYRUMFkK2FLEK7YrXlXcVswqQTKaD7Gk+kdV4uScySk?=
 =?us-ascii?Q?KcpmubfuQt5Sd8syqVEI9qb8Ey9irffbR9FLk0czxPfXhWazIy7MAfYY2cQP?=
 =?us-ascii?Q?9sesyu7fhvtLCF/dJv2hKSjw/zSKOxBGTQ8e2DsFZUaGu5vU6QOQ47lnkmhQ?=
 =?us-ascii?Q?HTg/PBEUappQb1gqDDHjkXDc5zj+mt47POyxPSEGi82qmS+RPSV7AFlEUFOP?=
 =?us-ascii?Q?Onxu+rGmouh5/fjrR0vRdHqQ8Pmj60K/x2ae1UufPdG4MKcGaYYCtib+INaN?=
 =?us-ascii?Q?hdOUrNLXJYckMS6c9pscq63BRDs3mo7vI3aFL+zkFBzL82KyORbYpa0h+Zfq?=
 =?us-ascii?Q?kN26/x5Z/xyPyzIsTeQfP0W0i9RJvRbH1wCV/zSfzuovoMYfPh5/0vqh8Gf/?=
 =?us-ascii?Q?OsRrWTFBl68kfWXlNfzjt40147LYhDlqDKaYilsobcyPBVYAPvQDEwoEUwy4?=
 =?us-ascii?Q?VMFVEzu0H9O7eNLTdkdMxfM/dH0g6qaInR6nlseoOyxVBy4Wt9ZH83lktcdr?=
 =?us-ascii?Q?pHLbLFt5j2laAO9LDx2Z/yKFKD3CGa492OU9kFSTwFbn0RhGjn9AShuj727c?=
 =?us-ascii?Q?9ufmP7Oh62aFTDli8hFikccOKF70jdX1j2sFkCGRioMdcrPZ60oweDVX5zVz?=
 =?us-ascii?Q?+3m9QHY6/kjL4pODb/xpZSUl1smuOpekrJodVJ8KKyYnA0OpfNaBq+jh5fvk?=
 =?us-ascii?Q?Y9qRMzynt6d1fLNwf8HG0Wrd1ffuEHaskQBU734q+KZtEG7OzgaYrwmJGTkE?=
 =?us-ascii?Q?i2/oEiRourISkpCTTT/FRCe0nKLFVlmbKEdw0VgjaHdAaBGKu9/X153KEqvh?=
 =?us-ascii?Q?nXYxo5b+68Qbzto5QDEwXYiMT0veeVqHxh4HLtjFOe3Ra6cj5x7z2avsf+he?=
 =?us-ascii?Q?vyEoUwzU3piKdqGJ3p3BdNXGi3AyUNTP+Db6pXtUwtodDe8oy5R/dr5EP7tx?=
 =?us-ascii?Q?SAWeHojLz7Y5Z2IkFOVdFeBwShYUpgTGgrbywksmC+CiD4t7jsQFRfdX6Uc5?=
 =?us-ascii?Q?DyJYhv+ojvFy5UIZvpdMYn1BHr890I++y6VExCCiDRBV6p/95nlGUQgEZxQ2?=
 =?us-ascii?Q?L/R1w5M/vpvAnSfC92oL2HDc3oUy2GMqxICdAUP+4LFJB0x1MZlQVDEf+H/m?=
 =?us-ascii?Q?aTmCH6NaVOkOkFf/Yl0K22mySqEbKnZkBRP2JsijEaBt+YWavWnUbuKaVb2j?=
 =?us-ascii?Q?r60MwadDTIO30410Q8F+nUaT0foCY9v1feWBRZl4wz3kporOyx5+HMDQ2IjA?=
 =?us-ascii?Q?f3AyPCxDLatp/5FMmtViAJ5cq55mAnXzon/+ly+j4Xs+Xhz+eWX7SCm94DN1?=
 =?us-ascii?Q?RsqNR6yMKpqyYKYWSr7FFC7MGjfuOo8WoGfOyNS+UloQll5a2gYE9exvKHkX?=
 =?us-ascii?Q?PGBGWqg7KTRGhcuNd+hRqZu0cs6UdM92Xe/wuTuRGe2vx5xZKRKvGRtHQ7vy?=
 =?us-ascii?Q?zG19Ce4+6LdtFVmw/xiV0FalZTruLWdmfNQx23qhpGsJHu2U/DH8/gry6kBB?=
 =?us-ascii?Q?4g=3D=3D?=
X-OriginatorOrg: starfivetech.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 892fd969-ac0c-494f-9239-08de1de3cfc4
X-MS-Exchange-CrossTenant-AuthSource: ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 07 Nov 2025 09:55:41.4700
 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 06fe3fa3-1221-43d3-861b-5a4ee687a85c
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: qfNAV3zeT3knpZF9g6l2OftsjpVQrJSjoXVBl3cw2n46blOW/zt50EWFA49nk1rztt2Jj3u821pJlvFjGdS3oaWj6k1RCof4aqj5kvwqYfk=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: ZQ2PR01MB1305

JH7110S uses the same devices as JH7110. Rename jh7110.dtsi to jh711x.dtsi
for preparing to add JH7110S based board device trees.

Signed-off-by: Hal Feng <hal.feng@starfivetech.com>
---
 arch/riscv/boot/dts/starfive/jh7110-common.dtsi           | 2 +-
 arch/riscv/boot/dts/starfive/{jh7110.dtsi => jh711x.dtsi} | 0
 2 files changed, 1 insertion(+), 1 deletion(-)
 rename arch/riscv/boot/dts/starfive/{jh7110.dtsi => jh711x.dtsi} (100%)

diff --git a/arch/riscv/boot/dts/starfive/jh7110-common.dtsi b/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
index 083ec80b4e44..809274625615 100644
--- a/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
+++ b/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
@@ -5,7 +5,7 @@
  */
 
 /dts-v1/;
-#include "jh7110.dtsi"
+#include "jh711x.dtsi"
 #include "jh7110-pinfunc.h"
 #include <dt-bindings/gpio/gpio.h>
 #include <dt-bindings/leds/common.h>
diff --git a/arch/riscv/boot/dts/starfive/jh7110.dtsi b/arch/riscv/boot/dts/starfive/jh711x.dtsi
similarity index 100%
rename from arch/riscv/boot/dts/starfive/jh7110.dtsi
rename to arch/riscv/boot/dts/starfive/jh711x.dtsi
-- 
2.43.2


From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from CHN02-BJS-obe.outbound.protection.partner.outlook.cn (mail-bjschn02on2098.outbound.protection.partner.outlook.cn [139.219.17.98])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id B2C0F31A542;
	Fri,  7 Nov 2025 10:30:17 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=fail smtp.client-ip=139.219.17.98
ARC-Seal:i=2; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762511422; cv=fail; b=ZOXqqhem1RhGIjcV2SJSSVPHN8q3wbDlknmyGah6dahgR1UUTtccy0sTSZC/FNeD/W4fhaH//ifoL28r4LjN1Pc6Fub1Tv3fJNakOXl7t0jc4iPVE2MpAkM4u+3StHF31XhRTxEGNegAhx46JH8msa9VSOszzknF4HEQs865Z2o=
ARC-Message-Signature:i=2; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762511422; c=relaxed/simple;
	bh=LffuFy0o+ak0sYVtamZtfM1tkLci4+dbgr5HAogXeVo=;
	h=From:To:Cc:Subject:Date:Message-ID:In-Reply-To:References:
	 Content-Type:MIME-Version; b=QaphqUZmszk/+FmvDqPFp9RNKdOkiaiaoOB34xzhTkkNUswm+yjUJ8BMegATecIb/0HDQUX2Ygani9hrLkAU54I9hfob8HkoMOkQtHkHy0qaA1X+Ayj2mgj+WDP1/ehpC18aVM28fK85m4PC2rFANUd63aePmGNmZgNZBXoLak4=
ARC-Authentication-Results:i=2; smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com; spf=pass smtp.mailfrom=starfivetech.com; arc=fail smtp.client-ip=139.219.17.98
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=starfivetech.com
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=RWvBSdDXXbOomf87+spAhKSGTyJIVdrYdAIzj6tI72ZrR7BSl/2NG9/X5ZApcazLsavUMBEF5WB6rF6h0GdM/mZFJI6HkvmJyIlFVib/jhdFvoD+g9EchCkSQCZkPejmaiI8r1vzkiX3IVUk928irlcmdVx9d8mohvPJTLJ/9GCf3v0OxtxyG/jeer0RT6GzeNVML6IsF5BAHIHVeFCKEnnI24U7oDvdbfj/0Ax9+PaKxfrGqLWFT2XgjPp2ElCYDsLcEiUDkZ/H3XjqUqj8OKglcwpEb/TJ99sq/IlFfkuAsM7rgG2GPVIda8wlkXqj+pFZRsizIAAIVzlY8a0vbA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=2kXPRul5UgqNQ91FZuNxL8MCd5ZCkwkQkOLYKss6ByM=;
 b=Z7RCPJC0/AkiNlBVO0Ga2Wg/mz3x+mpHUata2lkeRPhhUis0i43OZDxAEqxQiaRxmapOHJFKFztF7bWjxvtbRxYuMJLsLRtsRt0fprj9vAvFTBvUcxH5xV9b6C+h9gJ/1NTFYvjdfmwPW/lvzxhCGs8JQhBLZ6Y1VoVvFSPmpJ+acyWQLN5V/f5OlHUdH8UT8UV3ftjPyzwHXFRKsKgOefJehuCEw21kgxEIRY1ZhoMDDRJOfl7eo3it8bwCZOx2YRMrez1/Mg80E/oClpwcy8W0baA8JWieW5g+ll5Pk8inbUl6BklTLyuVsh6+m9bQVBKpZEE7lwjQgDkc05PGPQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=starfivetech.com; dmarc=pass action=none
 header.from=starfivetech.com; dkim=pass header.d=starfivetech.com; arc=none
Authentication-Results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=starfivetech.com;
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:7::14) by ZQ2PR01MB1305.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:6::14) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9298.12; Fri, 7 Nov
 2025 09:55:47 +0000
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7]) by ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7%6]) with mapi id 15.20.9298.010; Fri, 7 Nov 2025
 09:55:47 +0000
From: Hal Feng <hal.feng@starfivetech.com>
To: Conor Dooley <conor+dt@kernel.org>,
	Rob Herring <robh@kernel.org>,
	Krzysztof Kozlowski <krzk+dt@kernel.org>,
	Palmer Dabbelt <palmer@dabbelt.com>,
	Paul Walmsley <pjw@kernel.org>,
	Albert Ou <aou@eecs.berkeley.edu>,
	"Rafael J . Wysocki" <rafael@kernel.org>,
	Viresh Kumar <viresh.kumar@linaro.org>,
	Bjorn Helgaas <bhelgaas@google.com>,
	Lorenzo Pieralisi <lpieralisi@kernel.org>,
	=?UTF-8?q?Krzysztof=20Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
	Manivannan Sadhasivam <mani@kernel.org>,
	Emil Renner Berthing <emil.renner.berthing@canonical.com>,
	Heinrich Schuchardt <heinrich.schuchardt@canonical.com>,
	E Shattow <e@freeshell.de>
Cc: Hal Feng <hal.feng@starfivetech.com>,
	devicetree@vger.kernel.org,
	linux-riscv@lists.infradead.org,
	linux-kernel@vger.kernel.org
Subject: [PATCH v2 8/8] riscv: dts: starfive: Add VisionFive 2 Lite eMMC board device tree
Date: Fri,  7 Nov 2025 17:55:30 +0800
Message-ID: <20251107095530.114775-9-hal.feng@starfivetech.com>
X-Mailer: git-send-email 2.43.2
In-Reply-To: <20251107095530.114775-1-hal.feng@starfivetech.com>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
Content-Transfer-Encoding: 8bit
Content-Type: text/plain
X-ClientProxiedBy: ZQ0PR01CA0014.CHNPR01.prod.partner.outlook.cn (10.2.0.83)
 To ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn (10.2.1.78)
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-MS-PublicTrafficType: Email
X-MS-TrafficTypeDiagnostic: ZQ2PR01MB1307:EE_|ZQ2PR01MB1305:EE_
X-MS-Office365-Filtering-Correlation-Id: 6eb8fe6f-6a7d-4adc-f1ae-08de1de3d36b
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam:
	BCL:0;ARA:13230040|366016|7416014|52116014|1800799024|41320700013|38350700014|921020;
X-Microsoft-Antispam-Message-Info:
	90hR7ZVPH81Lj3uQtD/YY7U6ZuBGfP4LVEMuIwGoi/OOpY0At2W9kDP3uJ9+OzdgxST3/f3DlGrpd0f6a9ni4rnh+T6UtwwizOxMNvMXmlJXQd8t3wzctbk4TM8fsRp/M4/wclsn0KkZCeDb40zpFPS55ejMPXICw1MkqMYpocg65WeAA0ailapdisav6zAGp1gnKaq9xQfd+Wo4lGfilJWWbD/2wVUMqBgb88Xqa2nFm9Bc+jkuvAhKVFs0jE9S4mnygDi+u2bVTPiNZ/T01y89n/WKx/uKxuLQqd+Exf37+LFTr44LAGRX83fC2yQPmiM/0AF0UFU5iBfXjJ4JjUA3McnevOCbrADJ6SP9Wo/nzTq7TYlHEx3VUOwGQt7jfznEo9N+zXCcKrCXK/PHhnV6DqG4Y5FXWLomcYFHRd1ImR90eluSCFeiFLF7FuVM0ZT10xcqBuWVHzPhg856SyTGks8xd4B9vM4Jl3Nqt3xY5myaL+8WH0XsX6TsZvX0w6fxgVMIS5KS8AzbsV+fficC/cfZxrdcsT1w4SDLVqgov8pbMl6ThtgFPIGuIWKkLc01bE6xbrivp9GMvsqByTRHrjXfK3kdnu/JyOznM1A=
X-Forefront-Antispam-Report:
	CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn;PTR:;CAT:NONE;SFS:(13230040)(366016)(7416014)(52116014)(1800799024)(41320700013)(38350700014)(921020);DIR:OUT;SFP:1102;
X-MS-Exchange-AntiSpam-MessageData-ChunkCount: 1
X-MS-Exchange-AntiSpam-MessageData-0:
	=?us-ascii?Q?O9F6TYOtHI1AKsfliBsMnIxAM8fbE321VcZxH8e9dfbn5vaBwwhPaB6lBnsH?=
 =?us-ascii?Q?OCQR2nxXTitrGwT41PUQQ78kZlSmHnk+txhs5kkkKCt53v5APDTI6C5G1T0M?=
 =?us-ascii?Q?A89wNnjYrnmlBLYthAk6jLW0WWEw63UqNhi0nP9rAvTQhw6l/L7GQIPO4aJ2?=
 =?us-ascii?Q?unDj8y0KGc1HBQ/PccMCajaCdKh+63JVV5xn34qaqzaJoBVRtcPIPxxmzvmn?=
 =?us-ascii?Q?rJxSZFGKZtxnZsrtfVb9BM55o4sbXNiY9ptlefschP49BcI0yaq3DBLniRcK?=
 =?us-ascii?Q?kaO0KKQ7JtD73ca8ODtkXtQmRAVsLsZjZTUBDD2FV9rwJTpTLoblEHcTAqMd?=
 =?us-ascii?Q?WyETUfva/JhgXVO5lukO1JuTUobS8Yv5xhISuN/FDmVGc7py1XJzZ2KILdt5?=
 =?us-ascii?Q?DUDgGN2Pb/aXEWhKvl22E2evgGb168VPHLwDKhD80HiwRTTBxQjJMgf4cpMO?=
 =?us-ascii?Q?iGahHefAedQBmr4YMXh1F6GgBLmeK+CfdJuyg5eFKozZmcBuoHjOFaYoi7OO?=
 =?us-ascii?Q?/q59ugLGPQCm3qKSDRO2CiMaPfhUI1RboerMzl2xCco2gB9b10LucxYlZTMv?=
 =?us-ascii?Q?Til8uETHB6QHtTcO6D0ssijWTyg/H1G1MfQwIhd0Qr17ydtvP5NYHtC5W8Yo?=
 =?us-ascii?Q?RTlDXiABW7fnWCPAkpVGUoSNC6Rs8PYHGk3Xqc7r9mwvaicDNiLM561wN7UP?=
 =?us-ascii?Q?zsU6pm6h4qxVlUgnunUB6Z02i5Ql17uAsKP5clfTzDmC3oTqqo9Wa8606YMR?=
 =?us-ascii?Q?u+xK3H2pauCPmEY6UVzopyv++mZn38P6gj8A1EI8vuK2RaQVbab8aagRU8Kk?=
 =?us-ascii?Q?zBW0/1YiGjlby+0Dcsn9RnAJZi6dOiMl4BLw451PIYwnOUO5EXSB2orBgQ4b?=
 =?us-ascii?Q?lB9aA7EgsP+8sB5wH03adHKAI9VaER6r7Fm32c0UxibYT37HaKv3oGwALLDa?=
 =?us-ascii?Q?RRMRhj30ckcZSN5bfl5dVQCByVFqY+F5J4lQOBhJ2KgG2cb3rkZcSVyXOKN3?=
 =?us-ascii?Q?5Pf9EGZDSlxnWU9SKk0qTNxTaTvjukPMCXU0zZEU+mQr8WkCqwj4cmZkMo57?=
 =?us-ascii?Q?KIFM6OlfvPgqMd4QGQYhxEGjWt9iMAZBvUCCW8MdmjzGRWilD9S+saJjNwA8?=
 =?us-ascii?Q?dxeY3EjI7gESmBGAnIz6tJxT4f0lwXmMgUYIrs7WJq9pxA5z7vrB+AoLur5P?=
 =?us-ascii?Q?63/FrN9QRXx0nrE4AJqibeUIO+k8Bg57wW3xKHHoYxMHBKFrl9NMzv6ORAkF?=
 =?us-ascii?Q?X1rTpOcw5jL+kFIzJ6o2ii+8SdqX14Iqt1mDt1FAiCbBH8VKOOxDD/zBvGSn?=
 =?us-ascii?Q?Hu1d/lOkftZ1/2s1Mzn84ANXxjjktbpdmugFub89i6eFfGHT5nhuvpfHsFj1?=
 =?us-ascii?Q?hoBWK0Kj7lRaE4uLiLRFOvYW/rtqJD3IfdX1X1XbqcN71GWthx3wCUBCP48U?=
 =?us-ascii?Q?d96AaSuZS3GY1Hwzf4wgBAyzB5gsqIDusRyLYYIGDZPHCi0mZWaIZA9Pctuu?=
 =?us-ascii?Q?JG6vN41Dh8RUSINHDVqQo7+oQHJBC6ygdM6QwoGHKjBM5j/P3MHwLQQdiriZ?=
 =?us-ascii?Q?bQtSR5iYWRmLn+MNZiFvIcL+H8R1L+LwQWWTdCBK1TFqrbHchKQXF4Z84sa4?=
 =?us-ascii?Q?bA=3D=3D?=
X-OriginatorOrg: starfivetech.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 6eb8fe6f-6a7d-4adc-f1ae-08de1de3d36b
X-MS-Exchange-CrossTenant-AuthSource: ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 07 Nov 2025 09:55:47.6152
 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 06fe3fa3-1221-43d3-861b-5a4ee687a85c
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: IFiuM9zGQIRd0iYaTnlg+iFBscbwKtuXFM9YzvhV/cbTPjnIIbu2JQ0mharYVuRkNf3dQvZA6PKszYTP3Bw4gSfUTWwHIGR9NDMluj5zX4M=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: ZQ2PR01MB1305

VisionFive 2 Lite eMMC board uses a non-removable onboard 64GiB eMMC
instead of the MicroSD slot.

Signed-off-by: Hal Feng <hal.feng@starfivetech.com>
---
 arch/riscv/boot/dts/starfive/Makefile         |  1 +
 ...h7110s-starfive-visionfive-2-lite-emmc.dts | 22 +++++++++++++++++++
 2 files changed, 23 insertions(+)
 create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite-emmc.dts

diff --git a/arch/riscv/boot/dts/starfive/Makefile b/arch/riscv/boot/dts/starfive/Makefile
index f53109253d41..a60244803829 100644
--- a/arch/riscv/boot/dts/starfive/Makefile
+++ b/arch/riscv/boot/dts/starfive/Makefile
@@ -17,3 +17,4 @@ dtb-$(CONFIG_ARCH_STARFIVE) += jh7110-starfive-visionfive-2-v1.2a.dtb
 dtb-$(CONFIG_ARCH_STARFIVE) += jh7110-starfive-visionfive-2-v1.3b.dtb
 
 dtb-$(CONFIG_ARCH_STARFIVE) += jh7110s-starfive-visionfive-2-lite.dtb
+dtb-$(CONFIG_ARCH_STARFIVE) += jh7110s-starfive-visionfive-2-lite-emmc.dtb
diff --git a/arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite-emmc.dts b/arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite-emmc.dts
new file mode 100644
index 000000000000..60ce2753f2d1
--- /dev/null
+++ b/arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite-emmc.dts
@@ -0,0 +1,22 @@
+// SPDX-License-Identifier: GPL-2.0 OR MIT
+/*
+ * Copyright (C) 2025 StarFive Technology Co., Ltd.
+ * Copyright (C) 2025 Hal Feng <hal.feng@starfivetech.com>
+ */
+
+/dts-v1/;
+#include "jh7110s-starfive-visionfive-2-lite.dtsi"
+
+/ {
+	model = "StarFive VisionFive 2 Lite eMMC";
+	compatible = "starfive,visionfive-2-lite-emmc", "starfive,jh7110s";
+};
+
+&mmc0 {
+	cap-mmc-highspeed;
+	cap-mmc-hw-reset;
+	mmc-ddr-1_8v;
+	mmc-hs200-1_8v;
+	vmmc-supply = <&vcc_3v3>;
+	vqmmc-supply = <&emmc_vdd>;
+};
-- 
2.43.2


From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from CHN02-BJS-obe.outbound.protection.partner.outlook.cn (mail-bjschn02on2090.outbound.protection.partner.outlook.cn [139.219.17.90])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 7E51A30FC23;
	Fri,  7 Nov 2025 11:08:31 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=fail smtp.client-ip=139.219.17.90
ARC-Seal:i=2; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762513717; cv=fail; b=hkG9xhFUKlaQ9LdaH5T5RXOUlmUddqHabxlfbJRQhhvf+J1Bm5mk16z8nasvwQgBnKc8XzgOLR3J+Tv2Hp/Pey0MgQKBgkyFAzpfBPh2cIo3oVCg4Kmf8Mk7LGyIoaZAbKyuo9sTMdluM8GBUzTIIerFKUllLS22le0zE3AEUps=
ARC-Message-Signature:i=2; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762513717; c=relaxed/simple;
	bh=nL5jLAky1y6eU1JSj2sdKu7T8q6TR+IjSIzWMLgQbCA=;
	h=From:To:Cc:Subject:Date:Message-ID:In-Reply-To:References:
	 Content-Type:MIME-Version; b=bMtYjKruxFTOATJ3VhSWGrb0VNkzfo1oqlRiKlZKy0qtLo3g6ni7vicqjsAjMcat1Vx/OEloEuhtk+TgtUlpgP6DAtsgs5VFbCXZYbTd7tUJ62hg8ciFHFRVz8C2gSU56K6xerbE93ahQjrsxrrtU/MFyukCMgQpK0XoMtdOyjs=
ARC-Authentication-Results:i=2; smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com; spf=pass smtp.mailfrom=starfivetech.com; arc=fail smtp.client-ip=139.219.17.90
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=starfivetech.com
Received: from ZQ2PR01MB1305.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:6::14) by NT0PR01MB1309.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c510:f::12) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9298.12; Fri, 7 Nov
 2025 10:54:13 +0000
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=WdozJx4+cs6dqsWrentRm9nQbAdDmcv6VbDc4NHYz0ksTpAg0s72ATmYlba31LOMZMY4Suyzty2/NknmtA04HFoAWxVzKbFqccKCrx6xgg7p3KhStbfMJJnRzZpaJ00YflUkJzGMWkBuDAAZakobbhqnl1lMLBizstClNp96buKnz0Rzj25srhB1QuZz2NUYZ5aDL7CiGHm7BuBKMAiaj4eRYRjW86koZhrMLa4+uwsNmjkOgQBhYy1vgdYYfjR2KV/6bxjOvbEsgsHBkNOAkaxw8Aut0jqVZC8OtfCtZcoD1xFzwT998izATIxAWIhmbUQMjjA3bDT2PJu0C7FhnQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=TrdOIBe6XTVZYCkuYgFBIwODEgTpoZey6Uz/1VHRgT0=;
 b=e36z+ag0dGk285J+fFmDEVrbAv+TB8GLVn/oMegF7/7HHyNIBFrlOlKZmWWe6eGmtCs4+fwWI4xfGWB6vMVLZssOF+rLqmejO77lU4B7H72C7zt5KJLlvAFBKO40D25BJDjfol5UkZ3FqeWwnTuX28o8iM7sgHx3GhCWRzDB7hjoA84OFP5hOoDuih4SolNRpEE8OF6XX0o+Xe4oR7EDPAjarZBg1dD2uVhwOQZFy5hi03puMnGO/7FJVNaZC4HB74wGX2bI4OjBatZuUYN7S7A7xGy3d4jIaX86N23R5ZnsJQAiJ2s/mu2vvmBcgvkQYzxRoK3QEmAWu3ZAzzqMuw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=starfivetech.com; dmarc=pass action=none
 header.from=starfivetech.com; dkim=pass header.d=starfivetech.com; arc=none
Authentication-Results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=starfivetech.com;
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:7::14) by ZQ2PR01MB1305.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:6::14) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9298.12; Fri, 7 Nov
 2025 09:55:40 +0000
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7]) by ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7%6]) with mapi id 15.20.9298.010; Fri, 7 Nov 2025
 09:55:40 +0000
From: Hal Feng <hal.feng@starfivetech.com>
To: Conor Dooley <conor+dt@kernel.org>,
	Rob Herring <robh@kernel.org>,
	Krzysztof Kozlowski <krzk+dt@kernel.org>,
	Palmer Dabbelt <palmer@dabbelt.com>,
	Paul Walmsley <pjw@kernel.org>,
	Albert Ou <aou@eecs.berkeley.edu>,
	"Rafael J . Wysocki" <rafael@kernel.org>,
	Viresh Kumar <viresh.kumar@linaro.org>,
	Bjorn Helgaas <bhelgaas@google.com>,
	Lorenzo Pieralisi <lpieralisi@kernel.org>,
	=?UTF-8?q?Krzysztof=20Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
	Manivannan Sadhasivam <mani@kernel.org>,
	Emil Renner Berthing <emil.renner.berthing@canonical.com>,
	Heinrich Schuchardt <heinrich.schuchardt@canonical.com>,
	E Shattow <e@freeshell.de>
Cc: Hal Feng <hal.feng@starfivetech.com>,
	devicetree@vger.kernel.org,
	linux-riscv@lists.infradead.org,
	linux-kernel@vger.kernel.org
Subject: [PATCH v2 2/8] dt-bindings: riscv: Add StarFive JH7110S SoC and VisionFive 2 Lite board
Date: Fri,  7 Nov 2025 17:55:24 +0800
Message-ID: <20251107095530.114775-3-hal.feng@starfivetech.com>
X-Mailer: git-send-email 2.43.2
In-Reply-To: <20251107095530.114775-1-hal.feng@starfivetech.com>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
Content-Transfer-Encoding: 8bit
Content-Type: text/plain
X-ClientProxiedBy: ZQ0PR01CA0014.CHNPR01.prod.partner.outlook.cn (10.2.0.83)
 To ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn (10.2.1.78)
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-MS-PublicTrafficType: Email
X-MS-TrafficTypeDiagnostic:
	ZQ2PR01MB1307:EE_|ZQ2PR01MB1305:EE_|NT0PR01MB1309:EE_
X-MS-Office365-Filtering-Correlation-Id: 5c9f0c0c-8aae-4c2a-2744-08de1de3cf12
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam:
 BCL:0;ARA:13230040|366016|7416014|52116014|1800799024|41320700013|38350700014|921020;
X-Microsoft-Antispam-Message-Info:
 7bQqh4feFPbdWh0jCeHER1jTrSE1exxiyUQ9KWvtK21DLJr1isQi64CgJ4zcZEC4ul0gvsiVMf1QPCC9EDTUHLCC94wthajav6NN3Iqlkf30PJfhic9xZxH4I4/xpfuAk9eZzDgA5M6f+CtaQSTwY0S7+q+DzMqN1jdB2FV/fKZSyi7nH8cYWLn+vf5aNab1l12IdVDJdLAT+FgHHTmPw3wDysln5Z9llJz7po0i5UCPmAR2YAWVosMfYjRdGNJVqDpJQ6KjoVj2YYdfapG9GGWAa+92HmpFiXmDsILVp0p7a1wW31xY+iQ0eO66fmza6bbypNFIfVIUUTzLzqyp2ET/ClDcj+uZaDKJ9DDOS9vyK1znCY4G2TuuUtDG5yDjeTDo+PMBuGPnZXXx0XxnTJjw55YsiTM6+/EHPw6SX14v0Ir3R9CO8wy9RoJAP+T1HkAy07DR2I4sMWCK5i919fHXCUTeiqSBxnGvSMGriammMWLoQRc2wtOG8nq1cOU+FcMr73Yn421i5Z/0Oe0ePO/p0SOsHjdlc2Cq+wMLmc5sA8DHU+ej7A34VKJsJBUUFBLFODFU5rLlwYjU8SKpXa5E4SrmJzCmLvC+V105RvI=
X-Forefront-Antispam-Report:
 CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn;PTR:;CAT:NONE;SFS:(13230040)(366016)(7416014)(52116014)(1800799024)(41320700013)(38350700014)(921020);DIR:OUT;SFP:1102;
X-MS-Exchange-AntiSpam-MessageData-ChunkCount: 1
X-MS-Exchange-AntiSpam-MessageData-0:
 =?us-ascii?Q?TiLpzzMZJ2X20c1L2tUPjC6tuzqY5TUr6wnIV/tSGCHhJtBVjDTpMUZVVKO9?=
 =?us-ascii?Q?lD4bh4ZttJGyVminG505oHDp7aDENfzgcLT0ueufWLJUO8kSKG000Sl0rk8S?=
 =?us-ascii?Q?jpBuHYumhs941sef+u/UeQk0Qa2y+3Jaj9w+MCgsSMfzEYF53169voCBDK/R?=
 =?us-ascii?Q?BcK40KpYZs5ybv55GRBKRyXdiBVOkAlV1ZIwcM5B/LTky3kKuk3AanbeLVhB?=
 =?us-ascii?Q?86zAPTRLhNNX4v6yR9H1Pk+ihqcD6590ac86uLc9wm9k1rOq7talLLcmI3UM?=
 =?us-ascii?Q?RGNGCTq7q+6R+j7I/DWJ85eDa4MMh7yjYSigpOz0xiWs0Vxnd3L8TwigJLCJ?=
 =?us-ascii?Q?+nJVOAf6kW0ZKff39q7eOeDLz2UgmEXCczMfPdOl3dAC7fSaB+CzDdDsabVp?=
 =?us-ascii?Q?IRMGg1gwUkK60U5Jfh2DOW/dihvgN9v6s7KpwjNmdTc9xMT/ajm/ga/kxTCR?=
 =?us-ascii?Q?8ZVbOXyFCFQYgOhv4ULvK7dlcV0mkGCoArrjLvU/y93az3olGYqSMwmVGWwa?=
 =?us-ascii?Q?VIcdQU15yBjNYbycw3XpsKfN05lMxOrJLpj6CcLMO0Lygn1JW6Drou2wivqg?=
 =?us-ascii?Q?J5h6YQbb/GZvMwkSJauV5CNB+dI7r00jOwJa84Degar1cHteJYSzW947JHag?=
 =?us-ascii?Q?AsxwghJ+OT/fDTFNrh5/DQKbv9zQXB5Mfrf0C16sDHc2FEi0nUqg9ukyPRfO?=
 =?us-ascii?Q?26HeWWtEwjqDj4qq+5OdJyg52Q2FAg3nvtbZJEnTgsQbQk9kVn45U3+y2VcL?=
 =?us-ascii?Q?Rxro54me3f5ofna8Ck4z2WU+R2vIXi8bGK0QkWNnOeOzV5DrQlFDzQx6dsT4?=
 =?us-ascii?Q?R0BDZU4ImEaZavTE1HWD4UgHPAEj32jOVY0xLy1g45OZ34p/GL1OCD9WkjqP?=
 =?us-ascii?Q?Z5VaMsPGKdzXg17Cfdgiv3bpiZ5Bki/USQscL/ya0F0by6DXcQ6aCXI7e6rN?=
 =?us-ascii?Q?wRQhoXcpvRqMqLdvaeB+yxdOG4JGUJP1g8fqNZRrxYHMhgdvTDp6fIUGmcmL?=
 =?us-ascii?Q?VOhAYWs3MaZ+3vX1/gTLQQ4NuoMbutSQH/dKHIEKBxtOKhyGyVjFyRelDeDB?=
 =?us-ascii?Q?4I31l0/TXNbjQuDTq8PYjVCvyKqEq62v633fxYCSujfAGh0FuRHO+LB79bhM?=
 =?us-ascii?Q?GzZTrFYHHu6yM1o/5CuTy+90LDicLZGd+XdbLrlXPsrvgIfy9IijS7iqSDyp?=
 =?us-ascii?Q?340vgS4PoC0eq1a8RVqbJ27u6d7i5szg18idt5Ld7lmYIy0TgCLKK3X6+LRx?=
 =?us-ascii?Q?PM4dmgkE+HgHLhBrslLJpMzX/CYF5qLPB278faGa1iHgyLkqYp2SaNx47nAQ?=
 =?us-ascii?Q?QTkxanWBB4K1M++iJmaDf5hH9/4PTa0uqaNSBqINJVPapZ5+nVx44hoWDl/z?=
 =?us-ascii?Q?Qvz8sKaKeqc3G7PiMTn1X/fCsM3fIBTHVRmBlkx+T6/mbwrs3eFgoD7Y6zOn?=
 =?us-ascii?Q?a4DUAWIbYCRXreRXWKUOarNHNN04YnkZBVgXzgeunG/WTe/a5lYW79LtMJso?=
 =?us-ascii?Q?3Cc4wIqAv9nqAZgi5gm4RynnBFpRyHgqO74XX7wTqfN30s1bJqDVhstUZmSK?=
 =?us-ascii?Q?WJfhfeqvaZvs0tLCnXIIE2Vie5U/QbLDXaeGZAOs/utdK8aAO4zv2S/DKfFs?=
 =?us-ascii?Q?Tw=3D=3D?=
X-MS-Exchange-CrossTenant-Network-Message-Id: 5c9f0c0c-8aae-4c2a-2744-08de1de3cf12
X-MS-Exchange-CrossTenant-AuthSource: ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 07 Nov 2025 09:55:40.3008
 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 06fe3fa3-1221-43d3-861b-5a4ee687a85c
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: uGakS39WWJZ3ECey7QMJsA02iNvYb1an9u6TcO7wyX+bwXSACQQkf1ZaJG/PQnpf6RH93rwQJcVkrUkFyYSBEheLAaWP2dOnG5KcsdQ8v4k=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: ZQ2PR01MB1305
X-OriginatorOrg: starfivetech.com

Add device tree bindings for the StarFive JH7110S SoC
and the VisionFive 2 Lite board equipped with it.

JH7110S SoC is an industrial SoC which can run at -40~85 degrees centigrade
and up to 1.25GHz. Its CPU cores and peripherals are the same as
those of the JH7110 SoC.

VisionFive 2 Lite boards have SD card version (default) and eMMC version,
which are called "VisionFive 2 Lite" and "VisionFive 2 Lite eMMC"
respectively.

Reviewed-by: Heinrich Schuchardt <heinrich.schuchardt@canonical.com>
Signed-off-by: Hal Feng <hal.feng@starfivetech.com>
---
 Documentation/devicetree/bindings/riscv/starfive.yaml | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/Documentation/devicetree/bindings/riscv/starfive.yaml b/Documentation/devicetree/bindings/riscv/starfive.yaml
index 04510341a71e..797d9956b949 100644
--- a/Documentation/devicetree/bindings/riscv/starfive.yaml
+++ b/Documentation/devicetree/bindings/riscv/starfive.yaml
@@ -35,6 +35,12 @@ properties:
               - starfive,visionfive-2-v1.3b
           - const: starfive,jh7110
 
+      - items:
+          - enum:
+              - starfive,visionfive-2-lite
+              - starfive,visionfive-2-lite-emmc
+          - const: starfive,jh7110s
+
 additionalProperties: true
 
 ...
-- 
2.43.2


From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from CHN02-BJS-obe.outbound.protection.partner.outlook.cn (mail-bjschn02on2111.outbound.protection.partner.outlook.cn [139.219.17.111])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id E7D71320A1F;
	Fri,  7 Nov 2025 11:08:40 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=fail smtp.client-ip=139.219.17.111
ARC-Seal:i=2; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762513724; cv=fail; b=mQz95/iYnp5YppyaKisQO6Ys+N/7k98rQpBQdC1IIssCr5Hqgs3kz9RSJjhg0g7UdMYcvqbuANtT7rK1P88Nra8G2Kch+kzZGGr1RbzW1up5fb6fy5xZ38EuZbxeHUlvuRCfi8Lyqe8xKiYPHnq8CQPtO+7byn94ODU/kQDc54A=
ARC-Message-Signature:i=2; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762513724; c=relaxed/simple;
	bh=RehCo4sUZSnk9AjckI+Hgps8mXiLtcQD3wq7+ccZv0M=;
	h=From:To:Cc:Subject:Date:Message-ID:In-Reply-To:References:
	 Content-Type:MIME-Version; b=IgXHchGFsX+DmLEV9vM4XZO/nKNHIdfHjv+BIv6GXfzWTypKy1ah1Qu7BAfTBE+rgXzSaQkysZnNl6WWaMrnkEAWvfpfpasGvnXC149ZE1zquhOOQwGTvge9bE9mpITKEyDOJMzXWh7KzZpr3XMk7KmQ1u3/WdOwD51Hw/12SOA=
ARC-Authentication-Results:i=2; smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com; spf=pass smtp.mailfrom=starfivetech.com; arc=fail smtp.client-ip=139.219.17.111
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=starfivetech.com
Received: from ZQ2PR01MB1305.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:6::14) by NT0PR01MB1309.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c510:f::12) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9298.12; Fri, 7 Nov
 2025 10:54:13 +0000
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=fW3wXH20sU3xNoS1Ap1Ja66CG5GzjI3Jb/qsXn9UFMeuUNO9dJ6P4HGxyRm6FNjDLk/w4Ls52AOGKyJd+2+Veucpdsg/Wp66A4PRktiOIS8KDd69OlC/OfbmULXM0LDrP6Wt5ipdBG3tyA81ZGn6doXLvgItfKfr3Tjm7ArzrXOq64sqj3Sg+OYkbpI9qUIyqJ5aR3M13PK5W80DK3NwI5+XEXK3kEgK1XTZsifclnGjpBCqz9CmklTxeX8YVvGJiagHoUDqVDFLzt9+QgqyOGko6nEov5mPG/7uQGJ+t7zv/Osxe9eyyctuDTP+IEkqVJA3gB2jG4gHpp0FfVLpVg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=OkGAzpKBcoDhRWb5kotsVESWZoSUPUUsZEuVHZgFVLs=;
 b=alh8AW5NxyWi++sR86aTN4RCctM4QQ6yRaBRpMAzAuXMA+Kqok01b0BAFoMT0Gmdvm/8cv9kcK06sI/ykJZnOnaddZMsjezWYsYZe+l022AGF+V5Q49LrbGFt8EbvZAw/XgGXoxn6QyVdv4siJk6MgMYjYoc9LOqmi1vXHR68VMx+QHKMSCeGB6oCVMUeaY3G4/8S6XkYi8X67bcixGTH7+9sXJc5EevSxZBzhJsECHcqoMd4dngoqOtUAtUgiN8auFCMNAH6xEbDyxWhqMTfTRv6xzwOtl+pxU3xugEsSK3gdWof2pOHSRpwHScvudO69vfi8bKQFmNiHzNJ2G4aw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=starfivetech.com; dmarc=pass action=none
 header.from=starfivetech.com; dkim=pass header.d=starfivetech.com; arc=none
Authentication-Results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=starfivetech.com;
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:7::14) by ZQ2PR01MB1305.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:6::14) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9298.12; Fri, 7 Nov
 2025 09:55:45 +0000
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7]) by ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7%6]) with mapi id 15.20.9298.010; Fri, 7 Nov 2025
 09:55:45 +0000
From: Hal Feng <hal.feng@starfivetech.com>
To: Conor Dooley <conor+dt@kernel.org>,
	Rob Herring <robh@kernel.org>,
	Krzysztof Kozlowski <krzk+dt@kernel.org>,
	Palmer Dabbelt <palmer@dabbelt.com>,
	Paul Walmsley <pjw@kernel.org>,
	Albert Ou <aou@eecs.berkeley.edu>,
	"Rafael J . Wysocki" <rafael@kernel.org>,
	Viresh Kumar <viresh.kumar@linaro.org>,
	Bjorn Helgaas <bhelgaas@google.com>,
	Lorenzo Pieralisi <lpieralisi@kernel.org>,
	=?UTF-8?q?Krzysztof=20Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
	Manivannan Sadhasivam <mani@kernel.org>,
	Emil Renner Berthing <emil.renner.berthing@canonical.com>,
	Heinrich Schuchardt <heinrich.schuchardt@canonical.com>,
	E Shattow <e@freeshell.de>
Cc: Hal Feng <hal.feng@starfivetech.com>,
	devicetree@vger.kernel.org,
	linux-riscv@lists.infradead.org,
	linux-kernel@vger.kernel.org
Subject: [PATCH v2 6/8] riscv: dts: starfive: Add common board dtsi for JH7110s and VisionFive 2 Lite variants
Date: Fri,  7 Nov 2025 17:55:28 +0800
Message-ID: <20251107095530.114775-7-hal.feng@starfivetech.com>
X-Mailer: git-send-email 2.43.2
In-Reply-To: <20251107095530.114775-1-hal.feng@starfivetech.com>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
Content-Transfer-Encoding: 8bit
Content-Type: text/plain
X-ClientProxiedBy: ZQ0PR01CA0014.CHNPR01.prod.partner.outlook.cn (10.2.0.83)
 To ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn (10.2.1.78)
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-MS-PublicTrafficType: Email
X-MS-TrafficTypeDiagnostic:
	ZQ2PR01MB1307:EE_|ZQ2PR01MB1305:EE_|NT0PR01MB1309:EE_
X-MS-Office365-Filtering-Correlation-Id: b061be4a-8630-481e-2e0b-08de1de3d1f7
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam:
 BCL:0;ARA:13230040|366016|7416014|52116014|1800799024|41320700013|38350700014|921020;
X-Microsoft-Antispam-Message-Info:
 DALQ5wrCOkgDc1ksNLUQHRjwfX/sMUSEcA5LdWfwdQIW4SlHsKWO7JLu8eeu4p8VYVRgi7ysBCdfyVjBt8Oe9aw6k5ZttIl6RBZOFPjdWoKoHdTd490+rr8gAxbnDoi95LqgvCNnzn1gghzy1eJE8YfwcgH2jVDqpCP5VPmqIlu+S4W8pONPyNd3EDon8uhkwpSc/nyt6oipHlncpjMu2FUQ2U9quhGPJpEW6smOWba9j6ubGE0peJLYsgFffPeggZ+PeDpHQR2k+IDwew1TZHyXG98HXPqXVo7qKP30uvH+khQtFDiRzsZV0vY704ilkre15jTT7/SGsCg7dbVf4GOiWW3/D4ktHNfeaUcCcpMxz1fGoxR59ovlHoo1LjO16sQFDyqcGGcSIk6btY0WsJ/MdlmLa/wuQ5Py19/6ofDEzRkVI7NhlbcL9ngiZmNZtnhPVoLJpvPuE9oDCl0yRlhwjn5ueHD96vh9MbnLbHmEP3hbhK5GQujl8JsruNqwBFUpBVaDl6w4zREbHrJawmWWRfddn3Neo6boZap0UTJWd0B48q37+6dugQb+WtaBAEnYbh32kYcwXrHYWWWqLDHq1FRiFNyzJ3B60WB8tK0=
X-Forefront-Antispam-Report:
 CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn;PTR:;CAT:NONE;SFS:(13230040)(366016)(7416014)(52116014)(1800799024)(41320700013)(38350700014)(921020);DIR:OUT;SFP:1102;
X-MS-Exchange-AntiSpam-MessageData-ChunkCount: 1
X-MS-Exchange-AntiSpam-MessageData-0:
 =?us-ascii?Q?QHpY78J8pC522GslMm4T0/3oYbYtQgtQRWUbmg+CZcG3pUqgiRED8Y8R6PFz?=
 =?us-ascii?Q?4N6G9GjxYr26gz2SDCP1D/JSYu+41VTeuQ8kkQCMUsi7pkDAwG6KksVuz+sf?=
 =?us-ascii?Q?EV0+NZg6FZZE2OLwqLxHRPrzGwt2cP8WseEzOkJqbyLipHV5HI8X1rdOhFW2?=
 =?us-ascii?Q?bPymD4JUqODB4ZRjbids05BT2WuAiixBTMOMns9h9r7yPxw5a5MCZfKboZ5t?=
 =?us-ascii?Q?liwU2EEP77IFAFIB4a6Onc30PQF+aYUsV/S95ag5wvCcUhE05N2eDHGUj+WT?=
 =?us-ascii?Q?0UwEGjStUnnj/lLlmMModkCCbK048827imY4FKarBhtzP09ZuX/+FCy4XuYJ?=
 =?us-ascii?Q?GduLpeaSBnjQD/+AWpRnHZ34GjxsFphU+SdGu7/meh8OICsaxIqEb1LShQ7J?=
 =?us-ascii?Q?aN1Ovbng+AJR5fl5bk7b9WUzAb1nwvPKn3o/WyBQTcAVHfzuiU0J6Dy5L2Sw?=
 =?us-ascii?Q?lN2IC2GlHXH2StO02FjE6QaQtqi9S/prwmHsx0nTFeB1OqtaTwBi0NbGFD8J?=
 =?us-ascii?Q?Cpkxlp3MwO/eaHf2W/VSXvMJqNpqway+0SVZ66FNmsyQbmx53AITVV7x5nVd?=
 =?us-ascii?Q?SBwvYYJyFgTFe7JkAvGpGkQ0CYnr06GLOKi5QqUh3ftW2sIuupOiu9aML5Jf?=
 =?us-ascii?Q?uxVIna7sFexf1KP3uDXv+b4lBtFcZ9LZPEXbnJ6TKzN9t+XMxTyFNItMZr78?=
 =?us-ascii?Q?Wbs0tLxwAI64516TqjzsOiAYP3/yh0L+9gXkcMcTAEKfBxWK/GJrj2NWlz7S?=
 =?us-ascii?Q?4V9hTinH7EIXqqEMG4sXFXUDFVYFq01vRGbbOCkq3zFZnxDmWxt3V2Cqq++B?=
 =?us-ascii?Q?mK7LiIav/kf0FGj3C9gI6Bq1UdHXl5EyQfLfN16nKsq9Js+p0FKT0vAtV8oA?=
 =?us-ascii?Q?EoodiCc6bbt0+Zn1qMoDrHs3KFzDm36LIgc1zzr1fqI2ZQ+t/NHeY59NMwfQ?=
 =?us-ascii?Q?cwJ/aCSs6q2krH18StquMxUdV/EhdCHcKAtI3KfCgvjPYfmDCcVVmFs3sWy6?=
 =?us-ascii?Q?uAWnU9uQetFeG6jBTRPpHyX40GXdjqdSqdrSre4PeiB4VxOrcoq4FVHlxtjU?=
 =?us-ascii?Q?vw32PCskHrS7H/PkChAEkSmfEMq6FMX1axRu4zOOKiR4mB70bg4Hd3xq8c2K?=
 =?us-ascii?Q?kyiEOJooZlguiodk/3CjCBtJ5BLaF2hGp2QOJaBi7tOxiXKKR/BofwSu9QYG?=
 =?us-ascii?Q?jUYzXrWBn0cojiO14bbWKxc6gqg7LVBF+brGsdVujxLAJxohMHUvMc9vsliQ?=
 =?us-ascii?Q?l6ODgprJAR1FdWCQKjB/5gQrRvRQkrARZFeH6665w+AT8MQZX7tARp8DaWb1?=
 =?us-ascii?Q?+BuD5XVVNgvEtWJBHS9y4SsmkYo/SBMitU7RlSqlX2B7R/4lOenKiz02Gcmx?=
 =?us-ascii?Q?ZRqNKpmysEWsBemm28T1FUCuFU7k8XvRdryFxUfG8pZpkyr3zZKpE30otyoT?=
 =?us-ascii?Q?JODt67QI73iIzcnLoRNCFH9NKkidNasClcHF8mIPb+dKsOsU8Nt6sj5gHgwx?=
 =?us-ascii?Q?8Cr4Vvj/zAVhEKfsoAPF1Mse/bzmUKB5hWFlOQOXbaWY/tDi4kVKb+UviYAe?=
 =?us-ascii?Q?6u+Q8Rcd8i+17yK/5mPFnSt+JNmgSg8hMQaKrr7qHr4F06Gn1k81GhgJ3q62?=
 =?us-ascii?Q?bw=3D=3D?=
X-MS-Exchange-CrossTenant-Network-Message-Id: b061be4a-8630-481e-2e0b-08de1de3d1f7
X-MS-Exchange-CrossTenant-AuthSource: ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 07 Nov 2025 09:55:45.1748
 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 06fe3fa3-1221-43d3-861b-5a4ee687a85c
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: +mS6G2gyhlF4kVwx4fMnsiKV8FqIXfd1GlcMeDUfeQBMXIO/uNFgcgvomyN1y96UEyvEhVvleDruAUlO3v9PITpDp5g8pd/Sw61hEMPOniM=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: ZQ2PR01MB1305
X-OriginatorOrg: starfivetech.com

Add common board dtsi for use by JH7110s based boards and
VisionFive 2 Lite variants.

Signed-off-by: Hal Feng <hal.feng@starfivetech.com>
---
 .../boot/dts/starfive/jh7110s-common.dtsi     |  27 ++++
 .../jh7110s-starfive-visionfive-2-lite.dtsi   | 126 ++++++++++++++++++
 2 files changed, 153 insertions(+)
 create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-common.dtsi
 create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite.dtsi

diff --git a/arch/riscv/boot/dts/starfive/jh7110s-common.dtsi b/arch/riscv/boot/dts/starfive/jh7110s-common.dtsi
new file mode 100644
index 000000000000..ad0d54d44123
--- /dev/null
+++ b/arch/riscv/boot/dts/starfive/jh7110s-common.dtsi
@@ -0,0 +1,27 @@
+// SPDX-License-Identifier: GPL-2.0 OR MIT
+/*
+ * Copyright (C) 2025 StarFive Technology Co., Ltd.
+ * Copyright (C) 2025 Hal Feng <hal.feng@starfivetech.com>
+ */
+
+/dts-v1/;
+#include "jh711x-common.dtsi"
+
+&cpu_opp {
+	opp-312500000 {
+		opp-hz = /bits/ 64 <312500000>;
+		opp-microvolt = <800000>;
+	};
+	opp-417000000 {
+		opp-hz = /bits/ 64 <417000000>;
+		opp-microvolt = <800000>;
+	};
+	opp-625000000 {
+		opp-hz = /bits/ 64 <625000000>;
+		opp-microvolt = <800000>;
+	};
+	opp-1250000000 {
+		opp-hz = /bits/ 64 <1250000000>;
+		opp-microvolt = <1000000>;
+	};
+};
diff --git a/arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite.dtsi b/arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite.dtsi
new file mode 100644
index 000000000000..747fb806034d
--- /dev/null
+++ b/arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite.dtsi
@@ -0,0 +1,126 @@
+// SPDX-License-Identifier: GPL-2.0 OR MIT
+/*
+ * Copyright (C) 2025 StarFive Technology Co., Ltd.
+ * Copyright (C) 2025 Hal Feng <hal.feng@starfivetech.com>
+ */
+
+/dts-v1/;
+#include "jh7110s-common.dtsi"
+
+&gmac0 {
+	starfive,tx-use-rgmii-clk;
+	assigned-clocks = <&aoncrg JH7110_AONCLK_GMAC0_TX>;
+	assigned-clock-parents = <&aoncrg JH7110_AONCLK_GMAC0_RMII_RTX>;
+	status = "okay";
+};
+
+&i2c0 {
+	status = "okay";
+};
+
+&mmc1 {
+	max-frequency = <50000000>;
+	keep-power-in-suspend;
+	non-removable;
+};
+
+&pcie1 {
+	enable-gpios = <&sysgpio 27 GPIO_ACTIVE_HIGH>;
+	status = "okay";
+};
+
+&phy0 {
+	motorcomm,tx-clk-adj-enabled;
+	motorcomm,tx-clk-100-inverted;
+	motorcomm,tx-clk-1000-inverted;
+	motorcomm,rx-clk-drv-microamp = <3970>;
+	motorcomm,rx-data-drv-microamp = <2910>;
+	rx-internal-delay-ps = <1500>;
+	tx-internal-delay-ps = <1500>;
+};
+
+&pwm {
+	status = "okay";
+};
+
+&spi0 {
+	status = "okay";
+};
+
+&syscrg {
+	assigned-clock-rates = <0>, <0>, <0>, <0>, <500000000>, <1250000000>;
+};
+
+&sysgpio {
+	uart1_pins: uart1-0 {
+		tx-pins {
+			pinmux = <GPIOMUX(22, GPOUT_SYS_UART1_TX,
+					      GPOEN_ENABLE,
+					      GPI_NONE)>;
+			bias-disable;
+			drive-strength = <12>;
+			input-disable;
+			input-schmitt-disable;
+			slew-rate = <0>;
+		};
+
+		rx-pins {
+			pinmux = <GPIOMUX(23, GPOUT_LOW,
+					      GPOEN_DISABLE,
+					      GPI_SYS_UART1_RX)>;
+			bias-pull-up;
+			drive-strength = <2>;
+			input-enable;
+			input-schmitt-enable;
+			slew-rate = <0>;
+		};
+
+		cts-pins {
+			pinmux = <GPIOMUX(24, GPOUT_LOW,
+					      GPOEN_DISABLE,
+					      GPI_SYS_UART1_CTS)>;
+			input-enable;
+		};
+
+		rts-pins {
+			pinmux = <GPIOMUX(25, GPOUT_SYS_UART1_RTS,
+					      GPOEN_ENABLE,
+					      GPI_NONE)>;
+			input-enable;
+		};
+	};
+
+	usb0_pins: usb0-0 {
+		power-pins {
+			pinmux = <GPIOMUX(26, GPOUT_HIGH,
+					      GPOEN_ENABLE,
+					      GPI_NONE)>;
+			input-disable;
+		};
+
+		switch-pins {
+			pinmux = <GPIOMUX(62, GPOUT_LOW,
+					      GPOEN_ENABLE,
+					      GPI_NONE)>;
+			input-disable;
+		};
+	};
+};
+
+&uart1 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&uart1_pins>;
+	status = "okay";
+};
+
+&usb0 {
+	dr_mode = "host";
+	pinctrl-names = "default";
+	pinctrl-0 = <&usb0_pins>;
+	status = "okay";
+};
+
+&usb_cdns3 {
+	phys = <&usbphy0>, <&pciephy0>;
+	phy-names = "cdns3,usb2-phy", "cdns3,usb3-phy";
+};
-- 
2.43.2


From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from CHN02-BJS-obe.outbound.protection.partner.outlook.cn (mail-bjschn02on2111.outbound.protection.partner.outlook.cn [139.219.17.111])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 104D731BC96;
	Fri,  7 Nov 2025 11:09:12 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=fail smtp.client-ip=139.219.17.111
ARC-Seal:i=2; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762513755; cv=fail; b=oQtUjd1HlGVQKhWu+WJ42DeczYyxREqmGN5rlTPBj/exDdEtRTXFXfWQdmh22jYzna+x1yXGc51PgohMwjxNS9PVBkVufPs8QtUogy/bXMP0WgEX4OXYzH0myyaovz2fCh2w1sUTiOgxTjWiyEhclWRE64WifQmrUHGuadR67oQ=
ARC-Message-Signature:i=2; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762513755; c=relaxed/simple;
	bh=sERmWSlmcrmUZSbd/KiyYzV+tVLEOaqWoSvcRK11Zyk=;
	h=From:To:Cc:Subject:Date:Message-ID:Content-Type:MIME-Version; b=reqLNDOemcJuA/hxr9Q5ZXcKBy//HNsG0fb/x8QpugmEulynNUgCvtgeLUSWDnyxoMNbDm5HAlQk74IvLllltZ6cGzRx8me0850hWTHm9rqw385NT0/OtSq/XI8MBMtVHYnlddsLLJ/gqIO9X+7hV73IRq13yakoNg5YhJamzy4=
ARC-Authentication-Results:i=2; smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com; spf=pass smtp.mailfrom=starfivetech.com; arc=fail smtp.client-ip=139.219.17.111
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=starfivetech.com
Received: from ZQ2PR01MB1305.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:6::14) by ZQ0PR01MB1302.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:1b::9) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9298.12; Fri, 7 Nov
 2025 10:54:13 +0000
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=l2i09JXVeY+2u9wVzJqjvXc+5L4Gxpi4ViHcXmenOu2+GwxvuIwvW4g+F77UQW5UHnRN4uDC2PG0EVmk9eOMEdZhNEPqooppvda+oWY+vcN1m/eoL4AafTjYZeAqt2dQ6bI/w8aCEljvPYJh88z2QF5M1wGwrMRmb8VOrWwQn569z0dRnYGcxcrYOwlwtRFO89XPYq6SqgxFngrygmeDGHbZjWqcQbJF05XcBcE0N2JuYAFVDiT+rkQnSz8OWr1S5R1b132zj1IqSXHTUX6R2lLom9CpvNUIACKbO6YeIkL8E+wOWY/D2dHCrsTi/yYzi6tTKmdCrs1VC7rK0tP+NA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=B36uPPFaxJrl6AYLQbISFQ8hcy+svDrisgnkJ8kLHNM=;
 b=HQxG4eoYFEMk85wJ3a2wCTn8PPM7hIozfCTv4VDsKHUC3n7ezRt7GOE1/9yyAOwwdmqCy7Rl0av5O4U3lxlDcrja9b7HEzIH4+f5c5X5UZCFTgQ9eWUZFWdykoC/vRUD/CkzGFJrUltdTDhm1FZZP1K3072atR3pFgXyMllF7U/+QLvua0nHPeqX97LS77QaVFdmGPyGYuBmjZwWddLzygkpopUJ2pMmBEZawhetoZeTA5t0nMEFKBonU5LzZo45d5zcr0wBM4Jcui/3d1fE9BqeXh0s2+AMctL3lnrsp1u4sOArSlxge88KTvMELcj5IiwkNXG9blg07wMwbtDKyQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=starfivetech.com; dmarc=pass action=none
 header.from=starfivetech.com; dkim=pass header.d=starfivetech.com; arc=none
Authentication-Results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=starfivetech.com;
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:7::14) by ZQ2PR01MB1305.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:6::14) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9298.12; Fri, 7 Nov
 2025 09:55:38 +0000
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7]) by ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7%6]) with mapi id 15.20.9298.010; Fri, 7 Nov 2025
 09:55:38 +0000
From: Hal Feng <hal.feng@starfivetech.com>
To: Conor Dooley <conor+dt@kernel.org>,
	Rob Herring <robh@kernel.org>,
	Krzysztof Kozlowski <krzk+dt@kernel.org>,
	Palmer Dabbelt <palmer@dabbelt.com>,
	Paul Walmsley <pjw@kernel.org>,
	Albert Ou <aou@eecs.berkeley.edu>,
	"Rafael J . Wysocki" <rafael@kernel.org>,
	Viresh Kumar <viresh.kumar@linaro.org>,
	Bjorn Helgaas <bhelgaas@google.com>,
	Lorenzo Pieralisi <lpieralisi@kernel.org>,
	=?UTF-8?q?Krzysztof=20Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
	Manivannan Sadhasivam <mani@kernel.org>,
	Emil Renner Berthing <emil.renner.berthing@canonical.com>,
	Heinrich Schuchardt <heinrich.schuchardt@canonical.com>,
	E Shattow <e@freeshell.de>
Cc: Hal Feng <hal.feng@starfivetech.com>,
	devicetree@vger.kernel.org,
	linux-riscv@lists.infradead.org,
	linux-kernel@vger.kernel.org
Subject: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
Date: Fri,  7 Nov 2025 17:55:22 +0800
Message-ID: <20251107095530.114775-1-hal.feng@starfivetech.com>
X-Mailer: git-send-email 2.43.2
Content-Transfer-Encoding: 8bit
Content-Type: text/plain
X-ClientProxiedBy: ZQ0PR01CA0014.CHNPR01.prod.partner.outlook.cn (10.2.0.83)
 To ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn (10.2.1.78)
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-MS-PublicTrafficType: Email
X-MS-TrafficTypeDiagnostic:
	ZQ2PR01MB1307:EE_|ZQ2PR01MB1305:EE_|ZQ0PR01MB1302:EE_
X-MS-Office365-Filtering-Correlation-Id: 798507e6-e299-4257-7f9a-08de1de3cda7
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam:
 BCL:0;ARA:13230040|366016|7416014|52116014|1800799024|41320700013|38350700014|921020;
X-Microsoft-Antispam-Message-Info:
 dul1ggSlDsHQktjofgMvpqeqt1gLdlLE1RL3U9ppszTIvYDg1/ZkBOpoNlguqBBb3+Qb8N+wVmkTLnfsE/J0eay4QiSBZlUCC/CtxHhZGriidVyPGjULgsAZbp3TQAc/zFyRqdl/TkKlF9R7RdZBlSRbED8OcpVvUIBjWhB/fePzbUh4TVmYzrhpy2KKa21p4t1J07sQ1SybdGpzlM6z3kxYLBUDwFCWGIwQefVB7ooLC579fiogget4r8Sc/jis+mM5i2/Garz/JR3u41E3/Gu71v4VB7wUqvfQMIWooU39r8lGHgFZ0EaR30e1Q7fP0i5jEFBcwAwU2q1TkCtRieIprYn/z+DR26pPfmJI3IXZEEUFuWDY0Z9ZZ9gQv8ZEtjPswa0x5QI5hBgotpH9QlSb7AsVEeozqkEegqDcPeiupFWrfZf1XNrAtrIcWUtVMXU2qB0OxgOVdpQlI1s11tOrVeo891ntjZmZyth0t7+GozlELBDD67KW/IStIlim/xOQe+SEb5+KwV+FEH8B321yWNGbrF3Kv8cU6ALcNYfHo8mKbYKRLwGlqRTcYr0U6MyxGJ3IgcmxbN4XVFyUWBd8BRVMQUoVlObTjZcdu9o=
X-Forefront-Antispam-Report:
 CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn;PTR:;CAT:NONE;SFS:(13230040)(366016)(7416014)(52116014)(1800799024)(41320700013)(38350700014)(921020);DIR:OUT;SFP:1102;
X-MS-Exchange-AntiSpam-MessageData-ChunkCount: 1
X-MS-Exchange-AntiSpam-MessageData-0:
 =?us-ascii?Q?4STfA4W7heBRiBx3pItkEu4WLrE45RI9afh4PwsfFNlpBzBc8JGKRv7xhQCG?=
 =?us-ascii?Q?GZp/g7YGgG7/Nxk1lEb5/Pm3YkegcD2P2A0ZS1GC43OmR2zZQSFcX01oIzB/?=
 =?us-ascii?Q?dDzByjKfjVhCihWQMWPpq0hbbfp0vX7TU+LB7j3wpbKZb6ow6IxlM8n5ThlX?=
 =?us-ascii?Q?aftXT3Ct9k3u2PXIgVG58nf6t3e2cjFFj3x54Phc/QYRRV5h1557j0HO0fpQ?=
 =?us-ascii?Q?r4mrEnt+XFTpWUIk05m7JhmC8gu3cEg4Y0G4EFTXNhVbPNIuwZFIvRMwX92+?=
 =?us-ascii?Q?Ot/GQYcMPKoB5BFDuoqdhajOesRBnJ+Bray9c9StINOOd77M6JWNChU0uWLs?=
 =?us-ascii?Q?TMlctgs87AdhTSCahjEsVaRzDravFg4bMwQxT36UlgRUcG+G1dN938rJB0JS?=
 =?us-ascii?Q?99whnGgZ/5B299D1j9E4vU5Gxv9R4Ach5yIy5VkDHHo5cGBu4pw3oeXw9a0N?=
 =?us-ascii?Q?s2LWLVgkJ16NxRJu/4KxqMbCGzpC2fKIW4S9qfI3TC4eb3WGBoLTzsEkCEay?=
 =?us-ascii?Q?CXA9IJza9sxxq5uOfmSezzhI+7vvE/p/PRtOam9z1OZMK3jB+wENiJuvtj8h?=
 =?us-ascii?Q?3ajJvGgrP6CPAAbgJVeAy3Jgjzlq72VAPS2+f58eiFiKTQZoIq+8XywlsCDM?=
 =?us-ascii?Q?8b8L0Orq4iFdyoMMjeal8DZfeZwnhc6l8Zg3/DztcT5N3qBF7DoHMFay1U21?=
 =?us-ascii?Q?1cw34o9qrsrpo2+aQUAEM2uIv+RtCIwhJZrGvwJQzzH9wDVspUFTj2QF6RJU?=
 =?us-ascii?Q?pZUVHtU1to9gWp/jEG3bXBUJjL6jCmENpM/WChUV31ONkP/jjp+OtEzkgT+F?=
 =?us-ascii?Q?rJ3oFAT9lTqO+2R6JbafvwUrWD3Yy8tQaJon2SXwdJHa1ifNHo4B1jEBKpov?=
 =?us-ascii?Q?6MY/J3yGCk6S09vp5wAieXXVVuNfHNSmDB00HaiRoiC6RTYY3fP8sQb/s2HZ?=
 =?us-ascii?Q?B24q+buTWfXrqrhIBFuxIvDvzxgxYsu+0y9mnkKlnKN+3IkBYXwNaV10vIJ+?=
 =?us-ascii?Q?f25r1Nf2o5dszTnJS+Zfq3ANrVsxw9O6vpCp57E65dUkQoYmPeKFdsRhTogK?=
 =?us-ascii?Q?/vu/sVqcIqbKgwE+ugw+aKXzW4PnL2a7VmmeU5SuAoeB9TbvzpIiWHY4JODR?=
 =?us-ascii?Q?KgCseogY7kxSC3uWplRwNzFRv41tt6URwWhc80SneRgQ5xUAyjaCT8n4pyMb?=
 =?us-ascii?Q?95b7rNBsOKf9f5bsPGhFXMXzk0w6rdZZRqEiH840KxG9BqrB1bZoW2HrsgUX?=
 =?us-ascii?Q?Idf2zDWXTOre+UEVkFWiJpN4BOyaeAm2fWo5z/jcasHRSvZV5dc4XlhNOl+N?=
 =?us-ascii?Q?HyKAWQsX3lr6soubb/AYIX5rISCOt8Q7qtXMCS6Yi/POIU/XPwDQRjtbutGy?=
 =?us-ascii?Q?APCg2pvyC+t6eGgKRlwHXM8chVhZBaDGCv/6ZQYHV1Z8mP7Ld3PakaeU35fQ?=
 =?us-ascii?Q?wGzxNDuXj3aB8WpnMNSFhMwIJSwlpzUhbNtBmJ12FgrIGPrBW+HYtM+LXHvv?=
 =?us-ascii?Q?1owkbOUgy9Zq1Sw171Y4fHrRd7hP9zI6kzwaRmH0sJD560Lg0JOp7sWyJXRi?=
 =?us-ascii?Q?9eOlrzqzo77k4YcIXc9rv0xIblwMFrOe12hVlZkGnbQihKADpgzHGFEop9X+?=
 =?us-ascii?Q?GQ=3D=3D?=
X-MS-Exchange-CrossTenant-Network-Message-Id: 798507e6-e299-4257-7f9a-08de1de3cda7
X-MS-Exchange-CrossTenant-AuthSource: ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 07 Nov 2025 09:55:37.9542
 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 06fe3fa3-1221-43d3-861b-5a4ee687a85c
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: kpsfoeGIE6zm9z5ndMhIcexrqRmEfb1Nekh8I9+hzZjEdYBMwXFpxK7z9ETtDmE8AyZFeFS0cDZb8tk+Mx/Xz1Je1I9tgTjFfrlsrxXfJUw=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: ZQ2PR01MB1305
X-OriginatorOrg: starfivetech.com

VisionFive 2 Lite is a mini SBC based on the StarFive JH7110S industrial
SoC which can run at -40~85 degrees centigrade and up to 1.25GHz.

Board features:
- JH7110S SoC
- 4/8 GiB LPDDR4 DRAM
- AXP15060 PMIC
- 40 pin GPIO header
- 1x USB 3.0 host port
- 3x USB 2.0 host port
- 1x M.2 M-Key (size: 2242)
- 1x MicroSD slot (optional non-removable 64GiB eMMC)
- 1x QSPI Flash
- 1x I2C EEPROM
- 1x 1Gbps Ethernet port
- SDIO-based Wi-Fi & UART-based Bluetooth
- 1x HDMI port
- 1x 2-lane DSI
- 1x 2-lane CSI

VisionFive 2 Lite schematics: https://doc-en.rvspace.org/VisionFive2Lite/PDF/VF2_LITE_V1.10_TF_20250818_SCH.pdf
VisionFive 2 Lite Quick Start Guide: https://doc-en.rvspace.org/VisionFive2Lite/VisionFive2LiteQSG/index.html
More documents: https://doc-en.rvspace.org/Doc_Center/visionfive_2_lite.html

Changes since v1:
- Drop patch 1 because it is applied.
- Rename jh7110.dtsi to jh711x.dtsi.
- Move the content of jh7110-common.dtsi to the new file
  jh711x-common.dtsi and move opp table to jh7110-common.dtsi.
patch 4:
- Move the uncommon nodes to jh7110-common.dtsi instead of board dts.
patch 5:
- Add jh7110s-common.dtsi and include it in jh7110s-starfive-visionfive-2-lite.dtsi.

Changes since RFC:
- Add jh7110s compatible to the generic cpufreq driver.
- Fix the dtbs_check error by adding the missing "enable-gpios" property
  in jh7110 pcie dt-bindings.
- Rebase on the latest mainline.
- Add VisionFive 2 Lite eMMC board device tree and add a common board dtsi
  for VisionFive 2 Lite variants.
- Add usb switch pin configuration (GPIO62).
- Improve the commit messages.

History:
v1: https://lore.kernel.org/all/20251016080054.12484-1-hal.feng@starfivetech.com/
RFC: https://lore.kernel.org/all/20250821100930.71404-1-hal.feng@starfivetech.com/

Hal Feng (8):
  dt-bindings: PCI: starfive,jh7110-pcie: Add enable-gpios property
  dt-bindings: riscv: Add StarFive JH7110S SoC and VisionFive 2 Lite
    board
  riscv: dts: starfive: Rename jh7110.dtsi to jh711x.dtsi
  riscv: dts: starfive: Split jh7110-common.dtsi and move opp table to
    it
  riscv: dts: starfive: jh711x-common: Move out some nodes to jh7110
    common dtsi
  riscv: dts: starfive: Add common board dtsi for JH7110s and VisionFive
    2 Lite variants
  riscv: dts: starfive: Add VisionFive 2 Lite board device tree
  riscv: dts: starfive: Add VisionFive 2 Lite eMMC board device tree

 .../bindings/pci/starfive,jh7110-pcie.yaml    |   4 +
 .../devicetree/bindings/riscv/starfive.yaml   |   6 +
 arch/riscv/boot/dts/starfive/Makefile         |   3 +
 .../boot/dts/starfive/jh7110-common.dtsi      | 653 +----------------
 .../boot/dts/starfive/jh7110s-common.dtsi     |  27 +
 ...h7110s-starfive-visionfive-2-lite-emmc.dts |  22 +
 .../jh7110s-starfive-visionfive-2-lite.dts    |  20 +
 .../jh7110s-starfive-visionfive-2-lite.dtsi   | 126 ++++
 .../boot/dts/starfive/jh711x-common.dtsi      | 656 ++++++++++++++++++
 .../dts/starfive/{jh7110.dtsi => jh711x.dtsi} |  16 -
 10 files changed, 879 insertions(+), 654 deletions(-)
 create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-common.dtsi
 create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite-emmc.dts
 create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite.dts
 create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite.dtsi
 create mode 100644 arch/riscv/boot/dts/starfive/jh711x-common.dtsi
 rename arch/riscv/boot/dts/starfive/{jh7110.dtsi => jh711x.dtsi} (99%)


base-commit: df5d79720b152e7ff058f11ed7e88d5b5c8d2a0c
-- 
2.43.2


From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from CHN02-BJS-obe.outbound.protection.partner.outlook.cn (mail-bjschn02on2111.outbound.protection.partner.outlook.cn [139.219.17.111])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 7898331B81C;
	Fri,  7 Nov 2025 11:09:07 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=fail smtp.client-ip=139.219.17.111
ARC-Seal:i=2; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762513751; cv=fail; b=QYrxRFup6wZcmE+vz74EKsk0nGyz/IkKsI/JxdgBauTjRAO283QJu44isneEIvkAST898fCDr8FEqOH64vQroF+2aOedeBW8jj8kGhXjg5ip2lEn0F5u3kAfCiyKbRN9PDahoQMLGzQLd/KvhOgx6Bi1l12IGmcpPDquKHJTMuY=
ARC-Message-Signature:i=2; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762513751; c=relaxed/simple;
	bh=ZqrXIXWIFl3QjiE1o2y500s0CX0D0lLb9NXFXexY75I=;
	h=From:To:Cc:Subject:Date:Message-ID:In-Reply-To:References:
	 Content-Type:MIME-Version; b=pvsh+Bb4M3tqIkmQNHfn6PmA+R5zUTfYEnX4H40KWkAr7SFFkQQj6AXvDeM7lebyk4cJLgXPVgCxbNeKFNR5K7luXlBu+wGp2YLuzPCa7I9E55vMiC/HlwOR7mjnKIcgXrGIEuFIXnkvNIUd7bvTGQfvz72KvtxtvU1iB2DzmUA=
ARC-Authentication-Results:i=2; smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com; spf=pass smtp.mailfrom=starfivetech.com; arc=fail smtp.client-ip=139.219.17.111
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=starfivetech.com
Received: from ZQ2PR01MB1305.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:6::14) by ZQ0PR01MB1302.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:1b::9) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9298.12; Fri, 7 Nov
 2025 10:54:13 +0000
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=f7z++mRuCYrPOwlJ2dh+6jaLd144Y8a9pP7S6FuR8Sb55fss39ScrMieYZCo//e3cOWl3XClQZP0yitXS7/i+5xxkoyIklpTCRNoKJLtRlO3O3blhKxRMf83pN7xvvjH6xNAdHbGbBt7Q/9sZ3BKJz66MiN/TgpOftz7Jdt03AhOrq40DbSwSyBVFZ3HrxuAUQXvSYuEpj92PB2lBu41VtYcbANuogZ3gZz6nWkH/ZKKrMbyfvA3HAmU6dyCSxgIOgOk+JBmW6B9ijFVmTNQhaLskBT8I11joZg6y/8tujkga5AJCcFKk4fmmQBPBlwJ7WvD0cYA8SfZRuwDqIxi4Q==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=mqHGOPzizN1ZM8vl7b5SmVvlZOgfrD7BiMDWGn+mZbg=;
 b=G/SiKD+vkzaMMo9r258OZd1cs0ngBHS9b8Pj1V2YpJJbB8qUL1LsPGhyLvu9CaAIZPsC26UD6vZtDFPwEvbQRRvtK7aOTtX3tMeD+C8HKTHeBB28ybE1ASuCwzOWgugST27/5kU+dN6Y37HGkVmpWVdPPJIqRqZDqbCcXDsIUiXG71J/BwhIax7UbXNCxkrcyxIHoTuOWPHBk4Lmd9QK0k7xhFA/OV0i2d1xBeVAUkHMV7CtB4ETYdUHH3dvoAA9O/Z47HpaEvifL9YzIma0dw8nZLN3B+jTDekhJIZjXdx15tbQGPuILnKB4NV1Yt17Mtsw9D9odLobSjggfEsB6A==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=starfivetech.com; dmarc=pass action=none
 header.from=starfivetech.com; dkim=pass header.d=starfivetech.com; arc=none
Authentication-Results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=starfivetech.com;
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:7::14) by ZQ2PR01MB1305.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:6::14) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9298.12; Fri, 7 Nov
 2025 09:55:42 +0000
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7]) by ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7%6]) with mapi id 15.20.9298.010; Fri, 7 Nov 2025
 09:55:42 +0000
From: Hal Feng <hal.feng@starfivetech.com>
To: Conor Dooley <conor+dt@kernel.org>,
	Rob Herring <robh@kernel.org>,
	Krzysztof Kozlowski <krzk+dt@kernel.org>,
	Palmer Dabbelt <palmer@dabbelt.com>,
	Paul Walmsley <pjw@kernel.org>,
	Albert Ou <aou@eecs.berkeley.edu>,
	"Rafael J . Wysocki" <rafael@kernel.org>,
	Viresh Kumar <viresh.kumar@linaro.org>,
	Bjorn Helgaas <bhelgaas@google.com>,
	Lorenzo Pieralisi <lpieralisi@kernel.org>,
	=?UTF-8?q?Krzysztof=20Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
	Manivannan Sadhasivam <mani@kernel.org>,
	Emil Renner Berthing <emil.renner.berthing@canonical.com>,
	Heinrich Schuchardt <heinrich.schuchardt@canonical.com>,
	E Shattow <e@freeshell.de>
Cc: Hal Feng <hal.feng@starfivetech.com>,
	devicetree@vger.kernel.org,
	linux-riscv@lists.infradead.org,
	linux-kernel@vger.kernel.org
Subject: [PATCH v2 4/8] riscv: dts: starfive: Split jh7110-common.dtsi and move opp table to it
Date: Fri,  7 Nov 2025 17:55:26 +0800
Message-ID: <20251107095530.114775-5-hal.feng@starfivetech.com>
X-Mailer: git-send-email 2.43.2
In-Reply-To: <20251107095530.114775-1-hal.feng@starfivetech.com>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
Content-Transfer-Encoding: 8bit
Content-Type: text/plain
X-ClientProxiedBy: ZQ0PR01CA0014.CHNPR01.prod.partner.outlook.cn (10.2.0.83)
 To ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn (10.2.1.78)
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-MS-PublicTrafficType: Email
X-MS-TrafficTypeDiagnostic:
	ZQ2PR01MB1307:EE_|ZQ2PR01MB1305:EE_|ZQ0PR01MB1302:EE_
X-MS-Office365-Filtering-Correlation-Id: 0edba901-81c7-4c49-9e42-08de1de3d077
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam:
 BCL:0;ARA:13230040|366016|7416014|52116014|1800799024|41320700013|38350700014|921020;
X-Microsoft-Antispam-Message-Info:
 /aG7xfXc0q1wdie5CvxSO3nC1+fUkXQFk5+71NBoHiFmPhNRbpv6KYsGO220RN5BYsXq5Bp/lRbgi/EceFD0dFSNBqhefp0kkT6ca0yxTfTfjDruJ6Rkz+270JIBWXfLZ8PoWkGoKJpsAznbnpt3rISbNRZH1suYl9/wJoW8yQtyQVCS4bW1ZxJrSaAVplF8zKxDfBk0S7oaB+63wnbxshIVCDxlM3SpaMNIyH3Uz1RIgGqHpde4tJk1HVRf2SlzifVCJoTJmD4RGDhasnSeg4Ye38ffZ5UDRAPdauuLC2ZMK1WHXlTaKbRm8L0zZ3cki6QP0VNfN9JKRh5/bSABa3XqdkpJ+fk73dB2HbBTa8iBTk8BHX/a8U9DliNGHOGfnWeGhhXiA47V0sTgAv34BZKt87q7Xfk0iCryRSksg9kYs4sSTZcQse0kYsuD4oOudjR+uCnuCrwB/3IBZksxNPjHPADlm8SHDNvRYf4L/KT/SLAtPnjxttVnWB5isvATCBGPGuIklj0gbeAiuZv7XOYfi7geHnVcMEaBnfKhxxYST+kwv8vc9xvJVeExuaJyjmBV/X6DlDj3DjJwdUuDyQ6VXkQtWIKwMifQh+ECq60=
X-Forefront-Antispam-Report:
 CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn;PTR:;CAT:NONE;SFS:(13230040)(366016)(7416014)(52116014)(1800799024)(41320700013)(38350700014)(921020);DIR:OUT;SFP:1102;
X-MS-Exchange-AntiSpam-MessageData-ChunkCount: 1
X-MS-Exchange-AntiSpam-MessageData-0:
 =?us-ascii?Q?ApBbncwN+6nIpAZUN1QOloH9e2XJZrQyl6TyqwO1kKvCYWPKrieJAFFrpKy0?=
 =?us-ascii?Q?pbfTzrm/g1vEJbg8T7tHbDIc+xoqDhvjkGQR5rHR2AXWJQCT1VWf0LcgTFXi?=
 =?us-ascii?Q?0xZmiYeaDlbQC11y/1q+Xr7sNnvtVe7er4hJvoqN9zR2CTZl7vcy3IpXeg+Q?=
 =?us-ascii?Q?KSjZOQ8TpewEt5YlGDqx9EFEqscFfDZjOFK5Iaa81nyNPEdrTepbL23r0VsT?=
 =?us-ascii?Q?iBNzJlT3KZQg7T+ZB0yoMlm51U25VVTYaTIKKxBo41aLtxmbELHYLhxc77Y+?=
 =?us-ascii?Q?qs89f4REgkRwUMp7XdS3Ox5rItoEbc3+jchRP0vZlxiSQF8QnrM7KZxVx4Gm?=
 =?us-ascii?Q?UTkwoYoVofelaBqY0YiLhrxlt4e5Zl3kkYsoy0kbM1+lBUUCsrnGGSXsKsFj?=
 =?us-ascii?Q?NvwAjy/WfU9hbsZIDLbfS+EpTm1qsB2Wy0rSiriyMlKl+/DSQw5e4vE0FDrj?=
 =?us-ascii?Q?dK9BZZW0b2fE4aVg96UMCro0FYFstcAPCs4KDc1SKdD2jilhN+FsF2X123yc?=
 =?us-ascii?Q?h1Emw+ag2xb450NU7QdVUPTnjzwmI68YTn593wjyDK+dBg4gC8J80g3+dbli?=
 =?us-ascii?Q?jdAUOwCwLgCiqh17aap4y/czAPwuFfa2PRuD79u6GtlkbGxeDZD1gLlsJ5W/?=
 =?us-ascii?Q?jC3y2Yg+KhQIjHAOfJd7kCH9eMdRfC6XOIcAdyPOBOpT6z8x110I2mCXr/gY?=
 =?us-ascii?Q?F607a7JEtNJDtzTkbSJjCYr20TpmRqi0epasXq0VkJVDH6MzKbJAmPekrICp?=
 =?us-ascii?Q?xa8PT5muPtKGfxdsHJ93qaqwStCJwYy5x8xrOi1cgsfI6m21yT9FqdtdwsWK?=
 =?us-ascii?Q?zfX2FxeQCPgEBNhQM0BFTdRWEVIr8a0G5UvsB5K9dz0MenbsuoSUqJJfHqG0?=
 =?us-ascii?Q?InTZghD+b8VoYV/T/zA27jzUciWj+E6PujmWfmhyuYBSqbLG9Hu1EyXyHiQg?=
 =?us-ascii?Q?usJXzUuQS4IWzg9FuEBTyOJGb7bJjEqFCTj+EVBRk+pmHdKUL9rPqz1vEh2/?=
 =?us-ascii?Q?/PK6kOwIVbY9zGK5v6W9BBf7QjrLqfU34RuVE6bGmeUcF2zkt6yP/kV2f+S2?=
 =?us-ascii?Q?DBtp9ptAvMBqCOeA2FWGER74+/BPShlsR+z8Cib9pjL506gKWF7PV7OpV51G?=
 =?us-ascii?Q?EQej1kmwhPXBAJkmS4ppxe9cXPCqPnaKekV4CjyVQKznGyUEfXJ+kSYKRxLG?=
 =?us-ascii?Q?v1L93hNfj/h31BcwHPkiaaDmG5WLc1KSalxRSdpg9h/MVSnuJvOAK2jPPQdb?=
 =?us-ascii?Q?4tcVT53ZWCe6K2B+X7jtwtzJog9S9mDZ/59SwxKGKu0WnPYLX+Ql/dio/3Vb?=
 =?us-ascii?Q?/dfi7UbMqRB3nAFvaTbkGdXFqIk0J7VX2De2exU1eEdXoFsFjwyZSwmKXjjA?=
 =?us-ascii?Q?nM5CuQ7hebHFywCvDRRhcfuBfkzK6F+QAsniDySbfarNlFOpktDSwV3y5DnS?=
 =?us-ascii?Q?Gc1kQB15eTcZyaivjNd6qFzjROwFmzl4UcjiAeAtn8RNgWr7Nhx14Lm6IYkQ?=
 =?us-ascii?Q?UsE0WR3AoYUCVHKfo9UNnjA//MEv4PwGrIFSsjDLfB1cJFekCg+7gecuN9bZ?=
 =?us-ascii?Q?5FTvYr0wAutPhADUlcohPRW/cilSz2piGQxs/1fz3T+pizKliZUt46g1xsKi?=
 =?us-ascii?Q?ew=3D=3D?=
X-MS-Exchange-CrossTenant-Network-Message-Id: 0edba901-81c7-4c49-9e42-08de1de3d077
X-MS-Exchange-CrossTenant-AuthSource: ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 07 Nov 2025 09:55:42.7640
 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 06fe3fa3-1221-43d3-861b-5a4ee687a85c
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: tRBDTnwr6wPtYk3WRxW7RtTKYo8fp1cghVkpnlBoV3+csAZASCGwNB98Wkf3NyUP13ZVmg/f9Yo5PBao23aC8TQ7Rm5LVXTkpt0F0JGkOl8=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: ZQ2PR01MB1305
X-OriginatorOrg: starfivetech.com

Preparing to add JH7110S based board device trees, move the content of
jh7110-common.dtsi to the new file jh711x-common.dtsi and move opp table
to jh7110-common.dtsi.

Signed-off-by: Hal Feng <hal.feng@starfivetech.com>
---
 .../boot/dts/starfive/jh7110-common.dtsi      | 665 +-----------------
 .../boot/dts/starfive/jh711x-common.dtsi      | 664 +++++++++++++++++
 arch/riscv/boot/dts/starfive/jh711x.dtsi      |  16 -
 3 files changed, 678 insertions(+), 667 deletions(-)
 create mode 100644 arch/riscv/boot/dts/starfive/jh711x-common.dtsi

diff --git a/arch/riscv/boot/dts/starfive/jh7110-common.dtsi b/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
index 809274625615..dd5805ef70a1 100644
--- a/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
+++ b/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
@@ -5,660 +5,23 @@
  */
 
 /dts-v1/;
-#include "jh711x.dtsi"
-#include "jh7110-pinfunc.h"
-#include <dt-bindings/gpio/gpio.h>
-#include <dt-bindings/leds/common.h>
-#include <dt-bindings/pinctrl/starfive,jh7110-pinctrl.h>
+#include "jh711x-common.dtsi"
 
-/ {
-	aliases {
-		ethernet0 = &gmac0;
-		i2c0 = &i2c0;
-		i2c2 = &i2c2;
-		i2c5 = &i2c5;
-		i2c6 = &i2c6;
-		mmc0 = &mmc0;
-		mmc1 = &mmc1;
-		serial0 = &uart0;
+&cpu_opp {
+	opp-375000000 {
+		opp-hz = /bits/ 64 <375000000>;
+		opp-microvolt = <800000>;
 	};
-
-	chosen {
-		stdout-path = "serial0:115200n8";
-	};
-
-	memory@40000000 {
-		device_type = "memory";
-		reg = <0x0 0x40000000 0x1 0x0>;
-		bootph-pre-ram;
-	};
-
-	gpio-restart {
-		compatible = "gpio-restart";
-		gpios = <&sysgpio 35 GPIO_ACTIVE_HIGH>;
-		priority = <224>;
-	};
-
-	leds {
-		compatible = "gpio-leds";
-
-		led_status_power: led-0 {
-			gpios = <&aongpio 3 GPIO_ACTIVE_HIGH>;
-		};
-	};
-
-	pwmdac_codec: audio-codec {
-		compatible = "linux,spdif-dit";
-		#sound-dai-cells = <0>;
-	};
-
-	sound {
-		compatible = "simple-audio-card";
-		simple-audio-card,name = "StarFive-PWMDAC-Sound-Card";
-		#address-cells = <1>;
-		#size-cells = <0>;
-
-		simple-audio-card,dai-link@0 {
-			reg = <0>;
-			format = "left_j";
-			bitclock-master = <&sndcpu0>;
-			frame-master = <&sndcpu0>;
-
-			sndcpu0: cpu {
-				sound-dai = <&pwmdac>;
-			};
-
-			codec {
-				sound-dai = <&pwmdac_codec>;
-			};
-		};
-	};
-};
-
-&cpus {
-	timebase-frequency = <4000000>;
-};
-
-&dvp_clk {
-	clock-frequency = <74250000>;
-};
-
-&gmac0_rgmii_rxin {
-	clock-frequency = <125000000>;
-};
-
-&gmac0_rmii_refin {
-	clock-frequency = <50000000>;
-};
-
-&gmac1_rgmii_rxin {
-	clock-frequency = <125000000>;
-};
-
-&gmac1_rmii_refin {
-	clock-frequency = <50000000>;
-};
-
-&hdmitx0_pixelclk {
-	clock-frequency = <297000000>;
-};
-
-&i2srx_bclk_ext {
-	clock-frequency = <12288000>;
-};
-
-&i2srx_lrck_ext {
-	clock-frequency = <192000>;
-};
-
-&i2stx_bclk_ext {
-	clock-frequency = <12288000>;
-};
-
-&i2stx_lrck_ext {
-	clock-frequency = <192000>;
-};
-
-&mclk_ext {
-	clock-frequency = <12288000>;
-};
-
-&osc {
-	clock-frequency = <24000000>;
-};
-
-&rtc_osc {
-	clock-frequency = <32768>;
-};
-
-&tdm_ext {
-	clock-frequency = <49152000>;
-};
-
-&camss {
-	assigned-clocks = <&ispcrg JH7110_ISPCLK_DOM4_APB_FUNC>,
-			  <&ispcrg JH7110_ISPCLK_MIPI_RX0_PXL>;
-	assigned-clock-rates = <49500000>, <198000000>;
-
-	ports {
-		#address-cells = <1>;
-		#size-cells = <0>;
-
-		port@0 {
-			reg = <0>;
-		};
-
-		port@1 {
-			reg = <1>;
-
-			camss_from_csi2rx: endpoint {
-				remote-endpoint = <&csi2rx_to_camss>;
-			};
-		};
+	opp-500000000 {
+		opp-hz = /bits/ 64 <500000000>;
+		opp-microvolt = <800000>;
 	};
-};
-
-&csi2rx {
-	assigned-clocks = <&ispcrg JH7110_ISPCLK_VIN_SYS>;
-	assigned-clock-rates = <297000000>;
-
-	ports {
-		#address-cells = <1>;
-		#size-cells = <0>;
-
-		port@0 {
-			reg = <0>;
-
-			/* remote MIPI sensor endpoint */
-		};
-
-		port@1 {
-			reg = <1>;
-
-			csi2rx_to_camss: endpoint {
-				remote-endpoint = <&camss_from_csi2rx>;
-			};
-		};
+	opp-750000000 {
+		opp-hz = /bits/ 64 <750000000>;
+		opp-microvolt = <800000>;
 	};
-};
-
-&gmac0 {
-	phy-handle = <&phy0>;
-	phy-mode = "rgmii-id";
-
-	mdio {
-		#address-cells = <1>;
-		#size-cells = <0>;
-		compatible = "snps,dwmac-mdio";
-
-		phy0: ethernet-phy@0 {
-			reg = <0>;
-		};
+	opp-1500000000 {
+		opp-hz = /bits/ 64 <1500000000>;
+		opp-microvolt = <1040000>;
 	};
 };
-
-&i2c0 {
-	clock-frequency = <100000>;
-	i2c-sda-hold-time-ns = <300>;
-	i2c-sda-falling-time-ns = <510>;
-	i2c-scl-falling-time-ns = <510>;
-	pinctrl-names = "default";
-	pinctrl-0 = <&i2c0_pins>;
-};
-
-&i2c2 {
-	clock-frequency = <100000>;
-	i2c-sda-hold-time-ns = <300>;
-	i2c-sda-falling-time-ns = <510>;
-	i2c-scl-falling-time-ns = <510>;
-	pinctrl-names = "default";
-	pinctrl-0 = <&i2c2_pins>;
-	status = "okay";
-};
-
-&i2c5 {
-	clock-frequency = <100000>;
-	i2c-sda-hold-time-ns = <300>;
-	i2c-sda-falling-time-ns = <510>;
-	i2c-scl-falling-time-ns = <510>;
-	pinctrl-names = "default";
-	pinctrl-0 = <&i2c5_pins>;
-	status = "okay";
-
-	axp15060: pmic@36 {
-		compatible = "x-powers,axp15060";
-		reg = <0x36>;
-		interrupt-controller;
-		#interrupt-cells = <1>;
-
-		regulators {
-			vcc_3v3: dcdc1 {
-				regulator-boot-on;
-				regulator-always-on;
-				regulator-min-microvolt = <3300000>;
-				regulator-max-microvolt = <3300000>;
-				regulator-name = "vcc_3v3";
-			};
-
-			vdd_cpu: dcdc2 {
-				regulator-always-on;
-				regulator-min-microvolt = <500000>;
-				regulator-max-microvolt = <1540000>;
-				regulator-name = "vdd_cpu";
-			};
-
-			emmc_vdd: aldo4 {
-				regulator-boot-on;
-				regulator-always-on;
-				regulator-min-microvolt = <1800000>;
-				regulator-max-microvolt = <3300000>;
-				regulator-name = "emmc_vdd";
-			};
-		};
-	};
-
-	eeprom@50 {
-		compatible = "atmel,24c04";
-		reg = <0x50>;
-		bootph-pre-ram;
-		pagesize = <16>;
-	};
-};
-
-&i2c6 {
-	clock-frequency = <100000>;
-	i2c-sda-hold-time-ns = <300>;
-	i2c-sda-falling-time-ns = <510>;
-	i2c-scl-falling-time-ns = <510>;
-	pinctrl-names = "default";
-	pinctrl-0 = <&i2c6_pins>;
-	status = "okay";
-};
-
-&mmc0 {
-	max-frequency = <100000000>;
-	assigned-clocks = <&syscrg JH7110_SYSCLK_SDIO0_SDCARD>;
-	assigned-clock-rates = <50000000>;
-	bus-width = <8>;
-	bootph-pre-ram;
-	cap-mmc-highspeed;
-	mmc-ddr-1_8v;
-	mmc-hs200-1_8v;
-	cap-mmc-hw-reset;
-	pinctrl-names = "default";
-	pinctrl-0 = <&mmc0_pins>;
-	vmmc-supply = <&vcc_3v3>;
-	vqmmc-supply = <&emmc_vdd>;
-	status = "okay";
-};
-
-&mmc1 {
-	max-frequency = <100000000>;
-	assigned-clocks = <&syscrg JH7110_SYSCLK_SDIO1_SDCARD>;
-	assigned-clock-rates = <50000000>;
-	bus-width = <4>;
-	bootph-pre-ram;
-	cd-gpios = <&sysgpio 41 GPIO_ACTIVE_LOW>;
-	disable-wp;
-	cap-sd-highspeed;
-	pinctrl-names = "default";
-	pinctrl-0 = <&mmc1_pins>;
-	status = "okay";
-};
-
-&pcie0 {
-	perst-gpios = <&sysgpio 26 GPIO_ACTIVE_LOW>;
-	phys = <&pciephy0>;
-	pinctrl-names = "default";
-	pinctrl-0 = <&pcie0_pins>;
-};
-
-&pcie1 {
-	perst-gpios = <&sysgpio 28 GPIO_ACTIVE_LOW>;
-	phys = <&pciephy1>;
-	pinctrl-names = "default";
-	pinctrl-0 = <&pcie1_pins>;
-};
-
-&pwmdac {
-	pinctrl-names = "default";
-	pinctrl-0 = <&pwmdac_pins>;
-};
-
-&qspi {
-	#address-cells = <1>;
-	#size-cells = <0>;
-	status = "okay";
-
-	nor_flash: flash@0 {
-		compatible = "jedec,spi-nor";
-		reg = <0>;
-		bootph-pre-ram;
-		cdns,read-delay = <2>;
-		spi-max-frequency = <100000000>;
-		cdns,tshsl-ns = <1>;
-		cdns,tsd2d-ns = <1>;
-		cdns,tchsh-ns = <1>;
-		cdns,tslch-ns = <1>;
-
-		partitions {
-			compatible = "fixed-partitions";
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			spl@0 {
-				reg = <0x0 0xf0000>;
-			};
-			uboot-env@f0000 {
-				reg = <0xf0000 0x10000>;
-			};
-			uboot@100000 {
-				reg = <0x100000 0xf00000>;
-			};
-		};
-	};
-};
-
-&pwm {
-	pinctrl-names = "default";
-	pinctrl-0 = <&pwm_pins>;
-};
-
-&spi0 {
-	pinctrl-names = "default";
-	pinctrl-0 = <&spi0_pins>;
-};
-
-&syscrg {
-	assigned-clocks = <&syscrg JH7110_SYSCLK_CPU_ROOT>,
-			  <&syscrg JH7110_SYSCLK_BUS_ROOT>,
-			  <&syscrg JH7110_SYSCLK_PERH_ROOT>,
-			  <&syscrg JH7110_SYSCLK_QSPI_REF>,
-			  <&syscrg JH7110_SYSCLK_CPU_CORE>,
-			  <&pllclk JH7110_PLLCLK_PLL0_OUT>;
-	assigned-clock-parents = <&pllclk JH7110_PLLCLK_PLL0_OUT>,
-				 <&pllclk JH7110_PLLCLK_PLL2_OUT>,
-				 <&pllclk JH7110_PLLCLK_PLL2_OUT>,
-				 <&syscrg JH7110_SYSCLK_QSPI_REF_SRC>;
-	assigned-clock-rates = <0>, <0>, <0>, <0>, <500000000>, <1500000000>;
-};
-
-&sysgpio {
-	i2c0_pins: i2c0-0 {
-		i2c-pins {
-			pinmux = <GPIOMUX(57, GPOUT_LOW,
-					      GPOEN_SYS_I2C0_CLK,
-					      GPI_SYS_I2C0_CLK)>,
-				 <GPIOMUX(58, GPOUT_LOW,
-					      GPOEN_SYS_I2C0_DATA,
-					      GPI_SYS_I2C0_DATA)>;
-			bias-disable; /* external pull-up */
-			input-enable;
-			input-schmitt-enable;
-		};
-	};
-
-	i2c2_pins: i2c2-0 {
-		i2c-pins {
-			pinmux = <GPIOMUX(3, GPOUT_LOW,
-					     GPOEN_SYS_I2C2_CLK,
-					     GPI_SYS_I2C2_CLK)>,
-				 <GPIOMUX(2, GPOUT_LOW,
-					     GPOEN_SYS_I2C2_DATA,
-					     GPI_SYS_I2C2_DATA)>;
-			bias-disable; /* external pull-up */
-			input-enable;
-			input-schmitt-enable;
-		};
-	};
-
-	i2c5_pins: i2c5-0 {
-		bootph-pre-ram;
-
-		i2c-pins {
-			pinmux = <GPIOMUX(19, GPOUT_LOW,
-					      GPOEN_SYS_I2C5_CLK,
-					      GPI_SYS_I2C5_CLK)>,
-				 <GPIOMUX(20, GPOUT_LOW,
-					      GPOEN_SYS_I2C5_DATA,
-					      GPI_SYS_I2C5_DATA)>;
-			bias-disable; /* external pull-up */
-			bootph-pre-ram;
-			input-enable;
-			input-schmitt-enable;
-		};
-	};
-
-	i2c6_pins: i2c6-0 {
-		i2c-pins {
-			pinmux = <GPIOMUX(16, GPOUT_LOW,
-					      GPOEN_SYS_I2C6_CLK,
-					      GPI_SYS_I2C6_CLK)>,
-				 <GPIOMUX(17, GPOUT_LOW,
-					      GPOEN_SYS_I2C6_DATA,
-					      GPI_SYS_I2C6_DATA)>;
-			bias-disable; /* external pull-up */
-			input-enable;
-			input-schmitt-enable;
-		};
-	};
-
-	mmc0_pins: mmc0-0 {
-		mmc-pins {
-			pinmux = <PINMUX(PAD_SD0_CLK, 0)>,
-				 <PINMUX(PAD_SD0_CMD, 0)>,
-				 <PINMUX(PAD_SD0_DATA0, 0)>,
-				 <PINMUX(PAD_SD0_DATA1, 0)>,
-				 <PINMUX(PAD_SD0_DATA2, 0)>,
-				 <PINMUX(PAD_SD0_DATA3, 0)>,
-				 <PINMUX(PAD_SD0_DATA4, 0)>,
-				 <PINMUX(PAD_SD0_DATA5, 0)>,
-				 <PINMUX(PAD_SD0_DATA6, 0)>,
-				 <PINMUX(PAD_SD0_DATA7, 0)>;
-			bias-pull-up;
-			drive-strength = <12>;
-			input-enable;
-		};
-	};
-
-	mmc1_pins: mmc1-0 {
-		clk-pins {
-			pinmux = <GPIOMUX(10, GPOUT_SYS_SDIO1_CLK,
-					      GPOEN_ENABLE,
-					      GPI_NONE)>;
-			bias-pull-up;
-			drive-strength = <12>;
-			input-disable;
-			input-schmitt-disable;
-			slew-rate = <0>;
-		};
-
-		mmc-pins {
-			pinmux = <GPIOMUX(9, GPOUT_SYS_SDIO1_CMD,
-					     GPOEN_SYS_SDIO1_CMD,
-					     GPI_SYS_SDIO1_CMD)>,
-				 <GPIOMUX(11, GPOUT_SYS_SDIO1_DATA0,
-					      GPOEN_SYS_SDIO1_DATA0,
-					      GPI_SYS_SDIO1_DATA0)>,
-				 <GPIOMUX(12, GPOUT_SYS_SDIO1_DATA1,
-					      GPOEN_SYS_SDIO1_DATA1,
-					      GPI_SYS_SDIO1_DATA1)>,
-				 <GPIOMUX(7, GPOUT_SYS_SDIO1_DATA2,
-					     GPOEN_SYS_SDIO1_DATA2,
-					     GPI_SYS_SDIO1_DATA2)>,
-				 <GPIOMUX(8, GPOUT_SYS_SDIO1_DATA3,
-					     GPOEN_SYS_SDIO1_DATA3,
-					     GPI_SYS_SDIO1_DATA3)>;
-			bias-pull-up;
-			drive-strength = <12>;
-			input-enable;
-			input-schmitt-enable;
-			slew-rate = <0>;
-		};
-	};
-
-	pcie0_pins: pcie0-0 {
-		clkreq-pins {
-			pinmux = <GPIOMUX(27, GPOUT_LOW,
-					      GPOEN_DISABLE,
-					      GPI_NONE)>;
-			bias-pull-down;
-			drive-strength = <2>;
-			input-enable;
-			input-schmitt-disable;
-			slew-rate = <0>;
-		};
-
-		wake-pins {
-			pinmux = <GPIOMUX(32, GPOUT_LOW,
-					      GPOEN_DISABLE,
-					      GPI_NONE)>;
-			bias-pull-up;
-			drive-strength = <2>;
-			input-enable;
-			input-schmitt-disable;
-			slew-rate = <0>;
-		};
-	};
-
-	pcie1_pins: pcie1-0 {
-		clkreq-pins {
-			pinmux = <GPIOMUX(29, GPOUT_LOW,
-					      GPOEN_DISABLE,
-					      GPI_NONE)>;
-			bias-pull-down;
-			drive-strength = <2>;
-			input-enable;
-			input-schmitt-disable;
-			slew-rate = <0>;
-		};
-
-		wake-pins {
-			pinmux = <GPIOMUX(21, GPOUT_LOW,
-				      GPOEN_DISABLE,
-					      GPI_NONE)>;
-			bias-pull-up;
-			drive-strength = <2>;
-			input-enable;
-			input-schmitt-disable;
-			slew-rate = <0>;
-		};
-	};
-
-	pwmdac_pins: pwmdac-0 {
-		pwmdac-pins {
-			pinmux = <GPIOMUX(33, GPOUT_SYS_PWMDAC_LEFT,
-					      GPOEN_ENABLE,
-					      GPI_NONE)>,
-				 <GPIOMUX(34, GPOUT_SYS_PWMDAC_RIGHT,
-					      GPOEN_ENABLE,
-					      GPI_NONE)>;
-			bias-disable;
-			drive-strength = <2>;
-			input-disable;
-			input-schmitt-disable;
-			slew-rate = <0>;
-		};
-	};
-
-	pwm_pins: pwm-0 {
-		pwm-pins {
-			pinmux = <GPIOMUX(46, GPOUT_SYS_PWM_CHANNEL0,
-					      GPOEN_SYS_PWM0_CHANNEL0,
-					      GPI_NONE)>,
-				 <GPIOMUX(59, GPOUT_SYS_PWM_CHANNEL1,
-					      GPOEN_SYS_PWM0_CHANNEL1,
-					      GPI_NONE)>;
-			bias-disable;
-			drive-strength = <12>;
-			input-disable;
-			input-schmitt-disable;
-			slew-rate = <0>;
-		};
-	};
-
-	spi0_pins: spi0-0 {
-		mosi-pins {
-			pinmux = <GPIOMUX(52, GPOUT_SYS_SPI0_TXD,
-					      GPOEN_ENABLE,
-					      GPI_NONE)>;
-			bias-disable;
-			input-disable;
-			input-schmitt-disable;
-		};
-
-		miso-pins {
-			pinmux = <GPIOMUX(53, GPOUT_LOW,
-					      GPOEN_DISABLE,
-					      GPI_SYS_SPI0_RXD)>;
-			bias-pull-up;
-			input-enable;
-			input-schmitt-enable;
-		};
-
-		sck-pins {
-			pinmux = <GPIOMUX(48, GPOUT_SYS_SPI0_CLK,
-					      GPOEN_ENABLE,
-					      GPI_SYS_SPI0_CLK)>;
-			bias-disable;
-			input-disable;
-			input-schmitt-disable;
-		};
-
-		ss-pins {
-			pinmux = <GPIOMUX(49, GPOUT_SYS_SPI0_FSS,
-					      GPOEN_ENABLE,
-					      GPI_SYS_SPI0_FSS)>;
-			bias-disable;
-			input-disable;
-			input-schmitt-disable;
-		};
-	};
-
-	uart0_pins: uart0-0 {
-		tx-pins {
-			pinmux = <GPIOMUX(5, GPOUT_SYS_UART0_TX,
-					     GPOEN_ENABLE,
-					     GPI_NONE)>;
-			bias-disable;
-			drive-strength = <12>;
-			input-disable;
-			input-schmitt-disable;
-			slew-rate = <0>;
-		};
-
-		rx-pins {
-			pinmux = <GPIOMUX(6, GPOUT_LOW,
-					     GPOEN_DISABLE,
-					     GPI_SYS_UART0_RX)>;
-			bias-disable; /* external pull-up */
-			drive-strength = <2>;
-			input-enable;
-			input-schmitt-enable;
-			slew-rate = <0>;
-		};
-	};
-};
-
-&uart0 {
-	bootph-pre-ram;
-	pinctrl-names = "default";
-	pinctrl-0 = <&uart0_pins>;
-	status = "okay";
-};
-
-&U74_1 {
-	cpu-supply = <&vdd_cpu>;
-};
-
-&U74_2 {
-	cpu-supply = <&vdd_cpu>;
-};
-
-&U74_3 {
-	cpu-supply = <&vdd_cpu>;
-};
-
-&U74_4 {
-	cpu-supply = <&vdd_cpu>;
-};
diff --git a/arch/riscv/boot/dts/starfive/jh711x-common.dtsi b/arch/riscv/boot/dts/starfive/jh711x-common.dtsi
new file mode 100644
index 000000000000..809274625615
--- /dev/null
+++ b/arch/riscv/boot/dts/starfive/jh711x-common.dtsi
@@ -0,0 +1,664 @@
+// SPDX-License-Identifier: GPL-2.0 OR MIT
+/*
+ * Copyright (C) 2022 StarFive Technology Co., Ltd.
+ * Copyright (C) 2022 Emil Renner Berthing <kernel@esmil.dk>
+ */
+
+/dts-v1/;
+#include "jh711x.dtsi"
+#include "jh7110-pinfunc.h"
+#include <dt-bindings/gpio/gpio.h>
+#include <dt-bindings/leds/common.h>
+#include <dt-bindings/pinctrl/starfive,jh7110-pinctrl.h>
+
+/ {
+	aliases {
+		ethernet0 = &gmac0;
+		i2c0 = &i2c0;
+		i2c2 = &i2c2;
+		i2c5 = &i2c5;
+		i2c6 = &i2c6;
+		mmc0 = &mmc0;
+		mmc1 = &mmc1;
+		serial0 = &uart0;
+	};
+
+	chosen {
+		stdout-path = "serial0:115200n8";
+	};
+
+	memory@40000000 {
+		device_type = "memory";
+		reg = <0x0 0x40000000 0x1 0x0>;
+		bootph-pre-ram;
+	};
+
+	gpio-restart {
+		compatible = "gpio-restart";
+		gpios = <&sysgpio 35 GPIO_ACTIVE_HIGH>;
+		priority = <224>;
+	};
+
+	leds {
+		compatible = "gpio-leds";
+
+		led_status_power: led-0 {
+			gpios = <&aongpio 3 GPIO_ACTIVE_HIGH>;
+		};
+	};
+
+	pwmdac_codec: audio-codec {
+		compatible = "linux,spdif-dit";
+		#sound-dai-cells = <0>;
+	};
+
+	sound {
+		compatible = "simple-audio-card";
+		simple-audio-card,name = "StarFive-PWMDAC-Sound-Card";
+		#address-cells = <1>;
+		#size-cells = <0>;
+
+		simple-audio-card,dai-link@0 {
+			reg = <0>;
+			format = "left_j";
+			bitclock-master = <&sndcpu0>;
+			frame-master = <&sndcpu0>;
+
+			sndcpu0: cpu {
+				sound-dai = <&pwmdac>;
+			};
+
+			codec {
+				sound-dai = <&pwmdac_codec>;
+			};
+		};
+	};
+};
+
+&cpus {
+	timebase-frequency = <4000000>;
+};
+
+&dvp_clk {
+	clock-frequency = <74250000>;
+};
+
+&gmac0_rgmii_rxin {
+	clock-frequency = <125000000>;
+};
+
+&gmac0_rmii_refin {
+	clock-frequency = <50000000>;
+};
+
+&gmac1_rgmii_rxin {
+	clock-frequency = <125000000>;
+};
+
+&gmac1_rmii_refin {
+	clock-frequency = <50000000>;
+};
+
+&hdmitx0_pixelclk {
+	clock-frequency = <297000000>;
+};
+
+&i2srx_bclk_ext {
+	clock-frequency = <12288000>;
+};
+
+&i2srx_lrck_ext {
+	clock-frequency = <192000>;
+};
+
+&i2stx_bclk_ext {
+	clock-frequency = <12288000>;
+};
+
+&i2stx_lrck_ext {
+	clock-frequency = <192000>;
+};
+
+&mclk_ext {
+	clock-frequency = <12288000>;
+};
+
+&osc {
+	clock-frequency = <24000000>;
+};
+
+&rtc_osc {
+	clock-frequency = <32768>;
+};
+
+&tdm_ext {
+	clock-frequency = <49152000>;
+};
+
+&camss {
+	assigned-clocks = <&ispcrg JH7110_ISPCLK_DOM4_APB_FUNC>,
+			  <&ispcrg JH7110_ISPCLK_MIPI_RX0_PXL>;
+	assigned-clock-rates = <49500000>, <198000000>;
+
+	ports {
+		#address-cells = <1>;
+		#size-cells = <0>;
+
+		port@0 {
+			reg = <0>;
+		};
+
+		port@1 {
+			reg = <1>;
+
+			camss_from_csi2rx: endpoint {
+				remote-endpoint = <&csi2rx_to_camss>;
+			};
+		};
+	};
+};
+
+&csi2rx {
+	assigned-clocks = <&ispcrg JH7110_ISPCLK_VIN_SYS>;
+	assigned-clock-rates = <297000000>;
+
+	ports {
+		#address-cells = <1>;
+		#size-cells = <0>;
+
+		port@0 {
+			reg = <0>;
+
+			/* remote MIPI sensor endpoint */
+		};
+
+		port@1 {
+			reg = <1>;
+
+			csi2rx_to_camss: endpoint {
+				remote-endpoint = <&camss_from_csi2rx>;
+			};
+		};
+	};
+};
+
+&gmac0 {
+	phy-handle = <&phy0>;
+	phy-mode = "rgmii-id";
+
+	mdio {
+		#address-cells = <1>;
+		#size-cells = <0>;
+		compatible = "snps,dwmac-mdio";
+
+		phy0: ethernet-phy@0 {
+			reg = <0>;
+		};
+	};
+};
+
+&i2c0 {
+	clock-frequency = <100000>;
+	i2c-sda-hold-time-ns = <300>;
+	i2c-sda-falling-time-ns = <510>;
+	i2c-scl-falling-time-ns = <510>;
+	pinctrl-names = "default";
+	pinctrl-0 = <&i2c0_pins>;
+};
+
+&i2c2 {
+	clock-frequency = <100000>;
+	i2c-sda-hold-time-ns = <300>;
+	i2c-sda-falling-time-ns = <510>;
+	i2c-scl-falling-time-ns = <510>;
+	pinctrl-names = "default";
+	pinctrl-0 = <&i2c2_pins>;
+	status = "okay";
+};
+
+&i2c5 {
+	clock-frequency = <100000>;
+	i2c-sda-hold-time-ns = <300>;
+	i2c-sda-falling-time-ns = <510>;
+	i2c-scl-falling-time-ns = <510>;
+	pinctrl-names = "default";
+	pinctrl-0 = <&i2c5_pins>;
+	status = "okay";
+
+	axp15060: pmic@36 {
+		compatible = "x-powers,axp15060";
+		reg = <0x36>;
+		interrupt-controller;
+		#interrupt-cells = <1>;
+
+		regulators {
+			vcc_3v3: dcdc1 {
+				regulator-boot-on;
+				regulator-always-on;
+				regulator-min-microvolt = <3300000>;
+				regulator-max-microvolt = <3300000>;
+				regulator-name = "vcc_3v3";
+			};
+
+			vdd_cpu: dcdc2 {
+				regulator-always-on;
+				regulator-min-microvolt = <500000>;
+				regulator-max-microvolt = <1540000>;
+				regulator-name = "vdd_cpu";
+			};
+
+			emmc_vdd: aldo4 {
+				regulator-boot-on;
+				regulator-always-on;
+				regulator-min-microvolt = <1800000>;
+				regulator-max-microvolt = <3300000>;
+				regulator-name = "emmc_vdd";
+			};
+		};
+	};
+
+	eeprom@50 {
+		compatible = "atmel,24c04";
+		reg = <0x50>;
+		bootph-pre-ram;
+		pagesize = <16>;
+	};
+};
+
+&i2c6 {
+	clock-frequency = <100000>;
+	i2c-sda-hold-time-ns = <300>;
+	i2c-sda-falling-time-ns = <510>;
+	i2c-scl-falling-time-ns = <510>;
+	pinctrl-names = "default";
+	pinctrl-0 = <&i2c6_pins>;
+	status = "okay";
+};
+
+&mmc0 {
+	max-frequency = <100000000>;
+	assigned-clocks = <&syscrg JH7110_SYSCLK_SDIO0_SDCARD>;
+	assigned-clock-rates = <50000000>;
+	bus-width = <8>;
+	bootph-pre-ram;
+	cap-mmc-highspeed;
+	mmc-ddr-1_8v;
+	mmc-hs200-1_8v;
+	cap-mmc-hw-reset;
+	pinctrl-names = "default";
+	pinctrl-0 = <&mmc0_pins>;
+	vmmc-supply = <&vcc_3v3>;
+	vqmmc-supply = <&emmc_vdd>;
+	status = "okay";
+};
+
+&mmc1 {
+	max-frequency = <100000000>;
+	assigned-clocks = <&syscrg JH7110_SYSCLK_SDIO1_SDCARD>;
+	assigned-clock-rates = <50000000>;
+	bus-width = <4>;
+	bootph-pre-ram;
+	cd-gpios = <&sysgpio 41 GPIO_ACTIVE_LOW>;
+	disable-wp;
+	cap-sd-highspeed;
+	pinctrl-names = "default";
+	pinctrl-0 = <&mmc1_pins>;
+	status = "okay";
+};
+
+&pcie0 {
+	perst-gpios = <&sysgpio 26 GPIO_ACTIVE_LOW>;
+	phys = <&pciephy0>;
+	pinctrl-names = "default";
+	pinctrl-0 = <&pcie0_pins>;
+};
+
+&pcie1 {
+	perst-gpios = <&sysgpio 28 GPIO_ACTIVE_LOW>;
+	phys = <&pciephy1>;
+	pinctrl-names = "default";
+	pinctrl-0 = <&pcie1_pins>;
+};
+
+&pwmdac {
+	pinctrl-names = "default";
+	pinctrl-0 = <&pwmdac_pins>;
+};
+
+&qspi {
+	#address-cells = <1>;
+	#size-cells = <0>;
+	status = "okay";
+
+	nor_flash: flash@0 {
+		compatible = "jedec,spi-nor";
+		reg = <0>;
+		bootph-pre-ram;
+		cdns,read-delay = <2>;
+		spi-max-frequency = <100000000>;
+		cdns,tshsl-ns = <1>;
+		cdns,tsd2d-ns = <1>;
+		cdns,tchsh-ns = <1>;
+		cdns,tslch-ns = <1>;
+
+		partitions {
+			compatible = "fixed-partitions";
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			spl@0 {
+				reg = <0x0 0xf0000>;
+			};
+			uboot-env@f0000 {
+				reg = <0xf0000 0x10000>;
+			};
+			uboot@100000 {
+				reg = <0x100000 0xf00000>;
+			};
+		};
+	};
+};
+
+&pwm {
+	pinctrl-names = "default";
+	pinctrl-0 = <&pwm_pins>;
+};
+
+&spi0 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&spi0_pins>;
+};
+
+&syscrg {
+	assigned-clocks = <&syscrg JH7110_SYSCLK_CPU_ROOT>,
+			  <&syscrg JH7110_SYSCLK_BUS_ROOT>,
+			  <&syscrg JH7110_SYSCLK_PERH_ROOT>,
+			  <&syscrg JH7110_SYSCLK_QSPI_REF>,
+			  <&syscrg JH7110_SYSCLK_CPU_CORE>,
+			  <&pllclk JH7110_PLLCLK_PLL0_OUT>;
+	assigned-clock-parents = <&pllclk JH7110_PLLCLK_PLL0_OUT>,
+				 <&pllclk JH7110_PLLCLK_PLL2_OUT>,
+				 <&pllclk JH7110_PLLCLK_PLL2_OUT>,
+				 <&syscrg JH7110_SYSCLK_QSPI_REF_SRC>;
+	assigned-clock-rates = <0>, <0>, <0>, <0>, <500000000>, <1500000000>;
+};
+
+&sysgpio {
+	i2c0_pins: i2c0-0 {
+		i2c-pins {
+			pinmux = <GPIOMUX(57, GPOUT_LOW,
+					      GPOEN_SYS_I2C0_CLK,
+					      GPI_SYS_I2C0_CLK)>,
+				 <GPIOMUX(58, GPOUT_LOW,
+					      GPOEN_SYS_I2C0_DATA,
+					      GPI_SYS_I2C0_DATA)>;
+			bias-disable; /* external pull-up */
+			input-enable;
+			input-schmitt-enable;
+		};
+	};
+
+	i2c2_pins: i2c2-0 {
+		i2c-pins {
+			pinmux = <GPIOMUX(3, GPOUT_LOW,
+					     GPOEN_SYS_I2C2_CLK,
+					     GPI_SYS_I2C2_CLK)>,
+				 <GPIOMUX(2, GPOUT_LOW,
+					     GPOEN_SYS_I2C2_DATA,
+					     GPI_SYS_I2C2_DATA)>;
+			bias-disable; /* external pull-up */
+			input-enable;
+			input-schmitt-enable;
+		};
+	};
+
+	i2c5_pins: i2c5-0 {
+		bootph-pre-ram;
+
+		i2c-pins {
+			pinmux = <GPIOMUX(19, GPOUT_LOW,
+					      GPOEN_SYS_I2C5_CLK,
+					      GPI_SYS_I2C5_CLK)>,
+				 <GPIOMUX(20, GPOUT_LOW,
+					      GPOEN_SYS_I2C5_DATA,
+					      GPI_SYS_I2C5_DATA)>;
+			bias-disable; /* external pull-up */
+			bootph-pre-ram;
+			input-enable;
+			input-schmitt-enable;
+		};
+	};
+
+	i2c6_pins: i2c6-0 {
+		i2c-pins {
+			pinmux = <GPIOMUX(16, GPOUT_LOW,
+					      GPOEN_SYS_I2C6_CLK,
+					      GPI_SYS_I2C6_CLK)>,
+				 <GPIOMUX(17, GPOUT_LOW,
+					      GPOEN_SYS_I2C6_DATA,
+					      GPI_SYS_I2C6_DATA)>;
+			bias-disable; /* external pull-up */
+			input-enable;
+			input-schmitt-enable;
+		};
+	};
+
+	mmc0_pins: mmc0-0 {
+		mmc-pins {
+			pinmux = <PINMUX(PAD_SD0_CLK, 0)>,
+				 <PINMUX(PAD_SD0_CMD, 0)>,
+				 <PINMUX(PAD_SD0_DATA0, 0)>,
+				 <PINMUX(PAD_SD0_DATA1, 0)>,
+				 <PINMUX(PAD_SD0_DATA2, 0)>,
+				 <PINMUX(PAD_SD0_DATA3, 0)>,
+				 <PINMUX(PAD_SD0_DATA4, 0)>,
+				 <PINMUX(PAD_SD0_DATA5, 0)>,
+				 <PINMUX(PAD_SD0_DATA6, 0)>,
+				 <PINMUX(PAD_SD0_DATA7, 0)>;
+			bias-pull-up;
+			drive-strength = <12>;
+			input-enable;
+		};
+	};
+
+	mmc1_pins: mmc1-0 {
+		clk-pins {
+			pinmux = <GPIOMUX(10, GPOUT_SYS_SDIO1_CLK,
+					      GPOEN_ENABLE,
+					      GPI_NONE)>;
+			bias-pull-up;
+			drive-strength = <12>;
+			input-disable;
+			input-schmitt-disable;
+			slew-rate = <0>;
+		};
+
+		mmc-pins {
+			pinmux = <GPIOMUX(9, GPOUT_SYS_SDIO1_CMD,
+					     GPOEN_SYS_SDIO1_CMD,
+					     GPI_SYS_SDIO1_CMD)>,
+				 <GPIOMUX(11, GPOUT_SYS_SDIO1_DATA0,
+					      GPOEN_SYS_SDIO1_DATA0,
+					      GPI_SYS_SDIO1_DATA0)>,
+				 <GPIOMUX(12, GPOUT_SYS_SDIO1_DATA1,
+					      GPOEN_SYS_SDIO1_DATA1,
+					      GPI_SYS_SDIO1_DATA1)>,
+				 <GPIOMUX(7, GPOUT_SYS_SDIO1_DATA2,
+					     GPOEN_SYS_SDIO1_DATA2,
+					     GPI_SYS_SDIO1_DATA2)>,
+				 <GPIOMUX(8, GPOUT_SYS_SDIO1_DATA3,
+					     GPOEN_SYS_SDIO1_DATA3,
+					     GPI_SYS_SDIO1_DATA3)>;
+			bias-pull-up;
+			drive-strength = <12>;
+			input-enable;
+			input-schmitt-enable;
+			slew-rate = <0>;
+		};
+	};
+
+	pcie0_pins: pcie0-0 {
+		clkreq-pins {
+			pinmux = <GPIOMUX(27, GPOUT_LOW,
+					      GPOEN_DISABLE,
+					      GPI_NONE)>;
+			bias-pull-down;
+			drive-strength = <2>;
+			input-enable;
+			input-schmitt-disable;
+			slew-rate = <0>;
+		};
+
+		wake-pins {
+			pinmux = <GPIOMUX(32, GPOUT_LOW,
+					      GPOEN_DISABLE,
+					      GPI_NONE)>;
+			bias-pull-up;
+			drive-strength = <2>;
+			input-enable;
+			input-schmitt-disable;
+			slew-rate = <0>;
+		};
+	};
+
+	pcie1_pins: pcie1-0 {
+		clkreq-pins {
+			pinmux = <GPIOMUX(29, GPOUT_LOW,
+					      GPOEN_DISABLE,
+					      GPI_NONE)>;
+			bias-pull-down;
+			drive-strength = <2>;
+			input-enable;
+			input-schmitt-disable;
+			slew-rate = <0>;
+		};
+
+		wake-pins {
+			pinmux = <GPIOMUX(21, GPOUT_LOW,
+				      GPOEN_DISABLE,
+					      GPI_NONE)>;
+			bias-pull-up;
+			drive-strength = <2>;
+			input-enable;
+			input-schmitt-disable;
+			slew-rate = <0>;
+		};
+	};
+
+	pwmdac_pins: pwmdac-0 {
+		pwmdac-pins {
+			pinmux = <GPIOMUX(33, GPOUT_SYS_PWMDAC_LEFT,
+					      GPOEN_ENABLE,
+					      GPI_NONE)>,
+				 <GPIOMUX(34, GPOUT_SYS_PWMDAC_RIGHT,
+					      GPOEN_ENABLE,
+					      GPI_NONE)>;
+			bias-disable;
+			drive-strength = <2>;
+			input-disable;
+			input-schmitt-disable;
+			slew-rate = <0>;
+		};
+	};
+
+	pwm_pins: pwm-0 {
+		pwm-pins {
+			pinmux = <GPIOMUX(46, GPOUT_SYS_PWM_CHANNEL0,
+					      GPOEN_SYS_PWM0_CHANNEL0,
+					      GPI_NONE)>,
+				 <GPIOMUX(59, GPOUT_SYS_PWM_CHANNEL1,
+					      GPOEN_SYS_PWM0_CHANNEL1,
+					      GPI_NONE)>;
+			bias-disable;
+			drive-strength = <12>;
+			input-disable;
+			input-schmitt-disable;
+			slew-rate = <0>;
+		};
+	};
+
+	spi0_pins: spi0-0 {
+		mosi-pins {
+			pinmux = <GPIOMUX(52, GPOUT_SYS_SPI0_TXD,
+					      GPOEN_ENABLE,
+					      GPI_NONE)>;
+			bias-disable;
+			input-disable;
+			input-schmitt-disable;
+		};
+
+		miso-pins {
+			pinmux = <GPIOMUX(53, GPOUT_LOW,
+					      GPOEN_DISABLE,
+					      GPI_SYS_SPI0_RXD)>;
+			bias-pull-up;
+			input-enable;
+			input-schmitt-enable;
+		};
+
+		sck-pins {
+			pinmux = <GPIOMUX(48, GPOUT_SYS_SPI0_CLK,
+					      GPOEN_ENABLE,
+					      GPI_SYS_SPI0_CLK)>;
+			bias-disable;
+			input-disable;
+			input-schmitt-disable;
+		};
+
+		ss-pins {
+			pinmux = <GPIOMUX(49, GPOUT_SYS_SPI0_FSS,
+					      GPOEN_ENABLE,
+					      GPI_SYS_SPI0_FSS)>;
+			bias-disable;
+			input-disable;
+			input-schmitt-disable;
+		};
+	};
+
+	uart0_pins: uart0-0 {
+		tx-pins {
+			pinmux = <GPIOMUX(5, GPOUT_SYS_UART0_TX,
+					     GPOEN_ENABLE,
+					     GPI_NONE)>;
+			bias-disable;
+			drive-strength = <12>;
+			input-disable;
+			input-schmitt-disable;
+			slew-rate = <0>;
+		};
+
+		rx-pins {
+			pinmux = <GPIOMUX(6, GPOUT_LOW,
+					     GPOEN_DISABLE,
+					     GPI_SYS_UART0_RX)>;
+			bias-disable; /* external pull-up */
+			drive-strength = <2>;
+			input-enable;
+			input-schmitt-enable;
+			slew-rate = <0>;
+		};
+	};
+};
+
+&uart0 {
+	bootph-pre-ram;
+	pinctrl-names = "default";
+	pinctrl-0 = <&uart0_pins>;
+	status = "okay";
+};
+
+&U74_1 {
+	cpu-supply = <&vdd_cpu>;
+};
+
+&U74_2 {
+	cpu-supply = <&vdd_cpu>;
+};
+
+&U74_3 {
+	cpu-supply = <&vdd_cpu>;
+};
+
+&U74_4 {
+	cpu-supply = <&vdd_cpu>;
+};
diff --git a/arch/riscv/boot/dts/starfive/jh711x.dtsi b/arch/riscv/boot/dts/starfive/jh711x.dtsi
index 6e56e9d20bb0..a380d3dabedd 100644
--- a/arch/riscv/boot/dts/starfive/jh711x.dtsi
+++ b/arch/riscv/boot/dts/starfive/jh711x.dtsi
@@ -205,22 +205,6 @@ core4 {
 	cpu_opp: opp-table-0 {
 			compatible = "operating-points-v2";
 			opp-shared;
-			opp-375000000 {
-					opp-hz = /bits/ 64 <375000000>;
-					opp-microvolt = <800000>;
-			};
-			opp-500000000 {
-					opp-hz = /bits/ 64 <500000000>;
-					opp-microvolt = <800000>;
-			};
-			opp-750000000 {
-					opp-hz = /bits/ 64 <750000000>;
-					opp-microvolt = <800000>;
-			};
-			opp-1500000000 {
-					opp-hz = /bits/ 64 <1500000000>;
-					opp-microvolt = <1040000>;
-			};
 	};
 
 	thermal-zones {
-- 
2.43.2


From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from CHN02-SH0-obe.outbound.protection.partner.outlook.cn (mail-sh0chn02on2107.outbound.protection.partner.outlook.cn [139.219.146.107])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 97A31298CAB;
	Fri,  7 Nov 2025 11:09:45 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=fail smtp.client-ip=139.219.146.107
ARC-Seal:i=2; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762513788; cv=fail; b=Bu7CqNtsXp5wDb1Wk2oHGWHMt5927F9iZjv34fdXtVIkCqOVRvRKKZB1rfrSzuyg0ok46p9THUStWXPrhEQDrXD+k2MPp7zpcooUskiZanFB92s3Rjuyb2rjrDWWYiDhyRlgKylTqhGtUX8+KTUsVjrkuaTxxGVK95mgOWxJrOo=
ARC-Message-Signature:i=2; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762513788; c=relaxed/simple;
	bh=LdzGWsjgm4jXXnlQXRUj6UffMOY0qPHGD+wceV3zsmE=;
	h=From:To:Cc:Subject:Date:Message-ID:In-Reply-To:References:
	 Content-Type:MIME-Version; b=FQVfJPV8n4owNLxrgWNHHjsHgkrtJV9cfQPljBI9F+DAYVw5Brz/kllukQHDEmX+Zp1+df1ZVBkFH/LeQeJ3HW3baolTr1hzfqxDgAzNWYoFcbSo7yt2cwjgLvPSCn3BMw7uDmblZB51ubrRvYMpVt3qjUJgQeI1iWQzZrHQT8U=
ARC-Authentication-Results:i=2; smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com; spf=pass smtp.mailfrom=starfivetech.com; arc=fail smtp.client-ip=139.219.146.107
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=starfivetech.com
Received: from ZQ2PR01MB1305.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:6::14) by ZQ0PR01MB1302.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:1b::9) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9298.12; Fri, 7 Nov
 2025 10:54:13 +0000
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=I4fZs09Z/S5IBoSLEcoNwGacGAQyUV1pHoKLRsmthPpcSOroGWNJsBCmMjpSKZzut6/8GILdJ7/YbvS+/FpTSBNFcKAQW8qzIB1vnBN4vc83dPlBBhOAKQZfLTcvFrXYue1kIjUaSbtNVtms7ltUDnGtCA7ptAN0+uzNpLNcPf9ctlClPsn5tRok+/W7d0eTv66/Cj2znPZNh397nzz2o/LPRAD++R7VQR81+NTFLhD0I+na0pGazj5rMqCOSS0dLFE8r4VLMXFso3sCZsQNY9ur5lWvVZEGfX6KoBoh9RDcYqZcghLMBD4nQGDRgJ3PIn/cAZFt7jzYr7bVrqzA7Q==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=tf4kqQuHDbwJ71Sfz0JWkfJUsoJ8ZnctFfRDLAakt5c=;
 b=ZrNspswwWNVR0szaVgKOD1SAZq1V1Y6c+RCDS/hcMBd4jSn0xNsfth1n5vVr6Lzb4U/gRs0eH0y/XmnFWBda2GO84IrynmFuuP7wi9f/Lx0cdEmqztq6MT3Eiwx6Xyf5TGe0YStSFXFuXAgHVSX2t5E5FJSCTyg81jIUNN7cOYkUHJViYYrlx2vGC4P4DKiyyW6DXqNY2COAUbCayeVlruCFUjq3tlnd9kYiFYddiTi/t5h8c0DHMd1pQZYQ+MLYVRZSfP86GO4jMvdGB245xjOG0PhA8jEgEE8gZJjlLGQkyKGhZDLpi7k1rvrVxbQqrLsWkYHhQ4zRzInIAnBo0Q==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=starfivetech.com; dmarc=pass action=none
 header.from=starfivetech.com; dkim=pass header.d=starfivetech.com; arc=none
Authentication-Results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=starfivetech.com;
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:7::14) by ZQ2PR01MB1305.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:6::14) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9298.12; Fri, 7 Nov
 2025 09:55:46 +0000
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7]) by ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7%6]) with mapi id 15.20.9298.010; Fri, 7 Nov 2025
 09:55:46 +0000
From: Hal Feng <hal.feng@starfivetech.com>
To: Conor Dooley <conor+dt@kernel.org>,
	Rob Herring <robh@kernel.org>,
	Krzysztof Kozlowski <krzk+dt@kernel.org>,
	Palmer Dabbelt <palmer@dabbelt.com>,
	Paul Walmsley <pjw@kernel.org>,
	Albert Ou <aou@eecs.berkeley.edu>,
	"Rafael J . Wysocki" <rafael@kernel.org>,
	Viresh Kumar <viresh.kumar@linaro.org>,
	Bjorn Helgaas <bhelgaas@google.com>,
	Lorenzo Pieralisi <lpieralisi@kernel.org>,
	=?UTF-8?q?Krzysztof=20Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
	Manivannan Sadhasivam <mani@kernel.org>,
	Emil Renner Berthing <emil.renner.berthing@canonical.com>,
	Heinrich Schuchardt <heinrich.schuchardt@canonical.com>,
	E Shattow <e@freeshell.de>
Cc: Hal Feng <hal.feng@starfivetech.com>,
	devicetree@vger.kernel.org,
	linux-riscv@lists.infradead.org,
	linux-kernel@vger.kernel.org
Subject: [PATCH v2 7/8] riscv: dts: starfive: Add VisionFive 2 Lite board device tree
Date: Fri,  7 Nov 2025 17:55:29 +0800
Message-ID: <20251107095530.114775-8-hal.feng@starfivetech.com>
X-Mailer: git-send-email 2.43.2
In-Reply-To: <20251107095530.114775-1-hal.feng@starfivetech.com>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
Content-Transfer-Encoding: 8bit
Content-Type: text/plain
X-ClientProxiedBy: ZQ0PR01CA0014.CHNPR01.prod.partner.outlook.cn (10.2.0.83)
 To ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn (10.2.1.78)
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-MS-PublicTrafficType: Email
X-MS-TrafficTypeDiagnostic:
	ZQ2PR01MB1307:EE_|ZQ2PR01MB1305:EE_|ZQ0PR01MB1302:EE_
X-MS-Office365-Filtering-Correlation-Id: 0ac73d76-3dc9-4ac9-c9ef-08de1de3d2af
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam:
 BCL:0;ARA:13230040|366016|7416014|52116014|1800799024|41320700013|38350700014|921020;
X-Microsoft-Antispam-Message-Info:
 63+yPJKYnf29w3HkUeosojTfLS/PhRe5CbHZ49jmYED6eQ1oMfuaIItG9g00wkz8R4pGpb7b3/nDbSkH5EqBgRdsZyzV845jmxtNNMKe+j6Kbg33dCGEtjcr5y4Pref+LDzmH2m/684VinuMmQzV6iFdK5c3GoTYAc9G/+vGHlJOcOOzfX39RK+oEeQVz6xmq7m4I7oNvjRsEUsT3mz0dTZKzEQXDz45HgvRh2j/xYPzDNXVdr3g40DZqP3otg8kVxC8JQsWgwv3cW6oLREHArC7sBKaPmDu3f74zE+0AhwfrK3dKsehe0cDYnknthZ5+Xl87UsiwR8DwGsNwPvgbGU8LfeRfIMaV9OqbfO3/6QjsvZQbxzDKvhyy+srdZJzgPq+wABRDnrwadEsRi1ZYAJ2o0lRV2HBE/Prc4BHkxJIL5A7/mvVwBMJKSsmHiPFHDswknBl7ip2fV500Jl5TcCfv0Pt36Y4vX8g73n7jvVNCMO3sMMRShZeSgo5yAEkRFU/bGnsbPWXLx4weEZmBDVYOzDNShodBBYQE0c8MIEIyvej4jbwX2TF8m1W6NUyezfZtl7+JKET7rbb2zVEEX3rpjx/oQqn7nUCEHPuS68=
X-Forefront-Antispam-Report:
 CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn;PTR:;CAT:NONE;SFS:(13230040)(366016)(7416014)(52116014)(1800799024)(41320700013)(38350700014)(921020);DIR:OUT;SFP:1102;
X-MS-Exchange-AntiSpam-MessageData-ChunkCount: 1
X-MS-Exchange-AntiSpam-MessageData-0:
 =?us-ascii?Q?5XTkhdGl0oeLjyh7tV3VO8UI1/rdE63susoZPjnfI2dgwG37QYDrvqGXMJaS?=
 =?us-ascii?Q?LcBhxrIZc5r9F7r1nZLGiTRm/P3IPwuixGqSt6Tg2LrobYjsyHpAAx6tPXG9?=
 =?us-ascii?Q?vNcfzQxsRXcNHnMNC11VFxbVFiz+b2S7BmoHE1UHKL5C43CHrbcOUCF2HKn8?=
 =?us-ascii?Q?SuQCnaqLYCjICgMLmjVPb/ivWLP63scnggsGxYMh32kWOE64eaLXFU4tsBYB?=
 =?us-ascii?Q?d62l2EOtS4oIwi0guSOMb/coCWbZc97ZMqxpBkG9rPqfKGTxl+Pn1P41CHT3?=
 =?us-ascii?Q?QRBu1Oopk2DKDeJY7yVdtS7HmQ/eZcgYRtQsRjuuYd/b18vtDggC8mXF4evA?=
 =?us-ascii?Q?UWClbnPYekOJDfgtHzVQFMCTvZXA1P2Z8pU+Fs4sf5rVHWxBOx36w0aI0zJm?=
 =?us-ascii?Q?Wz52DJLCJG10JxhZdML0N0bJZBX2+Mhy1PlzEXkJVB2yFtIfmJSyfG4MAe2I?=
 =?us-ascii?Q?4soCx7XMmsdy0VTu62JtJjrYQuxSPwVmd+E5KMvNO3+uvjMV8LFGxw5jxtBf?=
 =?us-ascii?Q?0AQN4TlXqn0NbaCdJZZpAJfp1pb+RKRjI5H3L32F+SndOoxxsc4XrTiyzGzt?=
 =?us-ascii?Q?Rzb5Qqbf74MJJ+fvpql1LHPB8R3CJYumxrr/yf+yHkYu8jyfgg/VWaVBpdl9?=
 =?us-ascii?Q?/1/+FXsIYiXvjjBZrUGKMLTsb6pIZ8f9QVktLr5CWUrMSBguBIUfMGJ5tJDE?=
 =?us-ascii?Q?Y3SX4dRSS6lKo8sZ5LkT6YL1xZ2x2Eq31ZZpiu+YicR7KIwklmA/4JOUlWMl?=
 =?us-ascii?Q?OFUSaQOxLzZe2OegicXzUVeJbRZ22Z0Ahzl11LvSXiJskJrovptb99E5OIKD?=
 =?us-ascii?Q?YA2BUOShO0AYkGyd/rNilr8N5O8tcj0zJP8obRsEWYMfgfRGjZ2h/KBXBTie?=
 =?us-ascii?Q?7k97OYRWPQh51jlSQhynY0n5mmXtYj0J6Q32a5z3/BGBCAwAFw/Nm3Gp3gyt?=
 =?us-ascii?Q?KPETA6Do5MtwFI0u5CpEilS4fFU3eVB0QLJbUGHm1IbJP9Z1WuRoqs+2V6HJ?=
 =?us-ascii?Q?ezBHQJw8o9I4wkxXqgpMah/DXCWEi3X4a35rVQRXmjXUbYPFmUKpx68q9QNu?=
 =?us-ascii?Q?wAnredAzTw5aD1WsjnCM8HtUH5n2XE32I9+NDnC/IChPcXrAmxt4+eCv18rc?=
 =?us-ascii?Q?tUY9Q00AGp3WhWkdX+YosfV4xRiFVmIPVO+3TWs4OROe1o47VBzjpfYPKzNy?=
 =?us-ascii?Q?dNRfexZiU5fNLOYfuJXjsS/VJ31Ipubb6ksbEu0cdZWXQhX77AbzTdOQKwrC?=
 =?us-ascii?Q?tpPta5kJ74klyRpcVgaFo4gorx9/9pOQHIpYn/f376ngiwtg5hNpXG483LBU?=
 =?us-ascii?Q?2/WrwRqbNQOODltCtftRXsqyWoWEOMMmtPDiqb4AfAfRMqm42nUqJTT4pGLc?=
 =?us-ascii?Q?8Lld1Y4O+jR9ehmMaS5Rw2v55ZErMNUPMBOFHJN70uq8qusrWNdwdd4SH6Tp?=
 =?us-ascii?Q?3FoGZ03JE9ersCGH20bi1JeMlw39vySxJHV4c+NSLHgsR0+41XDz9Dqqb9vZ?=
 =?us-ascii?Q?HrM5NSoSR373VPESigs3v9IQVT9+c3lLbI6apF2Tp47OljJ2qwpxMk8Y8fFK?=
 =?us-ascii?Q?k7yWYkO+0PULjnPIOQdH1/uATBa1lkUxKj5IKOsqvf9zxxlEDOds3/qLozdv?=
 =?us-ascii?Q?WA=3D=3D?=
X-MS-Exchange-CrossTenant-Network-Message-Id: 0ac73d76-3dc9-4ac9-c9ef-08de1de3d2af
X-MS-Exchange-CrossTenant-AuthSource: ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 07 Nov 2025 09:55:46.4063
 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 06fe3fa3-1221-43d3-861b-5a4ee687a85c
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: K6c+bSh2bncwuh/QB8Q7CYqtxr7z+wGqWNYgG+6fpdC7gK4iobDPz64HTk6295NnLZp2+qNKUT5lW+1z6SFv7IAYxbQQsIX41s9Kt0vdJbg=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: ZQ2PR01MB1305
X-OriginatorOrg: starfivetech.com

VisionFive 2 Lite is a mini SBC based on the StarFive JH7110S SoC.

Board features:
- JH7110S SoC
- 4/8 GiB LPDDR4 DRAM
- AXP15060 PMIC
- 40 pin GPIO header
- 1x USB 3.0 host port
- 3x USB 2.0 host port
- 1x M.2 M-Key (size: 2242)
- 1x MicroSD slot (optional non-removable 64GiB eMMC)
- 1x QSPI Flash
- 1x I2C EEPROM
- 1x 1Gbps Ethernet port
- SDIO-based Wi-Fi & UART-based Bluetooth
- 1x HDMI port
- 1x 2-lane DSI
- 1x 2-lane CSI

VisionFive 2 Lite schematics: https://doc-en.rvspace.org/VisionFive2Lite/PDF/VF2_LITE_V1.10_TF_20250818_SCH.pdf
VisionFive 2 Lite Quick Start Guide: https://doc-en.rvspace.org/VisionFive2Lite/VisionFive2LiteQSG/index.html
More documents: https://doc-en.rvspace.org/Doc_Center/visionfive_2_lite.html

Signed-off-by: Hal Feng <hal.feng@starfivetech.com>
---
 arch/riscv/boot/dts/starfive/Makefile         |  2 ++
 .../jh7110s-starfive-visionfive-2-lite.dts    | 20 +++++++++++++++++++
 2 files changed, 22 insertions(+)
 create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite.dts

diff --git a/arch/riscv/boot/dts/starfive/Makefile b/arch/riscv/boot/dts/starfive/Makefile
index 62b659f89ba7..f53109253d41 100644
--- a/arch/riscv/boot/dts/starfive/Makefile
+++ b/arch/riscv/boot/dts/starfive/Makefile
@@ -15,3 +15,5 @@ dtb-$(CONFIG_ARCH_STARFIVE) += jh7110-milkv-marscm-lite.dtb
 dtb-$(CONFIG_ARCH_STARFIVE) += jh7110-pine64-star64.dtb
 dtb-$(CONFIG_ARCH_STARFIVE) += jh7110-starfive-visionfive-2-v1.2a.dtb
 dtb-$(CONFIG_ARCH_STARFIVE) += jh7110-starfive-visionfive-2-v1.3b.dtb
+
+dtb-$(CONFIG_ARCH_STARFIVE) += jh7110s-starfive-visionfive-2-lite.dtb
diff --git a/arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite.dts b/arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite.dts
new file mode 100644
index 000000000000..ac5e66027bad
--- /dev/null
+++ b/arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite.dts
@@ -0,0 +1,20 @@
+// SPDX-License-Identifier: GPL-2.0 OR MIT
+/*
+ * Copyright (C) 2025 StarFive Technology Co., Ltd.
+ * Copyright (C) 2025 Hal Feng <hal.feng@starfivetech.com>
+ */
+
+/dts-v1/;
+#include "jh7110s-starfive-visionfive-2-lite.dtsi"
+
+/ {
+	model = "StarFive VisionFive 2 Lite";
+	compatible = "starfive,visionfive-2-lite", "starfive,jh7110s";
+};
+
+&mmc0 {
+	bus-width = <4>;
+	cd-gpios = <&sysgpio 41 GPIO_ACTIVE_HIGH>;
+	disable-wp;
+	cap-sd-highspeed;
+};
-- 
2.43.2


From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from freeshell.de (freeshell.de [116.202.128.144])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 4E51F31E10C;
	Fri,  7 Nov 2025 11:19:36 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=116.202.128.144
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762514378; cv=none; b=CW8CEs/S2A9dyQZc5gbD7acvueZaRmfQVtzYohzX+WoAs5r0hLMvAP5PZ9DErak5WM750iZQmd+ubUmhN8034WWkUywApzVBuizJVH3WZ2dAk+laVZrw5XpMxHCK3WWx87Gr6ew2mWcpP7HNRMcoYNk/2zfnvcYaSw3vd+RxeMs=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762514378; c=relaxed/simple;
	bh=YF9z8cl/wXR6O1s7vIRCo3qMDvIvk0wpzaCNDVWcqvg=;
	h=Message-ID:Date:MIME-Version:Subject:To:Cc:References:From:
	 In-Reply-To:Content-Type; b=OJMJtPAPV2Q6ouqVv40mG4F+E0D/XQkGP4InNwsRKWiYL97ke4OHMN+uElfL7GmZHLFa2RHMWLlZc4fnvBwZWQi6aP9WQPCfylnHHQ6X8NcG7k4u/5YHAftL7aK/tkWwANM3HwC1jvl35Nb1Ol9eFgnAXkXyaahFLfeSRSWBP/k=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=freeshell.de; spf=pass smtp.mailfrom=freeshell.de; dkim=pass (2048-bit key) header.d=freeshell.de header.i=@freeshell.de header.b=JJitGvot; arc=none smtp.client-ip=116.202.128.144
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=freeshell.de
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=freeshell.de
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=freeshell.de header.i=@freeshell.de header.b="JJitGvot"
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=freeshell.de;
	s=s2025; t=1762514342;
	bh=lhFcy5Ig/Qga8G7LRC6PM1MhO7lb4A5TShXc2mRUdDM=;
	h=Date:Subject:To:Cc:References:From:In-Reply-To:From;
	b=JJitGvotvmm2lBkF0RwI16nnmDt+iJgwWH9S+fG0JcI0qrFPOxgNL08pwL5JhUdHJ
	 X+KeMlZ0eFU0Sj5rPuPwpKiMBRUjz05NY2nbv5Dwpq5+qpIY1Ux00hwE6hYlgGOjO5
	 I5Afy5iOdVim8lZ9s72EJ/7HKXi1fcWM+m33SYr6EZBrpajnU3z/G3R0fi3h3l0p7L
	 QCf3AwiH+I822e8jhbnpdRtpSrKx8Fp4cdCSm6CaYwIWaGR0hVEWyhetCenJ+R7/DZ
	 nl6yIeOmJVvcD24wDL892tXV8d3/1bYxJbtQkcI6CpWLDQ9JdFUvqRIRdi2hw9Q/Uu
	 XxQ8myplwdK4w==
Received: from [192.168.2.54] (unknown [143.105.119.212])
	(Authenticated sender: e)
	by freeshell.de (Postfix) with ESMTPSA id 5D427B22046F;
	Fri,  7 Nov 2025 12:18:59 +0100 (CET)
Message-ID: <4642392c-f44a-453f-992c-e28da67159aa@freeshell.de>
Date: Fri, 7 Nov 2025 03:18:57 -0800
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
User-Agent: Mozilla Thunderbird
Subject: Re: [PATCH v2 3/8] riscv: dts: starfive: Rename jh7110.dtsi to
 jh711x.dtsi
To: Hal Feng <hal.feng@starfivetech.com>, Conor Dooley <conor+dt@kernel.org>,
 Rob Herring <robh@kernel.org>, Krzysztof Kozlowski <krzk+dt@kernel.org>,
 Palmer Dabbelt <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>,
 Albert Ou <aou@eecs.berkeley.edu>, "Rafael J . Wysocki" <rafael@kernel.org>,
 Viresh Kumar <viresh.kumar@linaro.org>, Bjorn Helgaas <bhelgaas@google.com>,
 Lorenzo Pieralisi <lpieralisi@kernel.org>,
 =?UTF-8?Q?Krzysztof_Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
 Manivannan Sadhasivam <mani@kernel.org>,
 Emil Renner Berthing <emil.renner.berthing@canonical.com>,
 Heinrich Schuchardt <heinrich.schuchardt@canonical.com>
Cc: devicetree@vger.kernel.org, linux-riscv@lists.infradead.org,
 linux-kernel@vger.kernel.org
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <20251107095530.114775-4-hal.feng@starfivetech.com>
Content-Language: en-US
From: E Shattow <e@freeshell.de>
In-Reply-To: <20251107095530.114775-4-hal.feng@starfivetech.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit



On 11/7/25 01:55, Hal Feng wrote:
> JH7110S uses the same devices as JH7110. Rename jh7110.dtsi to jh711x.dtsi
> for preparing to add JH7110S based board device trees.
> 
> Signed-off-by: Hal Feng <hal.feng@starfivetech.com>
> ---
>  arch/riscv/boot/dts/starfive/jh7110-common.dtsi           | 2 +-
>  arch/riscv/boot/dts/starfive/{jh7110.dtsi => jh711x.dtsi} | 0
>  2 files changed, 1 insertion(+), 1 deletion(-)
>  rename arch/riscv/boot/dts/starfive/{jh7110.dtsi => jh711x.dtsi} (100%)
> 
> diff --git a/arch/riscv/boot/dts/starfive/jh7110-common.dtsi b/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
> index 083ec80b4e44..809274625615 100644
> --- a/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
> +++ b/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
> @@ -5,7 +5,7 @@
>   */
>  
>  /dts-v1/;
> -#include "jh7110.dtsi"
> +#include "jh711x.dtsi"
>  #include "jh7110-pinfunc.h"
>  #include <dt-bindings/gpio/gpio.h>
>  #include <dt-bindings/leds/common.h>
> diff --git a/arch/riscv/boot/dts/starfive/jh7110.dtsi b/arch/riscv/boot/dts/starfive/jh711x.dtsi
> similarity index 100%
> rename from arch/riscv/boot/dts/starfive/jh7110.dtsi
> rename to arch/riscv/boot/dts/starfive/jh711x.dtsi

Reviewed-by: E Shattow <e@freeshell.de>

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from freeshell.de (freeshell.de [116.202.128.144])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 1FAB5308F0C;
	Fri,  7 Nov 2025 11:21:30 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=116.202.128.144
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762514494; cv=none; b=o8FzSepWnsTB8xwIHJ7jX6a2vteGUaOlkDo+3hPMIUnfzshiDnoSTHkAxj48y2+N5UTqcOBZVk/VIrcwudUoOXX3fPL6TFbz8bR4gg2gJW+RX/U3SnPNY9dSESL4ReMg5ReuWPEeBKUG9IpEhGuof0AV+hg7XsIjC79hc+3Hsq8=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762514494; c=relaxed/simple;
	bh=9iK1e0arG5sk9dKhcZ8+y80Aim9yH795LPCQSsJ3ww4=;
	h=Message-ID:Date:MIME-Version:Subject:To:Cc:References:From:
	 In-Reply-To:Content-Type; b=b3HMu1ujatCKaUxrv8MmcPvsdcvfX4VUE8QKabRuGXgTFYDjA5f+1Zuuq343fMXiQrkgfhSsJRCM2uxeEWTuFqEbZ3rzD7KfJkmtvTA+FunGtSUM1rTUPzZ4jDrlO7Q85KjvVadKARjHQTHHAoRtpWGcF7iVEX3Xzae1M0CN4+o=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=freeshell.de; spf=pass smtp.mailfrom=freeshell.de; dkim=pass (2048-bit key) header.d=freeshell.de header.i=@freeshell.de header.b=hdPZP/Gu; arc=none smtp.client-ip=116.202.128.144
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=freeshell.de
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=freeshell.de
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=freeshell.de header.i=@freeshell.de header.b="hdPZP/Gu"
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=freeshell.de;
	s=s2025; t=1762514457;
	bh=hUMRAdATsttLNlsrLVuPVviCKivZ9rxSuFousSL+h5c=;
	h=Date:Subject:To:Cc:References:From:In-Reply-To:From;
	b=hdPZP/GuZAsk84iBtoepSHNV5pYJvfh3UMAq8iqGYnbTuKJYWq9bmo3zDmSLAZvLn
	 ASBPN7JUGpMEkWaRi2tDFEnUysaELSF+A21lpvp8WmEl+MaHf1x/QlFYSnQGyJ7swL
	 DXnt3h1FaSj4W4QmyGt9fH7sNXxOeoGtFcB4MA3ZBqLXsU+EpwN6pG96fHubnJ932O
	 lNQ/kI+R5kkvd4AoOuB1nHkM1JV39fOgEuVKe2VUQIS7TK0m0tABozwSkXRYyS0BeW
	 Zy2vKzrCUCpG4YBjboG0215JV0sPIAbgXyShB55MwiVHko75pYA96UrDZ73SzS2MQG
	 ecwzwQvwWrU9w==
Received: from [192.168.2.54] (unknown [143.105.119.212])
	(Authenticated sender: e)
	by freeshell.de (Postfix) with ESMTPSA id BDC09B22046F;
	Fri,  7 Nov 2025 12:20:53 +0100 (CET)
Message-ID: <dba78080-682f-45d5-9403-bcead3c0eb11@freeshell.de>
Date: Fri, 7 Nov 2025 03:20:51 -0800
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
User-Agent: Mozilla Thunderbird
Subject: Re: [PATCH v2 4/8] riscv: dts: starfive: Split jh7110-common.dtsi and
 move opp table to it
To: Hal Feng <hal.feng@starfivetech.com>, Conor Dooley <conor+dt@kernel.org>,
 Rob Herring <robh@kernel.org>, Krzysztof Kozlowski <krzk+dt@kernel.org>,
 Palmer Dabbelt <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>,
 Albert Ou <aou@eecs.berkeley.edu>, "Rafael J . Wysocki" <rafael@kernel.org>,
 Viresh Kumar <viresh.kumar@linaro.org>, Bjorn Helgaas <bhelgaas@google.com>,
 Lorenzo Pieralisi <lpieralisi@kernel.org>,
 =?UTF-8?Q?Krzysztof_Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
 Manivannan Sadhasivam <mani@kernel.org>,
 Emil Renner Berthing <emil.renner.berthing@canonical.com>,
 Heinrich Schuchardt <heinrich.schuchardt@canonical.com>
Cc: devicetree@vger.kernel.org, linux-riscv@lists.infradead.org,
 linux-kernel@vger.kernel.org
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <20251107095530.114775-5-hal.feng@starfivetech.com>
Content-Language: en-US
From: E Shattow <e@freeshell.de>
In-Reply-To: <20251107095530.114775-5-hal.feng@starfivetech.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit



On 11/7/25 01:55, Hal Feng wrote:
> Preparing to add JH7110S based board device trees, move the content of
> jh7110-common.dtsi to the new file jh711x-common.dtsi and move opp table
> to jh7110-common.dtsi.
> 
> Signed-off-by: Hal Feng <hal.feng@starfivetech.com>
> ---
>  .../boot/dts/starfive/jh7110-common.dtsi      | 665 +-----------------
>  .../boot/dts/starfive/jh711x-common.dtsi      | 664 +++++++++++++++++
>  arch/riscv/boot/dts/starfive/jh711x.dtsi      |  16 -
>  3 files changed, 678 insertions(+), 667 deletions(-)
>  create mode 100644 arch/riscv/boot/dts/starfive/jh711x-common.dtsi
> 
> diff --git a/arch/riscv/boot/dts/starfive/jh7110-common.dtsi b/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
> index 809274625615..dd5805ef70a1 100644
> --- a/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
> +++ b/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
> @@ -5,660 +5,23 @@
>   */
>  
>  /dts-v1/;
> -#include "jh711x.dtsi"
> -#include "jh7110-pinfunc.h"
> -#include <dt-bindings/gpio/gpio.h>
> -#include <dt-bindings/leds/common.h>
> -#include <dt-bindings/pinctrl/starfive,jh7110-pinctrl.h>
> +#include "jh711x-common.dtsi"
>  
> -/ {
> -	aliases {
> -		ethernet0 = &gmac0;
> -		i2c0 = &i2c0;
> -		i2c2 = &i2c2;
> -		i2c5 = &i2c5;
> -		i2c6 = &i2c6;
> -		mmc0 = &mmc0;
> -		mmc1 = &mmc1;
> -		serial0 = &uart0;
> +&cpu_opp {
> +	opp-375000000 {
> +		opp-hz = /bits/ 64 <375000000>;
> +		opp-microvolt = <800000>;
>  	};
> -
> -	chosen {
> -		stdout-path = "serial0:115200n8";
> -	};
> -
> -	memory@40000000 {
> -		device_type = "memory";
> -		reg = <0x0 0x40000000 0x1 0x0>;
> -		bootph-pre-ram;
> -	};
> -
> -	gpio-restart {
> -		compatible = "gpio-restart";
> -		gpios = <&sysgpio 35 GPIO_ACTIVE_HIGH>;
> -		priority = <224>;
> -	};
> -
> -	leds {
> -		compatible = "gpio-leds";
> -
> -		led_status_power: led-0 {
> -			gpios = <&aongpio 3 GPIO_ACTIVE_HIGH>;
> -		};
> -	};
> -
> -	pwmdac_codec: audio-codec {
> -		compatible = "linux,spdif-dit";
> -		#sound-dai-cells = <0>;
> -	};
> -
> -	sound {
> -		compatible = "simple-audio-card";
> -		simple-audio-card,name = "StarFive-PWMDAC-Sound-Card";
> -		#address-cells = <1>;
> -		#size-cells = <0>;
> -
> -		simple-audio-card,dai-link@0 {
> -			reg = <0>;
> -			format = "left_j";
> -			bitclock-master = <&sndcpu0>;
> -			frame-master = <&sndcpu0>;
> -
> -			sndcpu0: cpu {
> -				sound-dai = <&pwmdac>;
> -			};
> -
> -			codec {
> -				sound-dai = <&pwmdac_codec>;
> -			};
> -		};
> -	};
> -};
> -
> -&cpus {
> -	timebase-frequency = <4000000>;
> -};
> -
> -&dvp_clk {
> -	clock-frequency = <74250000>;
> -};
> -
> -&gmac0_rgmii_rxin {
> -	clock-frequency = <125000000>;
> -};
> -
> -&gmac0_rmii_refin {
> -	clock-frequency = <50000000>;
> -};
> -
> -&gmac1_rgmii_rxin {
> -	clock-frequency = <125000000>;
> -};
> -
> -&gmac1_rmii_refin {
> -	clock-frequency = <50000000>;
> -};
> -
> -&hdmitx0_pixelclk {
> -	clock-frequency = <297000000>;
> -};
> -
> -&i2srx_bclk_ext {
> -	clock-frequency = <12288000>;
> -};
> -
> -&i2srx_lrck_ext {
> -	clock-frequency = <192000>;
> -};
> -
> -&i2stx_bclk_ext {
> -	clock-frequency = <12288000>;
> -};
> -
> -&i2stx_lrck_ext {
> -	clock-frequency = <192000>;
> -};
> -
> -&mclk_ext {
> -	clock-frequency = <12288000>;
> -};
> -
> -&osc {
> -	clock-frequency = <24000000>;
> -};
> -
> -&rtc_osc {
> -	clock-frequency = <32768>;
> -};
> -
> -&tdm_ext {
> -	clock-frequency = <49152000>;
> -};
> -
> -&camss {
> -	assigned-clocks = <&ispcrg JH7110_ISPCLK_DOM4_APB_FUNC>,
> -			  <&ispcrg JH7110_ISPCLK_MIPI_RX0_PXL>;
> -	assigned-clock-rates = <49500000>, <198000000>;
> -
> -	ports {
> -		#address-cells = <1>;
> -		#size-cells = <0>;
> -
> -		port@0 {
> -			reg = <0>;
> -		};
> -
> -		port@1 {
> -			reg = <1>;
> -
> -			camss_from_csi2rx: endpoint {
> -				remote-endpoint = <&csi2rx_to_camss>;
> -			};
> -		};
> +	opp-500000000 {
> +		opp-hz = /bits/ 64 <500000000>;
> +		opp-microvolt = <800000>;
>  	};
> -};
> -
> -&csi2rx {
> -	assigned-clocks = <&ispcrg JH7110_ISPCLK_VIN_SYS>;
> -	assigned-clock-rates = <297000000>;
> -
> -	ports {
> -		#address-cells = <1>;
> -		#size-cells = <0>;
> -
> -		port@0 {
> -			reg = <0>;
> -
> -			/* remote MIPI sensor endpoint */
> -		};
> -
> -		port@1 {
> -			reg = <1>;
> -
> -			csi2rx_to_camss: endpoint {
> -				remote-endpoint = <&camss_from_csi2rx>;
> -			};
> -		};
> +	opp-750000000 {
> +		opp-hz = /bits/ 64 <750000000>;
> +		opp-microvolt = <800000>;
>  	};
> -};
> -
> -&gmac0 {
> -	phy-handle = <&phy0>;
> -	phy-mode = "rgmii-id";
> -
> -	mdio {
> -		#address-cells = <1>;
> -		#size-cells = <0>;
> -		compatible = "snps,dwmac-mdio";
> -
> -		phy0: ethernet-phy@0 {
> -			reg = <0>;
> -		};
> +	opp-1500000000 {
> +		opp-hz = /bits/ 64 <1500000000>;
> +		opp-microvolt = <1040000>;
>  	};
>  };
> -
> -&i2c0 {
> -	clock-frequency = <100000>;
> -	i2c-sda-hold-time-ns = <300>;
> -	i2c-sda-falling-time-ns = <510>;
> -	i2c-scl-falling-time-ns = <510>;
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&i2c0_pins>;
> -};
> -
> -&i2c2 {
> -	clock-frequency = <100000>;
> -	i2c-sda-hold-time-ns = <300>;
> -	i2c-sda-falling-time-ns = <510>;
> -	i2c-scl-falling-time-ns = <510>;
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&i2c2_pins>;
> -	status = "okay";
> -};
> -
> -&i2c5 {
> -	clock-frequency = <100000>;
> -	i2c-sda-hold-time-ns = <300>;
> -	i2c-sda-falling-time-ns = <510>;
> -	i2c-scl-falling-time-ns = <510>;
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&i2c5_pins>;
> -	status = "okay";
> -
> -	axp15060: pmic@36 {
> -		compatible = "x-powers,axp15060";
> -		reg = <0x36>;
> -		interrupt-controller;
> -		#interrupt-cells = <1>;
> -
> -		regulators {
> -			vcc_3v3: dcdc1 {
> -				regulator-boot-on;
> -				regulator-always-on;
> -				regulator-min-microvolt = <3300000>;
> -				regulator-max-microvolt = <3300000>;
> -				regulator-name = "vcc_3v3";
> -			};
> -
> -			vdd_cpu: dcdc2 {
> -				regulator-always-on;
> -				regulator-min-microvolt = <500000>;
> -				regulator-max-microvolt = <1540000>;
> -				regulator-name = "vdd_cpu";
> -			};
> -
> -			emmc_vdd: aldo4 {
> -				regulator-boot-on;
> -				regulator-always-on;
> -				regulator-min-microvolt = <1800000>;
> -				regulator-max-microvolt = <3300000>;
> -				regulator-name = "emmc_vdd";
> -			};
> -		};
> -	};
> -
> -	eeprom@50 {
> -		compatible = "atmel,24c04";
> -		reg = <0x50>;
> -		bootph-pre-ram;
> -		pagesize = <16>;
> -	};
> -};
> -
> -&i2c6 {
> -	clock-frequency = <100000>;
> -	i2c-sda-hold-time-ns = <300>;
> -	i2c-sda-falling-time-ns = <510>;
> -	i2c-scl-falling-time-ns = <510>;
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&i2c6_pins>;
> -	status = "okay";
> -};
> -
> -&mmc0 {
> -	max-frequency = <100000000>;
> -	assigned-clocks = <&syscrg JH7110_SYSCLK_SDIO0_SDCARD>;
> -	assigned-clock-rates = <50000000>;
> -	bus-width = <8>;
> -	bootph-pre-ram;
> -	cap-mmc-highspeed;
> -	mmc-ddr-1_8v;
> -	mmc-hs200-1_8v;
> -	cap-mmc-hw-reset;
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&mmc0_pins>;
> -	vmmc-supply = <&vcc_3v3>;
> -	vqmmc-supply = <&emmc_vdd>;
> -	status = "okay";
> -};
> -
> -&mmc1 {
> -	max-frequency = <100000000>;
> -	assigned-clocks = <&syscrg JH7110_SYSCLK_SDIO1_SDCARD>;
> -	assigned-clock-rates = <50000000>;
> -	bus-width = <4>;
> -	bootph-pre-ram;
> -	cd-gpios = <&sysgpio 41 GPIO_ACTIVE_LOW>;
> -	disable-wp;
> -	cap-sd-highspeed;
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&mmc1_pins>;
> -	status = "okay";
> -};
> -
> -&pcie0 {
> -	perst-gpios = <&sysgpio 26 GPIO_ACTIVE_LOW>;
> -	phys = <&pciephy0>;
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&pcie0_pins>;
> -};
> -
> -&pcie1 {
> -	perst-gpios = <&sysgpio 28 GPIO_ACTIVE_LOW>;
> -	phys = <&pciephy1>;
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&pcie1_pins>;
> -};
> -
> -&pwmdac {
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&pwmdac_pins>;
> -};
> -
> -&qspi {
> -	#address-cells = <1>;
> -	#size-cells = <0>;
> -	status = "okay";
> -
> -	nor_flash: flash@0 {
> -		compatible = "jedec,spi-nor";
> -		reg = <0>;
> -		bootph-pre-ram;
> -		cdns,read-delay = <2>;
> -		spi-max-frequency = <100000000>;
> -		cdns,tshsl-ns = <1>;
> -		cdns,tsd2d-ns = <1>;
> -		cdns,tchsh-ns = <1>;
> -		cdns,tslch-ns = <1>;
> -
> -		partitions {
> -			compatible = "fixed-partitions";
> -			#address-cells = <1>;
> -			#size-cells = <1>;
> -
> -			spl@0 {
> -				reg = <0x0 0xf0000>;
> -			};
> -			uboot-env@f0000 {
> -				reg = <0xf0000 0x10000>;
> -			};
> -			uboot@100000 {
> -				reg = <0x100000 0xf00000>;
> -			};
> -		};
> -	};
> -};
> -
> -&pwm {
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&pwm_pins>;
> -};
> -
> -&spi0 {
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&spi0_pins>;
> -};
> -
> -&syscrg {
> -	assigned-clocks = <&syscrg JH7110_SYSCLK_CPU_ROOT>,
> -			  <&syscrg JH7110_SYSCLK_BUS_ROOT>,
> -			  <&syscrg JH7110_SYSCLK_PERH_ROOT>,
> -			  <&syscrg JH7110_SYSCLK_QSPI_REF>,
> -			  <&syscrg JH7110_SYSCLK_CPU_CORE>,
> -			  <&pllclk JH7110_PLLCLK_PLL0_OUT>;
> -	assigned-clock-parents = <&pllclk JH7110_PLLCLK_PLL0_OUT>,
> -				 <&pllclk JH7110_PLLCLK_PLL2_OUT>,
> -				 <&pllclk JH7110_PLLCLK_PLL2_OUT>,
> -				 <&syscrg JH7110_SYSCLK_QSPI_REF_SRC>;
> -	assigned-clock-rates = <0>, <0>, <0>, <0>, <500000000>, <1500000000>;
> -};
> -
> -&sysgpio {
> -	i2c0_pins: i2c0-0 {
> -		i2c-pins {
> -			pinmux = <GPIOMUX(57, GPOUT_LOW,
> -					      GPOEN_SYS_I2C0_CLK,
> -					      GPI_SYS_I2C0_CLK)>,
> -				 <GPIOMUX(58, GPOUT_LOW,
> -					      GPOEN_SYS_I2C0_DATA,
> -					      GPI_SYS_I2C0_DATA)>;
> -			bias-disable; /* external pull-up */
> -			input-enable;
> -			input-schmitt-enable;
> -		};
> -	};
> -
> -	i2c2_pins: i2c2-0 {
> -		i2c-pins {
> -			pinmux = <GPIOMUX(3, GPOUT_LOW,
> -					     GPOEN_SYS_I2C2_CLK,
> -					     GPI_SYS_I2C2_CLK)>,
> -				 <GPIOMUX(2, GPOUT_LOW,
> -					     GPOEN_SYS_I2C2_DATA,
> -					     GPI_SYS_I2C2_DATA)>;
> -			bias-disable; /* external pull-up */
> -			input-enable;
> -			input-schmitt-enable;
> -		};
> -	};
> -
> -	i2c5_pins: i2c5-0 {
> -		bootph-pre-ram;
> -
> -		i2c-pins {
> -			pinmux = <GPIOMUX(19, GPOUT_LOW,
> -					      GPOEN_SYS_I2C5_CLK,
> -					      GPI_SYS_I2C5_CLK)>,
> -				 <GPIOMUX(20, GPOUT_LOW,
> -					      GPOEN_SYS_I2C5_DATA,
> -					      GPI_SYS_I2C5_DATA)>;
> -			bias-disable; /* external pull-up */
> -			bootph-pre-ram;
> -			input-enable;
> -			input-schmitt-enable;
> -		};
> -	};
> -
> -	i2c6_pins: i2c6-0 {
> -		i2c-pins {
> -			pinmux = <GPIOMUX(16, GPOUT_LOW,
> -					      GPOEN_SYS_I2C6_CLK,
> -					      GPI_SYS_I2C6_CLK)>,
> -				 <GPIOMUX(17, GPOUT_LOW,
> -					      GPOEN_SYS_I2C6_DATA,
> -					      GPI_SYS_I2C6_DATA)>;
> -			bias-disable; /* external pull-up */
> -			input-enable;
> -			input-schmitt-enable;
> -		};
> -	};
> -
> -	mmc0_pins: mmc0-0 {
> -		mmc-pins {
> -			pinmux = <PINMUX(PAD_SD0_CLK, 0)>,
> -				 <PINMUX(PAD_SD0_CMD, 0)>,
> -				 <PINMUX(PAD_SD0_DATA0, 0)>,
> -				 <PINMUX(PAD_SD0_DATA1, 0)>,
> -				 <PINMUX(PAD_SD0_DATA2, 0)>,
> -				 <PINMUX(PAD_SD0_DATA3, 0)>,
> -				 <PINMUX(PAD_SD0_DATA4, 0)>,
> -				 <PINMUX(PAD_SD0_DATA5, 0)>,
> -				 <PINMUX(PAD_SD0_DATA6, 0)>,
> -				 <PINMUX(PAD_SD0_DATA7, 0)>;
> -			bias-pull-up;
> -			drive-strength = <12>;
> -			input-enable;
> -		};
> -	};
> -
> -	mmc1_pins: mmc1-0 {
> -		clk-pins {
> -			pinmux = <GPIOMUX(10, GPOUT_SYS_SDIO1_CLK,
> -					      GPOEN_ENABLE,
> -					      GPI_NONE)>;
> -			bias-pull-up;
> -			drive-strength = <12>;
> -			input-disable;
> -			input-schmitt-disable;
> -			slew-rate = <0>;
> -		};
> -
> -		mmc-pins {
> -			pinmux = <GPIOMUX(9, GPOUT_SYS_SDIO1_CMD,
> -					     GPOEN_SYS_SDIO1_CMD,
> -					     GPI_SYS_SDIO1_CMD)>,
> -				 <GPIOMUX(11, GPOUT_SYS_SDIO1_DATA0,
> -					      GPOEN_SYS_SDIO1_DATA0,
> -					      GPI_SYS_SDIO1_DATA0)>,
> -				 <GPIOMUX(12, GPOUT_SYS_SDIO1_DATA1,
> -					      GPOEN_SYS_SDIO1_DATA1,
> -					      GPI_SYS_SDIO1_DATA1)>,
> -				 <GPIOMUX(7, GPOUT_SYS_SDIO1_DATA2,
> -					     GPOEN_SYS_SDIO1_DATA2,
> -					     GPI_SYS_SDIO1_DATA2)>,
> -				 <GPIOMUX(8, GPOUT_SYS_SDIO1_DATA3,
> -					     GPOEN_SYS_SDIO1_DATA3,
> -					     GPI_SYS_SDIO1_DATA3)>;
> -			bias-pull-up;
> -			drive-strength = <12>;
> -			input-enable;
> -			input-schmitt-enable;
> -			slew-rate = <0>;
> -		};
> -	};
> -
> -	pcie0_pins: pcie0-0 {
> -		clkreq-pins {
> -			pinmux = <GPIOMUX(27, GPOUT_LOW,
> -					      GPOEN_DISABLE,
> -					      GPI_NONE)>;
> -			bias-pull-down;
> -			drive-strength = <2>;
> -			input-enable;
> -			input-schmitt-disable;
> -			slew-rate = <0>;
> -		};
> -
> -		wake-pins {
> -			pinmux = <GPIOMUX(32, GPOUT_LOW,
> -					      GPOEN_DISABLE,
> -					      GPI_NONE)>;
> -			bias-pull-up;
> -			drive-strength = <2>;
> -			input-enable;
> -			input-schmitt-disable;
> -			slew-rate = <0>;
> -		};
> -	};
> -
> -	pcie1_pins: pcie1-0 {
> -		clkreq-pins {
> -			pinmux = <GPIOMUX(29, GPOUT_LOW,
> -					      GPOEN_DISABLE,
> -					      GPI_NONE)>;
> -			bias-pull-down;
> -			drive-strength = <2>;
> -			input-enable;
> -			input-schmitt-disable;
> -			slew-rate = <0>;
> -		};
> -
> -		wake-pins {
> -			pinmux = <GPIOMUX(21, GPOUT_LOW,
> -				      GPOEN_DISABLE,
> -					      GPI_NONE)>;
> -			bias-pull-up;
> -			drive-strength = <2>;
> -			input-enable;
> -			input-schmitt-disable;
> -			slew-rate = <0>;
> -		};
> -	};
> -
> -	pwmdac_pins: pwmdac-0 {
> -		pwmdac-pins {
> -			pinmux = <GPIOMUX(33, GPOUT_SYS_PWMDAC_LEFT,
> -					      GPOEN_ENABLE,
> -					      GPI_NONE)>,
> -				 <GPIOMUX(34, GPOUT_SYS_PWMDAC_RIGHT,
> -					      GPOEN_ENABLE,
> -					      GPI_NONE)>;
> -			bias-disable;
> -			drive-strength = <2>;
> -			input-disable;
> -			input-schmitt-disable;
> -			slew-rate = <0>;
> -		};
> -	};
> -
> -	pwm_pins: pwm-0 {
> -		pwm-pins {
> -			pinmux = <GPIOMUX(46, GPOUT_SYS_PWM_CHANNEL0,
> -					      GPOEN_SYS_PWM0_CHANNEL0,
> -					      GPI_NONE)>,
> -				 <GPIOMUX(59, GPOUT_SYS_PWM_CHANNEL1,
> -					      GPOEN_SYS_PWM0_CHANNEL1,
> -					      GPI_NONE)>;
> -			bias-disable;
> -			drive-strength = <12>;
> -			input-disable;
> -			input-schmitt-disable;
> -			slew-rate = <0>;
> -		};
> -	};
> -
> -	spi0_pins: spi0-0 {
> -		mosi-pins {
> -			pinmux = <GPIOMUX(52, GPOUT_SYS_SPI0_TXD,
> -					      GPOEN_ENABLE,
> -					      GPI_NONE)>;
> -			bias-disable;
> -			input-disable;
> -			input-schmitt-disable;
> -		};
> -
> -		miso-pins {
> -			pinmux = <GPIOMUX(53, GPOUT_LOW,
> -					      GPOEN_DISABLE,
> -					      GPI_SYS_SPI0_RXD)>;
> -			bias-pull-up;
> -			input-enable;
> -			input-schmitt-enable;
> -		};
> -
> -		sck-pins {
> -			pinmux = <GPIOMUX(48, GPOUT_SYS_SPI0_CLK,
> -					      GPOEN_ENABLE,
> -					      GPI_SYS_SPI0_CLK)>;
> -			bias-disable;
> -			input-disable;
> -			input-schmitt-disable;
> -		};
> -
> -		ss-pins {
> -			pinmux = <GPIOMUX(49, GPOUT_SYS_SPI0_FSS,
> -					      GPOEN_ENABLE,
> -					      GPI_SYS_SPI0_FSS)>;
> -			bias-disable;
> -			input-disable;
> -			input-schmitt-disable;
> -		};
> -	};
> -
> -	uart0_pins: uart0-0 {
> -		tx-pins {
> -			pinmux = <GPIOMUX(5, GPOUT_SYS_UART0_TX,
> -					     GPOEN_ENABLE,
> -					     GPI_NONE)>;
> -			bias-disable;
> -			drive-strength = <12>;
> -			input-disable;
> -			input-schmitt-disable;
> -			slew-rate = <0>;
> -		};
> -
> -		rx-pins {
> -			pinmux = <GPIOMUX(6, GPOUT_LOW,
> -					     GPOEN_DISABLE,
> -					     GPI_SYS_UART0_RX)>;
> -			bias-disable; /* external pull-up */
> -			drive-strength = <2>;
> -			input-enable;
> -			input-schmitt-enable;
> -			slew-rate = <0>;
> -		};
> -	};
> -};
> -
> -&uart0 {
> -	bootph-pre-ram;
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&uart0_pins>;
> -	status = "okay";
> -};
> -
> -&U74_1 {
> -	cpu-supply = <&vdd_cpu>;
> -};
> -
> -&U74_2 {
> -	cpu-supply = <&vdd_cpu>;
> -};
> -
> -&U74_3 {
> -	cpu-supply = <&vdd_cpu>;
> -};
> -
> -&U74_4 {
> -	cpu-supply = <&vdd_cpu>;
> -};
> diff --git a/arch/riscv/boot/dts/starfive/jh711x-common.dtsi b/arch/riscv/boot/dts/starfive/jh711x-common.dtsi
> new file mode 100644
> index 000000000000..809274625615
> --- /dev/null
> +++ b/arch/riscv/boot/dts/starfive/jh711x-common.dtsi
> @@ -0,0 +1,664 @@
> +// SPDX-License-Identifier: GPL-2.0 OR MIT
> +/*
> + * Copyright (C) 2022 StarFive Technology Co., Ltd.
> + * Copyright (C) 2022 Emil Renner Berthing <kernel@esmil.dk>
> + */
> +
> +/dts-v1/;
> +#include "jh711x.dtsi"
> +#include "jh7110-pinfunc.h"
> +#include <dt-bindings/gpio/gpio.h>
> +#include <dt-bindings/leds/common.h>
> +#include <dt-bindings/pinctrl/starfive,jh7110-pinctrl.h>
> +
> +/ {
> +	aliases {
> +		ethernet0 = &gmac0;
> +		i2c0 = &i2c0;
> +		i2c2 = &i2c2;
> +		i2c5 = &i2c5;
> +		i2c6 = &i2c6;
> +		mmc0 = &mmc0;
> +		mmc1 = &mmc1;
> +		serial0 = &uart0;
> +	};
> +
> +	chosen {
> +		stdout-path = "serial0:115200n8";
> +	};
> +
> +	memory@40000000 {
> +		device_type = "memory";
> +		reg = <0x0 0x40000000 0x1 0x0>;
> +		bootph-pre-ram;
> +	};
> +
> +	gpio-restart {
> +		compatible = "gpio-restart";
> +		gpios = <&sysgpio 35 GPIO_ACTIVE_HIGH>;
> +		priority = <224>;
> +	};
> +
> +	leds {
> +		compatible = "gpio-leds";
> +
> +		led_status_power: led-0 {
> +			gpios = <&aongpio 3 GPIO_ACTIVE_HIGH>;
> +		};
> +	};
> +
> +	pwmdac_codec: audio-codec {
> +		compatible = "linux,spdif-dit";
> +		#sound-dai-cells = <0>;
> +	};
> +
> +	sound {
> +		compatible = "simple-audio-card";
> +		simple-audio-card,name = "StarFive-PWMDAC-Sound-Card";
> +		#address-cells = <1>;
> +		#size-cells = <0>;
> +
> +		simple-audio-card,dai-link@0 {
> +			reg = <0>;
> +			format = "left_j";
> +			bitclock-master = <&sndcpu0>;
> +			frame-master = <&sndcpu0>;
> +
> +			sndcpu0: cpu {
> +				sound-dai = <&pwmdac>;
> +			};
> +
> +			codec {
> +				sound-dai = <&pwmdac_codec>;
> +			};
> +		};
> +	};
> +};
> +
> +&cpus {
> +	timebase-frequency = <4000000>;
> +};
> +
> +&dvp_clk {
> +	clock-frequency = <74250000>;
> +};
> +
> +&gmac0_rgmii_rxin {
> +	clock-frequency = <125000000>;
> +};
> +
> +&gmac0_rmii_refin {
> +	clock-frequency = <50000000>;
> +};
> +
> +&gmac1_rgmii_rxin {
> +	clock-frequency = <125000000>;
> +};
> +
> +&gmac1_rmii_refin {
> +	clock-frequency = <50000000>;
> +};
> +
> +&hdmitx0_pixelclk {
> +	clock-frequency = <297000000>;
> +};
> +
> +&i2srx_bclk_ext {
> +	clock-frequency = <12288000>;
> +};
> +
> +&i2srx_lrck_ext {
> +	clock-frequency = <192000>;
> +};
> +
> +&i2stx_bclk_ext {
> +	clock-frequency = <12288000>;
> +};
> +
> +&i2stx_lrck_ext {
> +	clock-frequency = <192000>;
> +};
> +
> +&mclk_ext {
> +	clock-frequency = <12288000>;
> +};
> +
> +&osc {
> +	clock-frequency = <24000000>;
> +};
> +
> +&rtc_osc {
> +	clock-frequency = <32768>;
> +};
> +
> +&tdm_ext {
> +	clock-frequency = <49152000>;
> +};
> +
> +&camss {
> +	assigned-clocks = <&ispcrg JH7110_ISPCLK_DOM4_APB_FUNC>,
> +			  <&ispcrg JH7110_ISPCLK_MIPI_RX0_PXL>;
> +	assigned-clock-rates = <49500000>, <198000000>;
> +
> +	ports {
> +		#address-cells = <1>;
> +		#size-cells = <0>;
> +
> +		port@0 {
> +			reg = <0>;
> +		};
> +
> +		port@1 {
> +			reg = <1>;
> +
> +			camss_from_csi2rx: endpoint {
> +				remote-endpoint = <&csi2rx_to_camss>;
> +			};
> +		};
> +	};
> +};
> +
> +&csi2rx {
> +	assigned-clocks = <&ispcrg JH7110_ISPCLK_VIN_SYS>;
> +	assigned-clock-rates = <297000000>;
> +
> +	ports {
> +		#address-cells = <1>;
> +		#size-cells = <0>;
> +
> +		port@0 {
> +			reg = <0>;
> +
> +			/* remote MIPI sensor endpoint */
> +		};
> +
> +		port@1 {
> +			reg = <1>;
> +
> +			csi2rx_to_camss: endpoint {
> +				remote-endpoint = <&camss_from_csi2rx>;
> +			};
> +		};
> +	};
> +};
> +
> +&gmac0 {
> +	phy-handle = <&phy0>;
> +	phy-mode = "rgmii-id";
> +
> +	mdio {
> +		#address-cells = <1>;
> +		#size-cells = <0>;
> +		compatible = "snps,dwmac-mdio";
> +
> +		phy0: ethernet-phy@0 {
> +			reg = <0>;
> +		};
> +	};
> +};
> +
> +&i2c0 {
> +	clock-frequency = <100000>;
> +	i2c-sda-hold-time-ns = <300>;
> +	i2c-sda-falling-time-ns = <510>;
> +	i2c-scl-falling-time-ns = <510>;
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&i2c0_pins>;
> +};
> +
> +&i2c2 {
> +	clock-frequency = <100000>;
> +	i2c-sda-hold-time-ns = <300>;
> +	i2c-sda-falling-time-ns = <510>;
> +	i2c-scl-falling-time-ns = <510>;
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&i2c2_pins>;
> +	status = "okay";
> +};
> +
> +&i2c5 {
> +	clock-frequency = <100000>;
> +	i2c-sda-hold-time-ns = <300>;
> +	i2c-sda-falling-time-ns = <510>;
> +	i2c-scl-falling-time-ns = <510>;
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&i2c5_pins>;
> +	status = "okay";
> +
> +	axp15060: pmic@36 {
> +		compatible = "x-powers,axp15060";
> +		reg = <0x36>;
> +		interrupt-controller;
> +		#interrupt-cells = <1>;
> +
> +		regulators {
> +			vcc_3v3: dcdc1 {
> +				regulator-boot-on;
> +				regulator-always-on;
> +				regulator-min-microvolt = <3300000>;
> +				regulator-max-microvolt = <3300000>;
> +				regulator-name = "vcc_3v3";
> +			};
> +
> +			vdd_cpu: dcdc2 {
> +				regulator-always-on;
> +				regulator-min-microvolt = <500000>;
> +				regulator-max-microvolt = <1540000>;
> +				regulator-name = "vdd_cpu";
> +			};
> +
> +			emmc_vdd: aldo4 {
> +				regulator-boot-on;
> +				regulator-always-on;
> +				regulator-min-microvolt = <1800000>;
> +				regulator-max-microvolt = <3300000>;
> +				regulator-name = "emmc_vdd";
> +			};
> +		};
> +	};
> +
> +	eeprom@50 {
> +		compatible = "atmel,24c04";
> +		reg = <0x50>;
> +		bootph-pre-ram;
> +		pagesize = <16>;
> +	};
> +};
> +
> +&i2c6 {
> +	clock-frequency = <100000>;
> +	i2c-sda-hold-time-ns = <300>;
> +	i2c-sda-falling-time-ns = <510>;
> +	i2c-scl-falling-time-ns = <510>;
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&i2c6_pins>;
> +	status = "okay";
> +};
> +
> +&mmc0 {
> +	max-frequency = <100000000>;
> +	assigned-clocks = <&syscrg JH7110_SYSCLK_SDIO0_SDCARD>;
> +	assigned-clock-rates = <50000000>;
> +	bus-width = <8>;
> +	bootph-pre-ram;
> +	cap-mmc-highspeed;
> +	mmc-ddr-1_8v;
> +	mmc-hs200-1_8v;
> +	cap-mmc-hw-reset;
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&mmc0_pins>;
> +	vmmc-supply = <&vcc_3v3>;
> +	vqmmc-supply = <&emmc_vdd>;
> +	status = "okay";
> +};
> +
> +&mmc1 {
> +	max-frequency = <100000000>;
> +	assigned-clocks = <&syscrg JH7110_SYSCLK_SDIO1_SDCARD>;
> +	assigned-clock-rates = <50000000>;
> +	bus-width = <4>;
> +	bootph-pre-ram;
> +	cd-gpios = <&sysgpio 41 GPIO_ACTIVE_LOW>;
> +	disable-wp;
> +	cap-sd-highspeed;
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&mmc1_pins>;
> +	status = "okay";
> +};
> +
> +&pcie0 {
> +	perst-gpios = <&sysgpio 26 GPIO_ACTIVE_LOW>;
> +	phys = <&pciephy0>;
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&pcie0_pins>;
> +};
> +
> +&pcie1 {
> +	perst-gpios = <&sysgpio 28 GPIO_ACTIVE_LOW>;
> +	phys = <&pciephy1>;
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&pcie1_pins>;
> +};
> +
> +&pwmdac {
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&pwmdac_pins>;
> +};
> +
> +&qspi {
> +	#address-cells = <1>;
> +	#size-cells = <0>;
> +	status = "okay";
> +
> +	nor_flash: flash@0 {
> +		compatible = "jedec,spi-nor";
> +		reg = <0>;
> +		bootph-pre-ram;
> +		cdns,read-delay = <2>;
> +		spi-max-frequency = <100000000>;
> +		cdns,tshsl-ns = <1>;
> +		cdns,tsd2d-ns = <1>;
> +		cdns,tchsh-ns = <1>;
> +		cdns,tslch-ns = <1>;
> +
> +		partitions {
> +			compatible = "fixed-partitions";
> +			#address-cells = <1>;
> +			#size-cells = <1>;
> +
> +			spl@0 {
> +				reg = <0x0 0xf0000>;
> +			};
> +			uboot-env@f0000 {
> +				reg = <0xf0000 0x10000>;
> +			};
> +			uboot@100000 {
> +				reg = <0x100000 0xf00000>;
> +			};
> +		};
> +	};
> +};
> +
> +&pwm {
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&pwm_pins>;
> +};
> +
> +&spi0 {
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&spi0_pins>;
> +};
> +
> +&syscrg {
> +	assigned-clocks = <&syscrg JH7110_SYSCLK_CPU_ROOT>,
> +			  <&syscrg JH7110_SYSCLK_BUS_ROOT>,
> +			  <&syscrg JH7110_SYSCLK_PERH_ROOT>,
> +			  <&syscrg JH7110_SYSCLK_QSPI_REF>,
> +			  <&syscrg JH7110_SYSCLK_CPU_CORE>,
> +			  <&pllclk JH7110_PLLCLK_PLL0_OUT>;
> +	assigned-clock-parents = <&pllclk JH7110_PLLCLK_PLL0_OUT>,
> +				 <&pllclk JH7110_PLLCLK_PLL2_OUT>,
> +				 <&pllclk JH7110_PLLCLK_PLL2_OUT>,
> +				 <&syscrg JH7110_SYSCLK_QSPI_REF_SRC>;
> +	assigned-clock-rates = <0>, <0>, <0>, <0>, <500000000>, <1500000000>;
> +};
> +
> +&sysgpio {
> +	i2c0_pins: i2c0-0 {
> +		i2c-pins {
> +			pinmux = <GPIOMUX(57, GPOUT_LOW,
> +					      GPOEN_SYS_I2C0_CLK,
> +					      GPI_SYS_I2C0_CLK)>,
> +				 <GPIOMUX(58, GPOUT_LOW,
> +					      GPOEN_SYS_I2C0_DATA,
> +					      GPI_SYS_I2C0_DATA)>;
> +			bias-disable; /* external pull-up */
> +			input-enable;
> +			input-schmitt-enable;
> +		};
> +	};
> +
> +	i2c2_pins: i2c2-0 {
> +		i2c-pins {
> +			pinmux = <GPIOMUX(3, GPOUT_LOW,
> +					     GPOEN_SYS_I2C2_CLK,
> +					     GPI_SYS_I2C2_CLK)>,
> +				 <GPIOMUX(2, GPOUT_LOW,
> +					     GPOEN_SYS_I2C2_DATA,
> +					     GPI_SYS_I2C2_DATA)>;
> +			bias-disable; /* external pull-up */
> +			input-enable;
> +			input-schmitt-enable;
> +		};
> +	};
> +
> +	i2c5_pins: i2c5-0 {
> +		bootph-pre-ram;
> +
> +		i2c-pins {
> +			pinmux = <GPIOMUX(19, GPOUT_LOW,
> +					      GPOEN_SYS_I2C5_CLK,
> +					      GPI_SYS_I2C5_CLK)>,
> +				 <GPIOMUX(20, GPOUT_LOW,
> +					      GPOEN_SYS_I2C5_DATA,
> +					      GPI_SYS_I2C5_DATA)>;
> +			bias-disable; /* external pull-up */
> +			bootph-pre-ram;
> +			input-enable;
> +			input-schmitt-enable;
> +		};
> +	};
> +
> +	i2c6_pins: i2c6-0 {
> +		i2c-pins {
> +			pinmux = <GPIOMUX(16, GPOUT_LOW,
> +					      GPOEN_SYS_I2C6_CLK,
> +					      GPI_SYS_I2C6_CLK)>,
> +				 <GPIOMUX(17, GPOUT_LOW,
> +					      GPOEN_SYS_I2C6_DATA,
> +					      GPI_SYS_I2C6_DATA)>;
> +			bias-disable; /* external pull-up */
> +			input-enable;
> +			input-schmitt-enable;
> +		};
> +	};
> +
> +	mmc0_pins: mmc0-0 {
> +		mmc-pins {
> +			pinmux = <PINMUX(PAD_SD0_CLK, 0)>,
> +				 <PINMUX(PAD_SD0_CMD, 0)>,
> +				 <PINMUX(PAD_SD0_DATA0, 0)>,
> +				 <PINMUX(PAD_SD0_DATA1, 0)>,
> +				 <PINMUX(PAD_SD0_DATA2, 0)>,
> +				 <PINMUX(PAD_SD0_DATA3, 0)>,
> +				 <PINMUX(PAD_SD0_DATA4, 0)>,
> +				 <PINMUX(PAD_SD0_DATA5, 0)>,
> +				 <PINMUX(PAD_SD0_DATA6, 0)>,
> +				 <PINMUX(PAD_SD0_DATA7, 0)>;
> +			bias-pull-up;
> +			drive-strength = <12>;
> +			input-enable;
> +		};
> +	};
> +
> +	mmc1_pins: mmc1-0 {
> +		clk-pins {
> +			pinmux = <GPIOMUX(10, GPOUT_SYS_SDIO1_CLK,
> +					      GPOEN_ENABLE,
> +					      GPI_NONE)>;
> +			bias-pull-up;
> +			drive-strength = <12>;
> +			input-disable;
> +			input-schmitt-disable;
> +			slew-rate = <0>;
> +		};
> +
> +		mmc-pins {
> +			pinmux = <GPIOMUX(9, GPOUT_SYS_SDIO1_CMD,
> +					     GPOEN_SYS_SDIO1_CMD,
> +					     GPI_SYS_SDIO1_CMD)>,
> +				 <GPIOMUX(11, GPOUT_SYS_SDIO1_DATA0,
> +					      GPOEN_SYS_SDIO1_DATA0,
> +					      GPI_SYS_SDIO1_DATA0)>,
> +				 <GPIOMUX(12, GPOUT_SYS_SDIO1_DATA1,
> +					      GPOEN_SYS_SDIO1_DATA1,
> +					      GPI_SYS_SDIO1_DATA1)>,
> +				 <GPIOMUX(7, GPOUT_SYS_SDIO1_DATA2,
> +					     GPOEN_SYS_SDIO1_DATA2,
> +					     GPI_SYS_SDIO1_DATA2)>,
> +				 <GPIOMUX(8, GPOUT_SYS_SDIO1_DATA3,
> +					     GPOEN_SYS_SDIO1_DATA3,
> +					     GPI_SYS_SDIO1_DATA3)>;
> +			bias-pull-up;
> +			drive-strength = <12>;
> +			input-enable;
> +			input-schmitt-enable;
> +			slew-rate = <0>;
> +		};
> +	};
> +
> +	pcie0_pins: pcie0-0 {
> +		clkreq-pins {
> +			pinmux = <GPIOMUX(27, GPOUT_LOW,
> +					      GPOEN_DISABLE,
> +					      GPI_NONE)>;
> +			bias-pull-down;
> +			drive-strength = <2>;
> +			input-enable;
> +			input-schmitt-disable;
> +			slew-rate = <0>;
> +		};
> +
> +		wake-pins {
> +			pinmux = <GPIOMUX(32, GPOUT_LOW,
> +					      GPOEN_DISABLE,
> +					      GPI_NONE)>;
> +			bias-pull-up;
> +			drive-strength = <2>;
> +			input-enable;
> +			input-schmitt-disable;
> +			slew-rate = <0>;
> +		};
> +	};
> +
> +	pcie1_pins: pcie1-0 {
> +		clkreq-pins {
> +			pinmux = <GPIOMUX(29, GPOUT_LOW,
> +					      GPOEN_DISABLE,
> +					      GPI_NONE)>;
> +			bias-pull-down;
> +			drive-strength = <2>;
> +			input-enable;
> +			input-schmitt-disable;
> +			slew-rate = <0>;
> +		};
> +
> +		wake-pins {
> +			pinmux = <GPIOMUX(21, GPOUT_LOW,
> +				      GPOEN_DISABLE,
> +					      GPI_NONE)>;
> +			bias-pull-up;
> +			drive-strength = <2>;
> +			input-enable;
> +			input-schmitt-disable;
> +			slew-rate = <0>;
> +		};
> +	};
> +
> +	pwmdac_pins: pwmdac-0 {
> +		pwmdac-pins {
> +			pinmux = <GPIOMUX(33, GPOUT_SYS_PWMDAC_LEFT,
> +					      GPOEN_ENABLE,
> +					      GPI_NONE)>,
> +				 <GPIOMUX(34, GPOUT_SYS_PWMDAC_RIGHT,
> +					      GPOEN_ENABLE,
> +					      GPI_NONE)>;
> +			bias-disable;
> +			drive-strength = <2>;
> +			input-disable;
> +			input-schmitt-disable;
> +			slew-rate = <0>;
> +		};
> +	};
> +
> +	pwm_pins: pwm-0 {
> +		pwm-pins {
> +			pinmux = <GPIOMUX(46, GPOUT_SYS_PWM_CHANNEL0,
> +					      GPOEN_SYS_PWM0_CHANNEL0,
> +					      GPI_NONE)>,
> +				 <GPIOMUX(59, GPOUT_SYS_PWM_CHANNEL1,
> +					      GPOEN_SYS_PWM0_CHANNEL1,
> +					      GPI_NONE)>;
> +			bias-disable;
> +			drive-strength = <12>;
> +			input-disable;
> +			input-schmitt-disable;
> +			slew-rate = <0>;
> +		};
> +	};
> +
> +	spi0_pins: spi0-0 {
> +		mosi-pins {
> +			pinmux = <GPIOMUX(52, GPOUT_SYS_SPI0_TXD,
> +					      GPOEN_ENABLE,
> +					      GPI_NONE)>;
> +			bias-disable;
> +			input-disable;
> +			input-schmitt-disable;
> +		};
> +
> +		miso-pins {
> +			pinmux = <GPIOMUX(53, GPOUT_LOW,
> +					      GPOEN_DISABLE,
> +					      GPI_SYS_SPI0_RXD)>;
> +			bias-pull-up;
> +			input-enable;
> +			input-schmitt-enable;
> +		};
> +
> +		sck-pins {
> +			pinmux = <GPIOMUX(48, GPOUT_SYS_SPI0_CLK,
> +					      GPOEN_ENABLE,
> +					      GPI_SYS_SPI0_CLK)>;
> +			bias-disable;
> +			input-disable;
> +			input-schmitt-disable;
> +		};
> +
> +		ss-pins {
> +			pinmux = <GPIOMUX(49, GPOUT_SYS_SPI0_FSS,
> +					      GPOEN_ENABLE,
> +					      GPI_SYS_SPI0_FSS)>;
> +			bias-disable;
> +			input-disable;
> +			input-schmitt-disable;
> +		};
> +	};
> +
> +	uart0_pins: uart0-0 {
> +		tx-pins {
> +			pinmux = <GPIOMUX(5, GPOUT_SYS_UART0_TX,
> +					     GPOEN_ENABLE,
> +					     GPI_NONE)>;
> +			bias-disable;
> +			drive-strength = <12>;
> +			input-disable;
> +			input-schmitt-disable;
> +			slew-rate = <0>;
> +		};
> +
> +		rx-pins {
> +			pinmux = <GPIOMUX(6, GPOUT_LOW,
> +					     GPOEN_DISABLE,
> +					     GPI_SYS_UART0_RX)>;
> +			bias-disable; /* external pull-up */
> +			drive-strength = <2>;
> +			input-enable;
> +			input-schmitt-enable;
> +			slew-rate = <0>;
> +		};
> +	};
> +};
> +
> +&uart0 {
> +	bootph-pre-ram;
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&uart0_pins>;
> +	status = "okay";
> +};
> +
> +&U74_1 {
> +	cpu-supply = <&vdd_cpu>;
> +};
> +
> +&U74_2 {
> +	cpu-supply = <&vdd_cpu>;
> +};
> +
> +&U74_3 {
> +	cpu-supply = <&vdd_cpu>;
> +};
> +
> +&U74_4 {
> +	cpu-supply = <&vdd_cpu>;
> +};
> diff --git a/arch/riscv/boot/dts/starfive/jh711x.dtsi b/arch/riscv/boot/dts/starfive/jh711x.dtsi
> index 6e56e9d20bb0..a380d3dabedd 100644
> --- a/arch/riscv/boot/dts/starfive/jh711x.dtsi
> +++ b/arch/riscv/boot/dts/starfive/jh711x.dtsi
> @@ -205,22 +205,6 @@ core4 {
>  	cpu_opp: opp-table-0 {
>  			compatible = "operating-points-v2";
>  			opp-shared;
> -			opp-375000000 {
> -					opp-hz = /bits/ 64 <375000000>;
> -					opp-microvolt = <800000>;
> -			};
> -			opp-500000000 {
> -					opp-hz = /bits/ 64 <500000000>;
> -					opp-microvolt = <800000>;
> -			};
> -			opp-750000000 {
> -					opp-hz = /bits/ 64 <750000000>;
> -					opp-microvolt = <800000>;
> -			};
> -			opp-1500000000 {
> -					opp-hz = /bits/ 64 <1500000000>;
> -					opp-microvolt = <1040000>;
> -			};
>  	};
>  
>  	thermal-zones {

Reviewed-by: E Shattow <e@freeshell.de>

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from freeshell.de (freeshell.de [116.202.128.144])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id C47CC321420;
	Fri,  7 Nov 2025 11:21:46 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=116.202.128.144
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762514509; cv=none; b=iP7AaZcGXEMCU4EcWAgIF/Hu1llClagNtTje6/PdYpUuZQatGguvZJiNb2prF1ZMgWvm7h8dlIrCp/t/EhLNwEcUQP6nQoO61Spvf6xFW/wNFYfnlzaJTiLS6dvmGARsZIrWMizHNWJbW6DxygWdxdkkhLXiK37xWmI+HUPWZuM=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762514509; c=relaxed/simple;
	bh=cwfXVQLfUYng/XGx9fuht2aqUV3fMBEEk3D8ZI1SS3E=;
	h=Message-ID:Date:MIME-Version:Subject:To:Cc:References:From:
	 In-Reply-To:Content-Type; b=gHT6yvFBrMBB6XIxgF95btNsGn4W6i1tQRS4T5jx+OxRDnOaaeoZFB99jIWQU2h457fYDZlO/pJpauImZ+5mYZiVsiNRcadbTCXRCKu8qibyMO/fieA3LhMPeXzabKcjNoyDHnM4k5vr0sfYzuaxlG/dgdYGsw/QFtPO/dMEPbI=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=freeshell.de; spf=pass smtp.mailfrom=freeshell.de; dkim=pass (2048-bit key) header.d=freeshell.de header.i=@freeshell.de header.b=L0zzpVP4; arc=none smtp.client-ip=116.202.128.144
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=freeshell.de
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=freeshell.de
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=freeshell.de header.i=@freeshell.de header.b="L0zzpVP4"
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=freeshell.de;
	s=s2025; t=1762513876;
	bh=Q3oEb6f1YkDfh3C3JNra6qEKnoR5mi2zvj3WcAJ7AnM=;
	h=Date:Subject:To:Cc:References:From:In-Reply-To:From;
	b=L0zzpVP4F2DO09o2xtnb1xnjoDDCXP/bVU25NfhXPiSFYh7gac8v6QqokhX0ws7Rn
	 8w9pNWajTUZkTvxYDnPohlOtJNR96N3sQjkmz5J6d1cGmf5a4e1AIy9jj/i2M1A4is
	 hy8ms81vqvlgXkBcY3WDbqtMDx+jXIxk76gGcvZU6xIE5Sdm0CK80q25pJMDOV+1k9
	 YOM4nyOBMB/ZmK1kQRXdd03txIPGRUZe5vH0TWzB1itVQtjOqgyWU4MK/H8txZD/xg
	 Wx8c6zlhKgma+NHDV1jlTH1ycAXTKIkNjO9SYsOJ5VnNe8HswNP5Qp1s2/s89ltVCf
	 ixU8NLWdraw5g==
Received: from [192.168.2.54] (unknown [143.105.119.212])
	(Authenticated sender: e)
	by freeshell.de (Postfix) with ESMTPSA id A6F36B2201EE;
	Fri,  7 Nov 2025 12:11:12 +0100 (CET)
Message-ID: <c05d8bcc-3024-45cd-8630-b0595682e778@freeshell.de>
Date: Fri, 7 Nov 2025 03:11:10 -0800
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
User-Agent: Mozilla Thunderbird
Subject: Re: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
To: Hal Feng <hal.feng@starfivetech.com>, Conor Dooley <conor+dt@kernel.org>,
 Rob Herring <robh@kernel.org>, Krzysztof Kozlowski <krzk+dt@kernel.org>,
 Palmer Dabbelt <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>,
 Albert Ou <aou@eecs.berkeley.edu>, "Rafael J . Wysocki" <rafael@kernel.org>,
 Viresh Kumar <viresh.kumar@linaro.org>, Bjorn Helgaas <bhelgaas@google.com>,
 Lorenzo Pieralisi <lpieralisi@kernel.org>,
 =?UTF-8?Q?Krzysztof_Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
 Manivannan Sadhasivam <mani@kernel.org>,
 Emil Renner Berthing <emil.renner.berthing@canonical.com>,
 Heinrich Schuchardt <heinrich.schuchardt@canonical.com>
Cc: devicetree@vger.kernel.org, linux-riscv@lists.infradead.org,
 linux-kernel@vger.kernel.org
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
Content-Language: en-US
From: E Shattow <e@freeshell.de>
In-Reply-To: <20251107095530.114775-1-hal.feng@starfivetech.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit



On 11/7/25 01:55, Hal Feng wrote:
> VisionFive 2 Lite is a mini SBC based on the StarFive JH7110S industrial
> SoC which can run at -40~85 degrees centigrade and up to 1.25GHz.
> 
> Board features:
> - JH7110S SoC
> - 4/8 GiB LPDDR4 DRAM
> - AXP15060 PMIC
> - 40 pin GPIO header
> - 1x USB 3.0 host port
> - 3x USB 2.0 host port
> - 1x M.2 M-Key (size: 2242)
> - 1x MicroSD slot (optional non-removable 64GiB eMMC)
> - 1x QSPI Flash
> - 1x I2C EEPROM
> - 1x 1Gbps Ethernet port
> - SDIO-based Wi-Fi & UART-based Bluetooth
> - 1x HDMI port
> - 1x 2-lane DSI
> - 1x 2-lane CSI
> 
> VisionFive 2 Lite schematics: https://doc-en.rvspace.org/VisionFive2Lite/PDF/VF2_LITE_V1.10_TF_20250818_SCH.pdf
> VisionFive 2 Lite Quick Start Guide: https://doc-en.rvspace.org/VisionFive2Lite/VisionFive2LiteQSG/index.html
> More documents: https://doc-en.rvspace.org/Doc_Center/visionfive_2_lite.html
> 
> Changes since v1:
> - Drop patch 1 because it is applied.
> - Rename jh7110.dtsi to jh711x.dtsi.
> - Move the content of jh7110-common.dtsi to the new file
>   jh711x-common.dtsi and move opp table to jh7110-common.dtsi.
> patch 4:
> - Move the uncommon nodes to jh7110-common.dtsi instead of board dts.
> patch 5:
> - Add jh7110s-common.dtsi and include it in jh7110s-starfive-visionfive-2-lite.dtsi.
> 
> Changes since RFC:
> - Add jh7110s compatible to the generic cpufreq driver.
> - Fix the dtbs_check error by adding the missing "enable-gpios" property
>   in jh7110 pcie dt-bindings.
> - Rebase on the latest mainline.
> - Add VisionFive 2 Lite eMMC board device tree and add a common board dtsi
>   for VisionFive 2 Lite variants.
> - Add usb switch pin configuration (GPIO62).
> - Improve the commit messages.
> 
> History:
> v1: https://lore.kernel.org/all/20251016080054.12484-1-hal.feng@starfivetech.com/
> RFC: https://lore.kernel.org/all/20250821100930.71404-1-hal.feng@starfivetech.com/
> 
> Hal Feng (8):
>   dt-bindings: PCI: starfive,jh7110-pcie: Add enable-gpios property
>   dt-bindings: riscv: Add StarFive JH7110S SoC and VisionFive 2 Lite
>     board
>   riscv: dts: starfive: Rename jh7110.dtsi to jh711x.dtsi
>   riscv: dts: starfive: Split jh7110-common.dtsi and move opp table to
>     it
>   riscv: dts: starfive: jh711x-common: Move out some nodes to jh7110
>     common dtsi
>   riscv: dts: starfive: Add common board dtsi for JH7110s and VisionFive
>     2 Lite variants
>   riscv: dts: starfive: Add VisionFive 2 Lite board device tree
>   riscv: dts: starfive: Add VisionFive 2 Lite eMMC board device tree
> 
>  .../bindings/pci/starfive,jh7110-pcie.yaml    |   4 +
>  .../devicetree/bindings/riscv/starfive.yaml   |   6 +
>  arch/riscv/boot/dts/starfive/Makefile         |   3 +
>  .../boot/dts/starfive/jh7110-common.dtsi      | 653 +----------------
>  .../boot/dts/starfive/jh7110s-common.dtsi     |  27 +
>  ...h7110s-starfive-visionfive-2-lite-emmc.dts |  22 +
>  .../jh7110s-starfive-visionfive-2-lite.dts    |  20 +
>  .../jh7110s-starfive-visionfive-2-lite.dtsi   | 126 ++++
>  .../boot/dts/starfive/jh711x-common.dtsi      | 656 ++++++++++++++++++
>  .../dts/starfive/{jh7110.dtsi => jh711x.dtsi} |  16 -
>  10 files changed, 879 insertions(+), 654 deletions(-)
>  create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-common.dtsi
>  create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite-emmc.dts
>  create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite.dts
>  create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite.dtsi
>  create mode 100644 arch/riscv/boot/dts/starfive/jh711x-common.dtsi
>  rename arch/riscv/boot/dts/starfive/{jh7110.dtsi => jh711x.dtsi} (99%)
> 
> 
> base-commit: df5d79720b152e7ff058f11ed7e88d5b5c8d2a0c

Small nit that "lite-emmc" is confusing together. In patches to U-Boot
dev mailing list the EEPROM product id is demonstrated to be with "SL"
suffix when compared to VisionFive 2 (JH7110) so I suggest avoid
confusion in upstream and use for VisionFive 2 Lite (JH7110S) these
compatible names:

starfive,visionfive-2sl-lite
starfive,visionfive-2sl-emmc

Also filenames:

jh7110s-starfive-visionfive-2sl-lite.dts
jh7110s-starfive-visionfive-2sl.dtsi
jh7110s-starfive-visionfive-2sl-emmc.dts

What do you think?

-E

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from smtp-relay-internal-0.canonical.com (smtp-relay-internal-0.canonical.com [185.125.188.122])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id C45FC320CD3
	for <linux-kernel@vger.kernel.org>; Fri,  7 Nov 2025 11:21:57 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=185.125.188.122
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762514520; cv=none; b=Hv5wOI+7Zwf85psO2jrq1lmZb7/S3CJHKOYmCAIXJCVq0IpAgZMFYhCkOIgt1CU4Aa888ryXAYvuSqaCJdR4miOuMZpA4gryYsEmABJg9BVvE068yUBBFgRvnsZAdlTsxSg4sMsbJh+3xyxldF6C8IQ/6gb/tQj1wA7kvyCGkF0=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762514520; c=relaxed/simple;
	bh=ZJbHZhQ6h1ZtUmMYIH9EfLygLL2UTAD9wKcvsfmHdtA=;
	h=Message-ID:Date:MIME-Version:Subject:To:Cc:References:From:
	 In-Reply-To:Content-Type; b=A4fB6Jb/GPryaZtIAN7D2GPxMRP2b1Jnd51JO2NTBYyNUhwP/AgqTbFADvB0/9DJQcCLp65gU17Yho0k5rcJuw9xl3SkwOMX9aurFo2VspCO51r/YnyfgWzEwgPIiWm+Ap2D3y109jNYKZw4F63LbmYJPRW+zHt4tPLbCFZrhso=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=canonical.com; spf=pass smtp.mailfrom=canonical.com; dkim=pass (4096-bit key) header.d=canonical.com header.i=@canonical.com header.b=jPKgscwN; arc=none smtp.client-ip=185.125.188.122
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=canonical.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=canonical.com
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (4096-bit key) header.d=canonical.com header.i=@canonical.com header.b="jPKgscwN"
Received: from mail-lf1-f72.google.com (mail-lf1-f72.google.com [209.85.167.72])
	(using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
	 key-exchange X25519 server-signature RSA-PSS (2048 bits) server-digest SHA256)
	(No client certificate requested)
	by smtp-relay-internal-0.canonical.com (Postfix) with ESMTPS id E9C2E40327
	for <linux-kernel@vger.kernel.org>; Fri,  7 Nov 2025 11:21:49 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=canonical.com;
	s=20251003; t=1762514509;
	bh=4vu1ZL+qmEbCFgVVYC+Kd3K+ffetq+SNlu+bOuuJkH8=;
	h=Message-ID:Date:MIME-Version:Subject:To:Cc:References:From:
	 In-Reply-To:Content-Type;
	b=jPKgscwNXrczObXgZcMj3VRGHqCyU+Emua1A/B+wPGaeYBu0KLD7+X03GKaDNPwE/
	 L3OnEiCNu6X6+IT/+Cf3fp3LoiW82L81cHEPq0AEMRwBOVjVAKcGYzHG0B5Ok318Iu
	 r9bXXlRmLHkGg20xkJmgcxP79fnhqrdm6RhmAE9y0AMNGib/6YumPL3r1B47WZSfTV
	 dFAeP2Kz2plg5KEn841zuGUioL90P80k/lIpePteBvYnRzI3xPVKdpNyCyh4Rfnu7Y
	 jKqvD7UPLLd1AoH9OnUJE30NhTgt8O5rcsh04Uc03LTkMbIvpw6wBpDKi2OgpLkHWR
	 MdHGoJ6JlaUM4lJYcQHC5ycTTpKKRe+pR2pJ70/xhRN6y5zQ7mizlV7+Ww9apGYdMZ
	 i078Qb5lsoudGIcDEbhE5YSSc4HhuomMgLcYKBd5e/rnV8Hr4VQ5l5Nak90qv9soAj
	 +bkiRXcANQkrBRcq+94+g8kCE5C1q+hi5GPgDL6ZrgbDbCT6P2QJRKjbs1+kcKcDpH
	 +cPNf9Wx+nfEcvcsZD5JoYFP9hrnmuTASW4nhvAIiDs1nSk1OVZK8unUn99sVxwfvS
	 0AwqZV/oHs5eIzTwZYTrFjtDlKzmLjajfgMXNz0iqhe/SsYCGQmuzsQPGYYvHQXPCf
	 896/Z6PZb5UqjhWiH37XPCVI=
Received: by mail-lf1-f72.google.com with SMTP id 2adb3069b0e04-592bd7da031so352272e87.2
        for <linux-kernel@vger.kernel.org>; Fri, 07 Nov 2025 03:21:49 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20230601; t=1762514509; x=1763119309;
        h=content-transfer-encoding:in-reply-to:from:content-language
         :references:cc:to:subject:user-agent:mime-version:date:message-id
         :x-gm-gg:x-gm-message-state:from:to:cc:subject:date:message-id
         :reply-to;
        bh=4vu1ZL+qmEbCFgVVYC+Kd3K+ffetq+SNlu+bOuuJkH8=;
        b=F85NxhUxjI7qk+N3wkJd2VrEwJLa5tQTU3X3k2RRAxM8liBJfsqmB7n8Y68qG4r9XU
         EgL2IS5J6Qv7UoXekszytAQbrZ8rWXIzZw72CU/ZfIBhhxNvUQ0FGf3wc3L+sUzFMfzw
         pFDHDNtPZGvQ8IoXxfgQ3rXR+3/NHYjezCCHgNTnem61NEU+wRQJD29PLiX48lX5XFZm
         PdbWvxwJ1Dzv+f2e208qmtQsrcdl4qaTqgkRQfNnnTSvV3BZq+x/FxKAqGGCFslEGObA
         HQpxghWN7hAKmXEPuvTMDByXIvq2YC7dZCC/+9FsITrc4fu3cOPYcSihY95KocGGBls7
         24fA==
X-Forwarded-Encrypted: i=1; AJvYcCWTbAOma9fOR79R195WPpltBFBZSEb8FVpMk3mo4d2LSvxhCdDdJEjXTFFTnXhLLKQP5qwWN1WNRsyCXFc=@vger.kernel.org
X-Gm-Message-State: AOJu0YzNaYUqNYegjrcQbOYRr11vX9CwndV7p7DfqKCPz01uQKZuNIrr
	9CGf8NIEhneDivXlppmSg9tggeG2FyedppYdstPQW8LAW3UkkWOJ6zqsBMrqyni8Q2ZjGtW3UOQ
	ZytovrpV5GGT5eyj/S1eAhCnd0e+53iHK7X4eqcOgvLc6WcXOadQaZLYItS6rPPMxKYrXFJQ2Bo
	ToExdHuw==
X-Gm-Gg: ASbGnctHmeY5ZkiD6axuWrSIrs0vtn6QrAqK++/9+2aIG8b36/N50gzahDiuHC1X37A
	XSuMSCSgAXolmvpcbIUe+C4ZMinAEeJ1cjQ/aSEkIy4kmSHPcAhjii1OPMfwA2Wsnt0wQbmvZN3
	DYJCwXM/Hbk//MXWtRsZERWrKOMPAhQKXa52A9YrMkllriMpN+paxK/3JMkAArtubpXP1LC3txO
	N2nXVePqBgWF9fLpIBKbFholY7ykmkzMDZTe45nWDKKmG3R1hNQogTfkI/SYI7XbJGKZdrpvIv6
	t3+Z28YuEl3ePcVslSLu1qqCHxxCmsgTVBfFpyWapC3kbGOIRnxRTzrMI0G62UOIjCcIMI9UIUU
	RMLlVJEts6WQpuLxd9fnrn2STrc7o6bEOJodQHfZre4tJbw==
X-Received: by 2002:a05:6512:6c9:b0:594:2e9b:f291 with SMTP id 2adb3069b0e04-59456b4d9c7mr941859e87.9.1762514509109;
        Fri, 07 Nov 2025 03:21:49 -0800 (PST)
X-Google-Smtp-Source: AGHT+IGMxJiPYMbXhmyW6GmkAmacMyTL5nlXaV1J2L1emWF3kyohSqrskKsInlGn9YLKNL5Se+Juzg==
X-Received: by 2002:a05:6512:6c9:b0:594:2e9b:f291 with SMTP id 2adb3069b0e04-59456b4d9c7mr941835e87.9.1762514508612;
        Fri, 07 Nov 2025 03:21:48 -0800 (PST)
Received: from [172.25.183.149] ([93.94.208.154])
        by smtp.gmail.com with ESMTPSA id 2adb3069b0e04-5944a019d2asm1378089e87.26.2025.11.07.03.21.47
        (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
        Fri, 07 Nov 2025 03:21:47 -0800 (PST)
Message-ID: <6d0fb6aa-6d88-4069-a5e5-9e910523888e@canonical.com>
Date: Fri, 7 Nov 2025 12:21:46 +0100
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
User-Agent: Mozilla Thunderbird
Subject: Re: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
To: E Shattow <e@freeshell.de>
Cc: devicetree@vger.kernel.org, linux-riscv@lists.infradead.org,
 linux-kernel@vger.kernel.org, Hal Feng <hal.feng@starfivetech.com>,
 Conor Dooley <conor+dt@kernel.org>, Rob Herring <robh@kernel.org>,
 Krzysztof Kozlowski <krzk+dt@kernel.org>, Palmer Dabbelt
 <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>,
 Albert Ou <aou@eecs.berkeley.edu>, "Rafael J . Wysocki" <rafael@kernel.org>,
 Viresh Kumar <viresh.kumar@linaro.org>, Bjorn Helgaas <bhelgaas@google.com>,
 Lorenzo Pieralisi <lpieralisi@kernel.org>,
 =?UTF-8?Q?Krzysztof_Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
 Manivannan Sadhasivam <mani@kernel.org>,
 Emil Renner Berthing <emil.renner.berthing@canonical.com>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <c05d8bcc-3024-45cd-8630-b0595682e778@freeshell.de>
Content-Language: en-US
From: Heinrich Schuchardt <heinrich.schuchardt@canonical.com>
In-Reply-To: <c05d8bcc-3024-45cd-8630-b0595682e778@freeshell.de>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

On 11/7/25 12:11, E Shattow wrote:
> 
> 
> On 11/7/25 01:55, Hal Feng wrote:
>> VisionFive 2 Lite is a mini SBC based on the StarFive JH7110S industrial
>> SoC which can run at -40~85 degrees centigrade and up to 1.25GHz.
>>
>> Board features:
>> - JH7110S SoC
>> - 4/8 GiB LPDDR4 DRAM
>> - AXP15060 PMIC
>> - 40 pin GPIO header
>> - 1x USB 3.0 host port
>> - 3x USB 2.0 host port
>> - 1x M.2 M-Key (size: 2242)
>> - 1x MicroSD slot (optional non-removable 64GiB eMMC)
>> - 1x QSPI Flash
>> - 1x I2C EEPROM
>> - 1x 1Gbps Ethernet port
>> - SDIO-based Wi-Fi & UART-based Bluetooth
>> - 1x HDMI port
>> - 1x 2-lane DSI
>> - 1x 2-lane CSI
>>
>> VisionFive 2 Lite schematics: https://doc-en.rvspace.org/VisionFive2Lite/PDF/VF2_LITE_V1.10_TF_20250818_SCH.pdf
>> VisionFive 2 Lite Quick Start Guide: https://doc-en.rvspace.org/VisionFive2Lite/VisionFive2LiteQSG/index.html
>> More documents: https://doc-en.rvspace.org/Doc_Center/visionfive_2_lite.html
>>
>> Changes since v1:
>> - Drop patch 1 because it is applied.
>> - Rename jh7110.dtsi to jh711x.dtsi.
>> - Move the content of jh7110-common.dtsi to the new file
>>    jh711x-common.dtsi and move opp table to jh7110-common.dtsi.
>> patch 4:
>> - Move the uncommon nodes to jh7110-common.dtsi instead of board dts.
>> patch 5:
>> - Add jh7110s-common.dtsi and include it in jh7110s-starfive-visionfive-2-lite.dtsi.
>>
>> Changes since RFC:
>> - Add jh7110s compatible to the generic cpufreq driver.
>> - Fix the dtbs_check error by adding the missing "enable-gpios" property
>>    in jh7110 pcie dt-bindings.
>> - Rebase on the latest mainline.
>> - Add VisionFive 2 Lite eMMC board device tree and add a common board dtsi
>>    for VisionFive 2 Lite variants.
>> - Add usb switch pin configuration (GPIO62).
>> - Improve the commit messages.
>>
>> History:
>> v1: https://lore.kernel.org/all/20251016080054.12484-1-hal.feng@starfivetech.com/
>> RFC: https://lore.kernel.org/all/20250821100930.71404-1-hal.feng@starfivetech.com/
>>
>> Hal Feng (8):
>>    dt-bindings: PCI: starfive,jh7110-pcie: Add enable-gpios property
>>    dt-bindings: riscv: Add StarFive JH7110S SoC and VisionFive 2 Lite
>>      board
>>    riscv: dts: starfive: Rename jh7110.dtsi to jh711x.dtsi
>>    riscv: dts: starfive: Split jh7110-common.dtsi and move opp table to
>>      it
>>    riscv: dts: starfive: jh711x-common: Move out some nodes to jh7110
>>      common dtsi
>>    riscv: dts: starfive: Add common board dtsi for JH7110s and VisionFive
>>      2 Lite variants
>>    riscv: dts: starfive: Add VisionFive 2 Lite board device tree
>>    riscv: dts: starfive: Add VisionFive 2 Lite eMMC board device tree
>>
>>   .../bindings/pci/starfive,jh7110-pcie.yaml    |   4 +
>>   .../devicetree/bindings/riscv/starfive.yaml   |   6 +
>>   arch/riscv/boot/dts/starfive/Makefile         |   3 +
>>   .../boot/dts/starfive/jh7110-common.dtsi      | 653 +----------------
>>   .../boot/dts/starfive/jh7110s-common.dtsi     |  27 +
>>   ...h7110s-starfive-visionfive-2-lite-emmc.dts |  22 +
>>   .../jh7110s-starfive-visionfive-2-lite.dts    |  20 +
>>   .../jh7110s-starfive-visionfive-2-lite.dtsi   | 126 ++++
>>   .../boot/dts/starfive/jh711x-common.dtsi      | 656 ++++++++++++++++++
>>   .../dts/starfive/{jh7110.dtsi => jh711x.dtsi} |  16 -
>>   10 files changed, 879 insertions(+), 654 deletions(-)
>>   create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-common.dtsi
>>   create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite-emmc.dts
>>   create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite.dts
>>   create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-visionfive-2-lite.dtsi
>>   create mode 100644 arch/riscv/boot/dts/starfive/jh711x-common.dtsi
>>   rename arch/riscv/boot/dts/starfive/{jh7110.dtsi => jh711x.dtsi} (99%)
>>
>>
>> base-commit: df5d79720b152e7ff058f11ed7e88d5b5c8d2a0c
> 
> Small nit that "lite-emmc" is confusing together. In patches to U-Boot
> dev mailing list the EEPROM product id is demonstrated to be with "SL"
> suffix when compared to VisionFive 2 (JH7110) so I suggest avoid
> confusion in upstream and use for VisionFive 2 Lite (JH7110S) these
> compatible names:
> 
> starfive,visionfive-2sl-lite
> starfive,visionfive-2sl-emmc
> 
> Also filenames:
> 
> jh7110s-starfive-visionfive-2sl-lite.dts
> jh7110s-starfive-visionfive-2sl.dtsi
> jh7110s-starfive-visionfive-2sl-emmc.dts
> 
> What do you think?
> 

This is a serial number for the Lite board:
VF7110SL-2310-D002E000-xxxxxxxx

Here E000 encodes that we have no eMMC.

The S is part of 7110S which we already have in 'jh7110s'. And the L is 
already decoded as 'lite' in this patch series. Duplicating this 
information as 'sl' as you suggested provides no benefit.

Let's just stick with Hal's suggestion.

Best regards

Heinrich

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from freeshell.de (freeshell.de [116.202.128.144])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 845DC2C9D;
	Fri,  7 Nov 2025 11:24:58 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=116.202.128.144
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762514700; cv=none; b=m0aBdyDBSorbxCxk6Zo5Y7nNiz3f98Z2vnFyEAcYPBlvDNxNzSuc+iQvtfG5QVBcQjxyyaOOvjNv9JFN08WiPqTrKRTB3TxWNX83w33XC1Fu1ADu+o8NQLsJcJwhmWm8wfMEXFf2R97lB5CoGShAXKFvyzY9icnHfyxYYeoRUsk=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762514700; c=relaxed/simple;
	bh=ANs81aV/Ae12SW8xZAtD4FqwsvXxe9WMx3g7ou7OpUI=;
	h=Message-ID:Date:MIME-Version:Subject:To:Cc:References:From:
	 In-Reply-To:Content-Type; b=mar5mrG6m7j6HtI1LMp4wowUciy2XCeTDHjJMvE+cBMiKtAvzKNDbQ9LcY8XUMUZhxz+HpkbjVO77xPAK/6pavpUR7lE5uwhIHBoXKXnu5nsfvVHyXZet0aKcOUTrw9M3ABkT0wsyvAiN3jKPL0qzPb9SB+9QYNxPJMEFCsUM/I=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=freeshell.de; spf=pass smtp.mailfrom=freeshell.de; dkim=pass (2048-bit key) header.d=freeshell.de header.i=@freeshell.de header.b=j/YUeIQc; arc=none smtp.client-ip=116.202.128.144
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=freeshell.de
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=freeshell.de
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=freeshell.de header.i=@freeshell.de header.b="j/YUeIQc"
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=freeshell.de;
	s=s2025; t=1762514669;
	bh=HGs0/L8ncOabUNWXYKXnKsQ79vn23oo0qvYbvXQ7sWs=;
	h=Date:Subject:To:Cc:References:From:In-Reply-To:From;
	b=j/YUeIQcHC8otLzqCl7XpD3lZAAcXH6zlMPgZl66YW+pPG648ixllD55b1yBs5jby
	 venUESrF5aERiu2flcb/HktBi7fP3KD5YMLfjJc8qkyUHEAtDJS02U0RdV0ThSh1Fo
	 5nL5lZht2VJuw/+8TeV+s6keLu1wciw09H/r8obnh2NZC8v58C66BQyLFjbpgD/J/m
	 oB5mFvqsgqZs/2T97iGSasVF77dhqPiBpgLPZfo+teiJNHNF1qxEDIBbdsKwPDe8Ez
	 bStr0/iUkeVznjhNx/pf2JCLh4NZuUs6SG84Q3N/0uhH0babn2t7fHFVirAEqTQ0Tt
	 PTw/APnqFGJ2A==
Received: from [192.168.2.54] (unknown [98.97.27.87])
	(Authenticated sender: e)
	by freeshell.de (Postfix) with ESMTPSA id E2640B2201EE;
	Fri,  7 Nov 2025 12:24:25 +0100 (CET)
Message-ID: <5b7c7ecc-38db-483b-87fc-4199a8bd52c3@freeshell.de>
Date: Fri, 7 Nov 2025 03:24:24 -0800
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
User-Agent: Mozilla Thunderbird
Subject: Re: [PATCH v2 5/8] riscv: dts: starfive: jh711x-common: Move out some
 nodes to jh7110 common dtsi
To: Hal Feng <hal.feng@starfivetech.com>, Conor Dooley <conor+dt@kernel.org>,
 Rob Herring <robh@kernel.org>, Krzysztof Kozlowski <krzk+dt@kernel.org>,
 Palmer Dabbelt <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>,
 Albert Ou <aou@eecs.berkeley.edu>, "Rafael J . Wysocki" <rafael@kernel.org>,
 Viresh Kumar <viresh.kumar@linaro.org>, Bjorn Helgaas <bhelgaas@google.com>,
 Lorenzo Pieralisi <lpieralisi@kernel.org>,
 =?UTF-8?Q?Krzysztof_Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
 Manivannan Sadhasivam <mani@kernel.org>,
 Emil Renner Berthing <emil.renner.berthing@canonical.com>,
 Heinrich Schuchardt <heinrich.schuchardt@canonical.com>
Cc: devicetree@vger.kernel.org, linux-riscv@lists.infradead.org,
 linux-kernel@vger.kernel.org
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <20251107095530.114775-6-hal.feng@starfivetech.com>
Content-Language: en-US
From: E Shattow <e@freeshell.de>
In-Reply-To: <20251107095530.114775-6-hal.feng@starfivetech.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit



On 11/7/25 01:55, Hal Feng wrote:
> Some nodes in this file are not used by the upcoming VisionFive 2 Lite
> board. Move them to the jh7110 common dtsi to prepare for adding the
> new VisionFive 2 Lite device tree.
> 
> Signed-off-by: Hal Feng <hal.feng@starfivetech.com>
> ---
>  arch/riscv/boot/dts/starfive/jh7110-common.dtsi | 14 ++++++++++++++
>  arch/riscv/boot/dts/starfive/jh711x-common.dtsi |  8 --------
>  2 files changed, 14 insertions(+), 8 deletions(-)
> 
> diff --git a/arch/riscv/boot/dts/starfive/jh7110-common.dtsi b/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
> index dd5805ef70a1..cdc362b8d58b 100644
> --- a/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
> +++ b/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
> @@ -25,3 +25,17 @@ opp-1500000000 {
>  		opp-microvolt = <1040000>;
>  	};
>  };
> +
> +&mmc0 {
> +	cap-mmc-highspeed;
> +	cap-mmc-hw-reset;
> +	mmc-ddr-1_8v;
> +	mmc-hs200-1_8v;
> +	vmmc-supply = <&vcc_3v3>;
> +	vqmmc-supply = <&emmc_vdd>;
> +};
> +
> +&mmc1 {
> +	cd-gpios = <&sysgpio 41 GPIO_ACTIVE_LOW>;
> +	disable-wp;
> +};
> diff --git a/arch/riscv/boot/dts/starfive/jh711x-common.dtsi b/arch/riscv/boot/dts/starfive/jh711x-common.dtsi
> index 809274625615..42b8f60725fb 100644
> --- a/arch/riscv/boot/dts/starfive/jh711x-common.dtsi
> +++ b/arch/riscv/boot/dts/starfive/jh711x-common.dtsi
> @@ -281,14 +281,8 @@ &mmc0 {
>  	assigned-clock-rates = <50000000>;
>  	bus-width = <8>;
>  	bootph-pre-ram;
> -	cap-mmc-highspeed;
> -	mmc-ddr-1_8v;
> -	mmc-hs200-1_8v;
> -	cap-mmc-hw-reset;
>  	pinctrl-names = "default";
>  	pinctrl-0 = <&mmc0_pins>;
> -	vmmc-supply = <&vcc_3v3>;
> -	vqmmc-supply = <&emmc_vdd>;
>  	status = "okay";
>  };
>  
> @@ -298,8 +292,6 @@ &mmc1 {
>  	assigned-clock-rates = <50000000>;
>  	bus-width = <4>;
>  	bootph-pre-ram;
> -	cd-gpios = <&sysgpio 41 GPIO_ACTIVE_LOW>;
> -	disable-wp;
>  	cap-sd-highspeed;
>  	pinctrl-names = "default";
>  	pinctrl-0 = <&mmc1_pins>;

Reviewed-by: E Shattow <e@freeshell.de>

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from freeshell.de (freeshell.de [116.202.128.144])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id EC1E1207A22;
	Fri,  7 Nov 2025 12:02:32 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=116.202.128.144
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762516956; cv=none; b=eNe3yAA4IE5emV+r8FYkHSfkexQVwMtCg9j0jBlJAp8644Fs0+CLSp22cAENWLpnGJCANKQkP+aJtXWTwQhF3l8RbbpSquj+J6jMrDPmbOKO/wm+pgS0iMb4hq9fzOeVW3zZ6L9qWhZovncdUknmbM4UC6ygCXjRwU5Hk3fL37Q=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762516956; c=relaxed/simple;
	bh=JbUCEyNiriQipfbz/kl7+r7h4JVizyYf27cg7WFem3c=;
	h=Message-ID:Date:MIME-Version:Subject:To:Cc:References:From:
	 In-Reply-To:Content-Type; b=EgRFVZJrLLWI3R9Jv9lb3TE5AJJWgnSqORB7pPCl2JFTyBXUE5zdILOm4HIcC6068JWQiFi8J4KaIsP3LxWopc8o0RMEshysMWwP/mlwjtmH0kuDcUBHRfyvrmRwaQnQBymLltE3aeeVMlaYJV4lahwu/wTG+YYq1/evJ87IvG8=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=freeshell.de; spf=pass smtp.mailfrom=freeshell.de; dkim=pass (2048-bit key) header.d=freeshell.de header.i=@freeshell.de header.b=eTDNDJfg; arc=none smtp.client-ip=116.202.128.144
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=freeshell.de
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=freeshell.de
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=freeshell.de header.i=@freeshell.de header.b="eTDNDJfg"
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=freeshell.de;
	s=s2025; t=1762516917;
	bh=CYUv/fsSN6bJHRZkRh9qSHvXD8+739BNv79//5iCjzk=;
	h=Date:Subject:To:Cc:References:From:In-Reply-To:From;
	b=eTDNDJfgysyJDzODXG83/IBDUbdQizQdZEhMGIUSLx/Whc3oqK+RU19b51VgNMzGh
	 Ox9tuuuPO2P9JWWmAd1De4JDzCDEj8Lcx8ibm+jpdhQLF2EPyp9sUMxqk9BbJWPEBW
	 D4H/fHHRB5UgwYkij5Nkbia/TCH1PzO0JHfVPhmoZLD6A7RAKjKrt/7eHK+xrs1XoP
	 nEytMBvB99M1CyOmf+7aPAOGsHWqCsfj4U9OdOrFg9DdVjIUXmUiP1jL7fnegUM2aj
	 GJl7ZeCepdh0S+KIuvHqP/WsYUm9jBurg1PP3qFwL2e1nQlWfmfB7+JMoBxDMvIma7
	 v/Jy115vw52MQ==
Received: from [192.168.2.54] (unknown [98.97.27.87])
	(Authenticated sender: e)
	by freeshell.de (Postfix) with ESMTPSA id 2FF12B220598;
	Fri,  7 Nov 2025 13:01:54 +0100 (CET)
Message-ID: <4b38ec00-dfc4-481b-8b8d-fa171ce8d12b@freeshell.de>
Date: Fri, 7 Nov 2025 04:01:51 -0800
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
User-Agent: Mozilla Thunderbird
Subject: Re: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
To: Heinrich Schuchardt <heinrich.schuchardt@canonical.com>
Cc: devicetree@vger.kernel.org, linux-riscv@lists.infradead.org,
 linux-kernel@vger.kernel.org, Hal Feng <hal.feng@starfivetech.com>,
 Conor Dooley <conor+dt@kernel.org>, Rob Herring <robh@kernel.org>,
 Krzysztof Kozlowski <krzk+dt@kernel.org>, Palmer Dabbelt
 <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>,
 Albert Ou <aou@eecs.berkeley.edu>, "Rafael J . Wysocki" <rafael@kernel.org>,
 Viresh Kumar <viresh.kumar@linaro.org>, Bjorn Helgaas <bhelgaas@google.com>,
 Lorenzo Pieralisi <lpieralisi@kernel.org>,
 =?UTF-8?Q?Krzysztof_Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
 Manivannan Sadhasivam <mani@kernel.org>,
 Emil Renner Berthing <emil.renner.berthing@canonical.com>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <c05d8bcc-3024-45cd-8630-b0595682e778@freeshell.de>
 <6d0fb6aa-6d88-4069-a5e5-9e910523888e@canonical.com>
Content-Language: en-US
From: E Shattow <e@freeshell.de>
In-Reply-To: <6d0fb6aa-6d88-4069-a5e5-9e910523888e@canonical.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit


On 11/7/25 03:21, Heinrich Schuchardt wrote:
> On 11/7/25 12:11, E Shattow wrote:
>>
>>
>> On 11/7/25 01:55, Hal Feng wrote:
>>> VisionFive 2 Lite is a mini SBC based on the StarFive JH7110S industrial
>>> SoC which can run at -40~85 degrees centigrade and up to 1.25GHz.
>>>
>>> Board features:
>>> - JH7110S SoC
>>> - 4/8 GiB LPDDR4 DRAM
>>> - AXP15060 PMIC
>>> - 40 pin GPIO header
>>> - 1x USB 3.0 host port
>>> - 3x USB 2.0 host port
>>> - 1x M.2 M-Key (size: 2242)
>>> - 1x MicroSD slot (optional non-removable 64GiB eMMC)
>>> - 1x QSPI Flash
>>> - 1x I2C EEPROM
>>> - 1x 1Gbps Ethernet port
>>> - SDIO-based Wi-Fi & UART-based Bluetooth
>>> - 1x HDMI port
>>> - 1x 2-lane DSI
>>> - 1x 2-lane CSI
>>>
>>> VisionFive 2 Lite schematics: https://doc-en.rvspace.org/
>>> VisionFive2Lite/PDF/VF2_LITE_V1.10_TF_20250818_SCH.pdf
>>> VisionFive 2 Lite Quick Start Guide: https://doc-en.rvspace.org/
>>> VisionFive2Lite/VisionFive2LiteQSG/index.html
>>> More documents: https://doc-en.rvspace.org/Doc_Center/
>>> visionfive_2_lite.html
>>>
>>> Changes since v1:
>>> - Drop patch 1 because it is applied.
>>> - Rename jh7110.dtsi to jh711x.dtsi.
>>> - Move the content of jh7110-common.dtsi to the new file
>>>  jh711x-common.dtsi and move opp table to jh7110-common.dtsi.
>>> patch 4:
>>> - Move the uncommon nodes to jh7110-common.dtsi instead of board dts.
>>> patch 5:
>>> - Add jh7110s-common.dtsi and include it in jh7110s-starfive-
>>> visionfive-2-lite.dtsi.
>>>
>>> Changes since RFC:
>>> - Add jh7110s compatible to the generic cpufreq driver.
>>> - Fix the dtbs_check error by adding the missing "enable-gpios" property
>>>  in jh7110 pcie dt-bindings.
>>> - Rebase on the latest mainline.
>>> - Add VisionFive 2 Lite eMMC board device tree and add a common board
>>> dtsi
>>>  for VisionFive 2 Lite variants.
>>> - Add usb switch pin configuration (GPIO62).
>>> - Improve the commit messages.
>>>
>>> History:
>>> v1: https://lore.kernel.org/all/20251016080054.12484-1-
>>> hal.feng@starfivetech.com/
>>> RFC: https://lore.kernel.org/all/20250821100930.71404-1-
>>> hal.feng@starfivetech.com/
>>>
>>> Hal Feng (8):
>>>  dt-bindings: PCI: starfive,jh7110-pcie: Add enable-gpios property
>>>  dt-bindings: riscv: Add StarFive JH7110S SoC and VisionFive 2 Lite
>>>  board
>>>  riscv: dts: starfive: Rename jh7110.dtsi to jh711x.dtsi
>>>  riscv: dts: starfive: Split jh7110-common.dtsi and move opp table to
>>>  it
>>>  riscv: dts: starfive: jh711x-common: Move out some nodes to jh7110
>>>  common dtsi
>>>  riscv: dts: starfive: Add common board dtsi for JH7110s and
>>> VisionFive
>>>  2 Lite variants
>>>  riscv: dts: starfive: Add VisionFive 2 Lite board device tree
>>>  riscv: dts: starfive: Add VisionFive 2 Lite eMMC board device tree
>>>
>>>  .../bindings/pci/starfive,jh7110-pcie.yaml | 4 +
>>>  .../devicetree/bindings/riscv/starfive.yaml | 6 +
>>>  arch/riscv/boot/dts/starfive/Makefile | 3 +
>>>  .../boot/dts/starfive/jh7110-common.dtsi | 653 +----------------
>>>  .../boot/dts/starfive/jh7110s-common.dtsi | 27 +
>>>  ...h7110s-starfive-visionfive-2-lite-emmc.dts | 22 +
>>>  .../jh7110s-starfive-visionfive-2-lite.dts | 20 +
>>>  .../jh7110s-starfive-visionfive-2-lite.dtsi | 126 ++++
>>>  .../boot/dts/starfive/jh711x-common.dtsi | 656 ++++++++++++++++++
>>>  .../dts/starfive/{jh7110.dtsi => jh711x.dtsi} | 16 -
>>>  10 files changed, 879 insertions(+), 654 deletions(-)
>>>  create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-common.dtsi
>>>  create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-
>>> visionfive-2-lite-emmc.dts
>>>  create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-
>>> visionfive-2-lite.dts
>>>  create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-
>>> visionfive-2-lite.dtsi
>>>  create mode 100644 arch/riscv/boot/dts/starfive/jh711x-common.dtsi
>>>  rename arch/riscv/boot/dts/starfive/{jh7110.dtsi => jh711x.dtsi} (99%)
>>>
>>>
>>> base-commit: df5d79720b152e7ff058f11ed7e88d5b5c8d2a0c
>>
>> Small nit that "lite-emmc" is confusing together. In patches to U-Boot
>> dev mailing list the EEPROM product id is demonstrated to be with "SL"
>> suffix when compared to VisionFive 2 (JH7110) so I suggest avoid
>> confusion in upstream and use for VisionFive 2 Lite (JH7110S) these
>> compatible names:
>>
>> starfive,visionfive-2sl-lite
>> starfive,visionfive-2sl-emmc
>>
>> Also filenames:
>>
>> jh7110s-starfive-visionfive-2sl-lite.dts
>> jh7110s-starfive-visionfive-2sl.dtsi
>> jh7110s-starfive-visionfive-2sl-emmc.dts
>>
>> What do you think?
>>
> 
> This is a serial number for the Lite board:
> VF7110SL-2310-D002E000-xxxxxxxx
> 
> Here E000 encodes that we have no eMMC.
> 
> The S is part of 7110S which we already have in 'jh7110s'. And the L is
> already decoded as 'lite' in this patch series. Duplicating this
> information as 'sl' as you suggested provides no benefit.

The convention in dts file names is CPU model first so that will be
redundant or not redundant depending on the name of the product anyway;
whether it is redundant or not is not the driver of whether it is
confusing to have contradictory terminology in the product name and
compatible names and dts filenames.

> 
> Let's just stick with Hal's suggestion.
> 
> Best regards
> 
> Heinrich

The "lite" product name in similar products refers to non-populated emmc
replaced by sd card, so there is benefit to choose a more concise name
that is not confusing.

I did consider suggesting:

jh7110s-starfive-visionfive-2-lite.dts
jh7110s-starfive-visionfive-2.dtsi
jh7110s-starfive-visionfive-2-emmc.dts

but this is a loss of information and does not help readability. By
extension we're not duplicating information to be more descriptive with
the product name. Sure I'd go along with:

jh7110s-starfive-visionfive-2-lite-card.dts
jh7110s-starfive-visionfive-2-lite.dtsi
jh7110s-starfive-visionfive-2-lite-emmc.dts

But my suggestion remains:

jh7110s-starfive-visionfive-2sl-lite.dts
jh7110s-starfive-visionfive-2sl.dtsi
jh7110s-starfive-visionfive-2sl-emmc.dts

for the reason that it's very clearly not the "non-emmc" version of the
VisionFive 2. You can't mistake it if done the way I am suggesting.

-E

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from CHN02-SH0-obe.outbound.protection.partner.outlook.cn (mail-sh0chn02on2114.outbound.protection.partner.outlook.cn [139.219.146.114])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id DE97B2777E0;
	Fri,  7 Nov 2025 16:28:23 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=fail smtp.client-ip=139.219.146.114
ARC-Seal:i=2; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762532909; cv=fail; b=lwmNZBm7AFkzegeq8VFr2kibdRiw27CI4STyq7mYc6aAhUi9nDbxrLFj2QBV3N4xikkVJAskaPyWHh8E7cv2dTw3+3f19IDFu/x5UVo8FjHsZ/8scrZ+m2yxwKPboMLDTWexxhXhsWOmrAzReuJOZgcubAF08NG1Ycrd397ArFI=
ARC-Message-Signature:i=2; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762532909; c=relaxed/simple;
	bh=w43FQJiKQ2qt9nfluECaDO6a3rPSjfXhkrNmIQelFT4=;
	h=From:To:Cc:Subject:Date:Message-ID:In-Reply-To:References:
	 Content-Type:MIME-Version; b=HyQt4on4dZJ3pbN//8bNDEl/GY5A6h5HGFIt40g3FoASEHbYQ8rPvQ42ZkDcDvCH6+Str1q8uXYqaqMwk9yxqbqeyKBkMMPcIe0e2lGXDw/AkuRjXSjP/csq0zMA52mvlqePjFd9aVrDyfit9prGzdihNsVdMFG7dFyln+Inv14=
ARC-Authentication-Results:i=2; smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com; spf=pass smtp.mailfrom=starfivetech.com; arc=fail smtp.client-ip=139.219.146.114
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=starfivetech.com
Received: from ZQ2PR01MB1305.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:6::14) by ZQ0PR01MB1303.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:1c::6) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9298.13; Fri, 7 Nov
 2025 10:54:13 +0000
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=JmMXpj9j/KG9Yhg/0KLKoDH1t7FkITpURFlis7Ai8qWGp77vtowgCWVwTs8KyAUfqIlePEDzU3EdCHyC/P+ZSFTfMxLI+Wi9evyx/fqUrBqLt6k5O4zSH9RNLH90YkfcSnJyU0f6/xNDtp4lUNertXrncnPOqV1nAHuS+7uHdlj64py7eh8M1t4InvbnqKA0qhJrrZ0pN0/VnS/hqxkTYbHgZXFZ+yI3Njs1ieSrhdPzuDxACqxy0VQmQ3lY9CCX0RyInhtDdvVNa5kD9fHdAqruwM9byhsUhKBcXSfHM9CP+lrr99CfAPF2Nu/U155HcqrSmp6zWiPsV0JpaMoAfQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=i8n6SNZWksjhK85foVY53SEeSHR7VcGkpy74cVogcqo=;
 b=Qx6QHNPSm80RhhvhhE5OjaFfBc0vrGlhqX4KYoXpem9RE1kNnP18gY6FV+18fv2wW/w4ub48iG69/6BM0BQnZ/WXnlb6lR3aAQiAx5Lbpkx1t/F6ESNugkilHBhfglgeu7Tmopm+X8DSjeF5tXwEszp4IE8Dpz2CZUlptugojd5nX8uIyK0CdbN/ulD1tjLtw9vNKDOkZ7PmlikpPEvoBxX9g5vJtSNg7+R5+3sYXTUyUza7hyqHni2d+7g5rHzv77cJwh5J14WjN+5CmnzabUlY3aM2WcJx7ATxRsgtQvELgABE3y7Qa1WwCwdp+tPBkN66iabdaPQ5V4ph+GFoUA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=starfivetech.com; dmarc=pass action=none
 header.from=starfivetech.com; dkim=pass header.d=starfivetech.com; arc=none
Authentication-Results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=starfivetech.com;
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:7::14) by ZQ2PR01MB1305.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:6::14) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9298.12; Fri, 7 Nov
 2025 09:55:44 +0000
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7]) by ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7%6]) with mapi id 15.20.9298.010; Fri, 7 Nov 2025
 09:55:44 +0000
From: Hal Feng <hal.feng@starfivetech.com>
To: Conor Dooley <conor+dt@kernel.org>,
	Rob Herring <robh@kernel.org>,
	Krzysztof Kozlowski <krzk+dt@kernel.org>,
	Palmer Dabbelt <palmer@dabbelt.com>,
	Paul Walmsley <pjw@kernel.org>,
	Albert Ou <aou@eecs.berkeley.edu>,
	"Rafael J . Wysocki" <rafael@kernel.org>,
	Viresh Kumar <viresh.kumar@linaro.org>,
	Bjorn Helgaas <bhelgaas@google.com>,
	Lorenzo Pieralisi <lpieralisi@kernel.org>,
	=?UTF-8?q?Krzysztof=20Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
	Manivannan Sadhasivam <mani@kernel.org>,
	Emil Renner Berthing <emil.renner.berthing@canonical.com>,
	Heinrich Schuchardt <heinrich.schuchardt@canonical.com>,
	E Shattow <e@freeshell.de>
Cc: Hal Feng <hal.feng@starfivetech.com>,
	devicetree@vger.kernel.org,
	linux-riscv@lists.infradead.org,
	linux-kernel@vger.kernel.org
Subject: [PATCH v2 5/8] riscv: dts: starfive: jh711x-common: Move out some nodes to jh7110 common dtsi
Date: Fri,  7 Nov 2025 17:55:27 +0800
Message-ID: <20251107095530.114775-6-hal.feng@starfivetech.com>
X-Mailer: git-send-email 2.43.2
In-Reply-To: <20251107095530.114775-1-hal.feng@starfivetech.com>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
Content-Transfer-Encoding: 8bit
Content-Type: text/plain
X-ClientProxiedBy: ZQ0PR01CA0014.CHNPR01.prod.partner.outlook.cn (10.2.0.83)
 To ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn (10.2.1.78)
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-MS-PublicTrafficType: Email
X-MS-TrafficTypeDiagnostic:
	ZQ2PR01MB1307:EE_|ZQ2PR01MB1305:EE_|ZQ0PR01MB1303:EE_
X-MS-Office365-Filtering-Correlation-Id: a92e3628-0ecd-4e25-84ae-08de1de3d13f
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam:
 BCL:0;ARA:13230040|366016|7416014|52116014|1800799024|41320700013|38350700014|921020;
X-Microsoft-Antispam-Message-Info:
 xobX1KTHuJgyWxGT9ZARs9M8zecmGOSRiD9Rce5lyMel6YpRBXdpsfJZcFg8IGE7YUV28HHbJVBJ4n7NpE9iRb3X7l65XQmuIDF7xbqI6hvaQUp0OPknf1iSIK9AvkzrTbGiNyhkblQfd/N78KzHmrsPEdjpHpR+QKia2IzsxCo8La5plyadS1W9D8fW74ZKR8yYKd/t13ciU3WgmYxGDD1TtOpz03v/+3bYGqKutR2Mzk4EwG4V8NKkJK9h2/CzYnyyg9V1YYPh6UOEZXjeCqISwCybxQaMsX2ViMRNaSEibqKDYWd6k0U8TtYpUYRut1a0jnufio8BhRFTLYn8sJcsk0rV9sAMvKhh1oH4wCPs/zfQNPsyrKhofOBVunQP43qt06Am+zJC8TRok1aEumDxHcfbkbT8OIDzrykPh5YPRIsU4m445FYcQ1/A0I+Jv4X0eHg0tFqETb9ZQVdXy1BPW94brwACL7ADeQnpnoW+oT1NXvm+6Qlvj8U7nLxUBtnh9DknhMpzDNyLSLBpnhvODvYczoUDJM9ZeGdEF0V0q+FozeKSmRGX5NpCUjndL3g3xpA1NjzUy4IJXAkP7Es6S5GbcmeGw0aYCT9DULo=
X-Forefront-Antispam-Report:
 CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn;PTR:;CAT:NONE;SFS:(13230040)(366016)(7416014)(52116014)(1800799024)(41320700013)(38350700014)(921020);DIR:OUT;SFP:1102;
X-MS-Exchange-AntiSpam-MessageData-ChunkCount: 1
X-MS-Exchange-AntiSpam-MessageData-0:
 =?us-ascii?Q?D68cgW3twNC6nf1BHuReoeS23fkaumCUalM04UgcyDQi4xon/oCMKQufravO?=
 =?us-ascii?Q?Co9RjMZlJTJFGvJGtKThOKLY/XNPp+V3zaxesHlEugrP5tBrFEoXThIoJM0d?=
 =?us-ascii?Q?bJgwWU8hlIZu6ZGjz4TIDqMlaK4Rp/aBKfdV+HJnm4kBXGHUhcI3K9RX8eig?=
 =?us-ascii?Q?YXJdWqK9N2aKU9BMvVWqPk77tcq/Dr9fx2nohqvuiHOurHazDJdjQigEz9vF?=
 =?us-ascii?Q?Sfvgem69zadAbQ05tN0nqIBDJ/HA+kXhHtJz8xpdZMXXoxwML+AayLsey3bU?=
 =?us-ascii?Q?RWOv+t1mKxaz5dZSDn+FgjWL2+s7KuELjxp5XN/5rOsw7/X9cKIzyISC0J9P?=
 =?us-ascii?Q?mIRnc78EdOhjr1s7XuDL1nkbmDc6Zq+K3JyQA++UY69q172aYBofeXBufNhN?=
 =?us-ascii?Q?jsVuZPWw4EFzlAW9hJzHGtmRwELBV1NhSSikA0YI52ru5ZHK4ep1cbYzKM3M?=
 =?us-ascii?Q?dpvESmqRYgkEGQG5Q8wDsX5BblLvGCRy2kQ6qM7yHHnVERSuMDXwJJHjeud1?=
 =?us-ascii?Q?/iUgQ/TGWLOnH3vmebDB2JQJ1eeCXBLqocfZ0z0S3fqhAil+gmvgIZPbSie+?=
 =?us-ascii?Q?IWZ+6hb3wAy628raeLNhFo2g94FRLPhPr1/ENNfh5eL57D6MWK/nPvw0kPbo?=
 =?us-ascii?Q?B54DFEY8rkO0+AfXVh9EyCHfKCZd067T5+oQX8F/JsWcBD8i4VeGC/6R1AK6?=
 =?us-ascii?Q?V1F6ccNgQTb8Wm4o/Zzu1suCA2AyXzSWwEONwtkEFiga0xLmL4Vbamo08pcD?=
 =?us-ascii?Q?+AybZqFoIMFPNiifOjQp7Al+89V+LYWc/3cvf2sEEgdBKutEWeP76tIwq3xU?=
 =?us-ascii?Q?a5+ntaEqgeQp+M5U3mtM36c+xx6qiWQ7Nd4j08hTk4B8xMckjFZ+9PMceX13?=
 =?us-ascii?Q?gWimkrGtd7o07bpGLVtjcPts9Em/LyttxgSUkxKbKUUwjNvkI9oGi1XROyzh?=
 =?us-ascii?Q?K/gu1brpuO5yx2vfmR09rHXcSJ2oUGLM0qcfq+SZQSAL95YqNHuzlVZrg+cJ?=
 =?us-ascii?Q?rbcCOOghIKjcud/1c7S5ZP8To10cW4FmXbO7UbBZTT12pgcPWLpFsQ+o+XG2?=
 =?us-ascii?Q?inJS8Hho1iCT+BrbhAhbX8pnUsNwNdX69sG7WVnV84S6ca4ujKRSFHasLLoe?=
 =?us-ascii?Q?wLR5fBLCICpwt/I0pfNHCAkQUG/xx/MfR9kY1AwlmRRMQTjm7nGPU4oFJR2s?=
 =?us-ascii?Q?QzuNhYzAP8grIu671cU12G3frKVLwPNXk8CWbrbNDm5HC16z8Av4jVdaFUko?=
 =?us-ascii?Q?j6u9EHG3qGQaP7wtetzZsp8unpUtc4UXbnthySYRc8opn/mIv7bK3vF/ic4U?=
 =?us-ascii?Q?C3BWNSdsJHY9FuUrxWhkyOp7lMrljUvoHvdsLsc5sSiAg5/zQ51XeS6YGNA9?=
 =?us-ascii?Q?lCnSv1fXeNL1MxticbEV42EsfbM+8XIi7/5cAKDXG5qMKcl5Rw1tgjqqFI0M?=
 =?us-ascii?Q?xFWvAOHsqOT6q3IL8+1vysIRSf4rxf59agqsTyQqzx0WtUQu3jp9g6HeyUod?=
 =?us-ascii?Q?1NAEGnhX+HS05SZycbpzgLpi8okJ9ProLthP3/NitGkTrO+VvBkPKDvBbF3A?=
 =?us-ascii?Q?vGNdNrqrjk0cy+F6yqt8jygTLXYiuVVPRZfeZzcFDSepuodHk39pgRBerDM3?=
 =?us-ascii?Q?2w=3D=3D?=
X-MS-Exchange-CrossTenant-Network-Message-Id: a92e3628-0ecd-4e25-84ae-08de1de3d13f
X-MS-Exchange-CrossTenant-AuthSource: ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 07 Nov 2025 09:55:43.9724
 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 06fe3fa3-1221-43d3-861b-5a4ee687a85c
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: 1j19WGXGnUBZ5eBZc8ax2cB2Xzl2dK/2JZmeMeOpO21I8RyVnXmOSC0azVkhZ55WKag48WKIGryMfWx2x5Xz8mcwmloqtDMFJp8kZVq7K8k=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: ZQ2PR01MB1305
X-OriginatorOrg: starfivetech.com

Some nodes in this file are not used by the upcoming VisionFive 2 Lite
board. Move them to the jh7110 common dtsi to prepare for adding the
new VisionFive 2 Lite device tree.

Signed-off-by: Hal Feng <hal.feng@starfivetech.com>
---
 arch/riscv/boot/dts/starfive/jh7110-common.dtsi | 14 ++++++++++++++
 arch/riscv/boot/dts/starfive/jh711x-common.dtsi |  8 --------
 2 files changed, 14 insertions(+), 8 deletions(-)

diff --git a/arch/riscv/boot/dts/starfive/jh7110-common.dtsi b/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
index dd5805ef70a1..cdc362b8d58b 100644
--- a/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
+++ b/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
@@ -25,3 +25,17 @@ opp-1500000000 {
 		opp-microvolt = <1040000>;
 	};
 };
+
+&mmc0 {
+	cap-mmc-highspeed;
+	cap-mmc-hw-reset;
+	mmc-ddr-1_8v;
+	mmc-hs200-1_8v;
+	vmmc-supply = <&vcc_3v3>;
+	vqmmc-supply = <&emmc_vdd>;
+};
+
+&mmc1 {
+	cd-gpios = <&sysgpio 41 GPIO_ACTIVE_LOW>;
+	disable-wp;
+};
diff --git a/arch/riscv/boot/dts/starfive/jh711x-common.dtsi b/arch/riscv/boot/dts/starfive/jh711x-common.dtsi
index 809274625615..42b8f60725fb 100644
--- a/arch/riscv/boot/dts/starfive/jh711x-common.dtsi
+++ b/arch/riscv/boot/dts/starfive/jh711x-common.dtsi
@@ -281,14 +281,8 @@ &mmc0 {
 	assigned-clock-rates = <50000000>;
 	bus-width = <8>;
 	bootph-pre-ram;
-	cap-mmc-highspeed;
-	mmc-ddr-1_8v;
-	mmc-hs200-1_8v;
-	cap-mmc-hw-reset;
 	pinctrl-names = "default";
 	pinctrl-0 = <&mmc0_pins>;
-	vmmc-supply = <&vcc_3v3>;
-	vqmmc-supply = <&emmc_vdd>;
 	status = "okay";
 };
 
@@ -298,8 +292,6 @@ &mmc1 {
 	assigned-clock-rates = <50000000>;
 	bus-width = <4>;
 	bootph-pre-ram;
-	cd-gpios = <&sysgpio 41 GPIO_ACTIVE_LOW>;
-	disable-wp;
 	cap-sd-highspeed;
 	pinctrl-names = "default";
 	pinctrl-0 = <&mmc1_pins>;
-- 
2.43.2


From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from smtp.kernel.org (aws-us-west-2-korg-mail-1.web.codeaurora.org [10.30.226.201])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id AEF22261581;
	Fri,  7 Nov 2025 17:20:25 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=10.30.226.201
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762536025; cv=none; b=Bm4sVLUeYX/0je2pNHUxRYFY9gSyocWI7Ph07QC7tnIBMG1y+nuic8Xwdb0a4nP+ZTHe6cHWQWIMyLiL/gJGx1iUnGqjQrvmG6LEnE+DrUryqEQeSDpSp8HIhSugdXclbizQTJs8bRbcYfOW/Y2OlwTO99/Tm0abBj1ecy4UkWw=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762536025; c=relaxed/simple;
	bh=oxDwYCkrdj5zrZ8eK9rx/ixf+coTfobB+mmKr0plunM=;
	h=Date:From:To:Cc:Subject:Message-ID:References:MIME-Version:
	 Content-Type:Content-Disposition:In-Reply-To; b=S5uH0UsEOhGgiFLj8rePmhxLYkF5zvshjzLH4zeWp0hxeU8sQdQngz3MxwoIitmGn/0JH69+Akr3Nkptv2m1FGxDz6BkqNWX1VLTSMTF+CoP1yweTdVQ7EEDpqzDsVRRr1KE9SMvaqqKrp6CG0ANAv/rgd4Escju+8R4e4cVlwI=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b=H5DqYg68; arc=none smtp.client-ip=10.30.226.201
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b="H5DqYg68"
Received: by smtp.kernel.org (Postfix) with ESMTPSA id A8F5DC4CEF7;
	Fri,  7 Nov 2025 17:20:21 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
	s=k20201202; t=1762536025;
	bh=oxDwYCkrdj5zrZ8eK9rx/ixf+coTfobB+mmKr0plunM=;
	h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
	b=H5DqYg68rq3zVGZMHb1G+n9EpqbvDQKJrpFVNHiVJLLFbZ5pY6AViB9hzMd9VqC5M
	 mGKjRFnWZnyQf3T+SFj/OvyzEJ8mg297kyCDFXE8zqDRflD3BtHcB9pBRu9hxSBaOr
	 pHXELra7/krwGXctjJ24pwXMVHH+dquYdiHz56qvXcVCJQhbVCxGqNnlFaBZ/EItv7
	 DWCCMZrrJnLsBlmLOUdloFLYrlZ5bzI+xKmCmxRnQeEsPMZPlfpEBGYLMliTYsQVI8
	 NNolAV9+5w7V/+MtAMJ8LA6bjUaFChAq1Lk/AtvtxGz+llwFdFOxuOBd0wZKT3M1T4
	 t1NH4Y2MCHWAA==
Date: Fri, 7 Nov 2025 17:20:19 +0000
From: Conor Dooley <conor@kernel.org>
To: Heinrich Schuchardt <heinrich.schuchardt@canonical.com>
Cc: E Shattow <e@freeshell.de>, devicetree@vger.kernel.org,
	linux-riscv@lists.infradead.org, linux-kernel@vger.kernel.org,
	Hal Feng <hal.feng@starfivetech.com>,
	Conor Dooley <conor+dt@kernel.org>, Rob Herring <robh@kernel.org>,
	Krzysztof Kozlowski <krzk+dt@kernel.org>,
	Palmer Dabbelt <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>,
	Albert Ou <aou@eecs.berkeley.edu>,
	"Rafael J . Wysocki" <rafael@kernel.org>,
	Viresh Kumar <viresh.kumar@linaro.org>,
	Bjorn Helgaas <bhelgaas@google.com>,
	Lorenzo Pieralisi <lpieralisi@kernel.org>,
	Krzysztof =?utf-8?Q?Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
	Manivannan Sadhasivam <mani@kernel.org>,
	Emil Renner Berthing <emil.renner.berthing@canonical.com>
Subject: Re: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
Message-ID: <20251107-frenzy-cloning-4b279cfe932c@spud>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <c05d8bcc-3024-45cd-8630-b0595682e778@freeshell.de>
 <6d0fb6aa-6d88-4069-a5e5-9e910523888e@canonical.com>
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha512;
	protocol="application/pgp-signature"; boundary="98XJ8Lpr/rFGdbIm"
Content-Disposition: inline
In-Reply-To: <6d0fb6aa-6d88-4069-a5e5-9e910523888e@canonical.com>


--98XJ8Lpr/rFGdbIm
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On Fri, Nov 07, 2025 at 12:21:46PM +0100, Heinrich Schuchardt wrote:
> On 11/7/25 12:11, E Shattow wrote:
> >=20
> >=20
> > On 11/7/25 01:55, Hal Feng wrote:
> > > VisionFive 2 Lite is a mini SBC based on the StarFive JH7110S industr=
ial
> > > SoC which can run at -40~85 degrees centigrade and up to 1.25GHz.
> > >=20
> > > Board features:
> > > - JH7110S SoC
> > > - 4/8 GiB LPDDR4 DRAM
> > > - AXP15060 PMIC
> > > - 40 pin GPIO header
> > > - 1x USB 3.0 host port
> > > - 3x USB 2.0 host port
> > > - 1x M.2 M-Key (size: 2242)
> > > - 1x MicroSD slot (optional non-removable 64GiB eMMC)
> > > - 1x QSPI Flash
> > > - 1x I2C EEPROM
> > > - 1x 1Gbps Ethernet port
> > > - SDIO-based Wi-Fi & UART-based Bluetooth
> > > - 1x HDMI port
> > > - 1x 2-lane DSI
> > > - 1x 2-lane CSI
> > >=20
> > > VisionFive 2 Lite schematics: https://doc-en.rvspace.org/VisionFive2L=
ite/PDF/VF2_LITE_V1.10_TF_20250818_SCH.pdf
> > > VisionFive 2 Lite Quick Start Guide: https://doc-en.rvspace.org/Visio=
nFive2Lite/VisionFive2LiteQSG/index.html
> > > More documents: https://doc-en.rvspace.org/Doc_Center/visionfive_2_li=
te.html
> > >=20
> > > Changes since v1:
> > > - Drop patch 1 because it is applied.
> > > - Rename jh7110.dtsi to jh711x.dtsi.
> > > - Move the content of jh7110-common.dtsi to the new file
> > >    jh711x-common.dtsi and move opp table to jh7110-common.dtsi.
> > > patch 4:
> > > - Move the uncommon nodes to jh7110-common.dtsi instead of board dts.
> > > patch 5:
> > > - Add jh7110s-common.dtsi and include it in jh7110s-starfive-visionfi=
ve-2-lite.dtsi.
> > >=20
> > > Changes since RFC:
> > > - Add jh7110s compatible to the generic cpufreq driver.
> > > - Fix the dtbs_check error by adding the missing "enable-gpios" prope=
rty
> > >    in jh7110 pcie dt-bindings.
> > > - Rebase on the latest mainline.
> > > - Add VisionFive 2 Lite eMMC board device tree and add a common board=
 dtsi
> > >    for VisionFive 2 Lite variants.
> > > - Add usb switch pin configuration (GPIO62).
> > > - Improve the commit messages.
> > >=20
> > > History:
> > > v1: https://lore.kernel.org/all/20251016080054.12484-1-hal.feng@starf=
ivetech.com/
> > > RFC: https://lore.kernel.org/all/20250821100930.71404-1-hal.feng@star=
fivetech.com/
> > >=20
> > > Hal Feng (8):
> > >    dt-bindings: PCI: starfive,jh7110-pcie: Add enable-gpios property
> > >    dt-bindings: riscv: Add StarFive JH7110S SoC and VisionFive 2 Lite
> > >      board
> > >    riscv: dts: starfive: Rename jh7110.dtsi to jh711x.dtsi
> > >    riscv: dts: starfive: Split jh7110-common.dtsi and move opp table =
to
> > >      it
> > >    riscv: dts: starfive: jh711x-common: Move out some nodes to jh7110
> > >      common dtsi
> > >    riscv: dts: starfive: Add common board dtsi for JH7110s and Vision=
Five
> > >      2 Lite variants
> > >    riscv: dts: starfive: Add VisionFive 2 Lite board device tree
> > >    riscv: dts: starfive: Add VisionFive 2 Lite eMMC board device tree
> > >=20
> > >   .../bindings/pci/starfive,jh7110-pcie.yaml    |   4 +
> > >   .../devicetree/bindings/riscv/starfive.yaml   |   6 +
> > >   arch/riscv/boot/dts/starfive/Makefile         |   3 +
> > >   .../boot/dts/starfive/jh7110-common.dtsi      | 653 +--------------=
--
> > >   .../boot/dts/starfive/jh7110s-common.dtsi     |  27 +
> > >   ...h7110s-starfive-visionfive-2-lite-emmc.dts |  22 +
> > >   .../jh7110s-starfive-visionfive-2-lite.dts    |  20 +
> > >   .../jh7110s-starfive-visionfive-2-lite.dtsi   | 126 ++++
> > >   .../boot/dts/starfive/jh711x-common.dtsi      | 656 +++++++++++++++=
+++
> > >   .../dts/starfive/{jh7110.dtsi =3D> jh711x.dtsi} |  16 -
> > >   10 files changed, 879 insertions(+), 654 deletions(-)
> > >   create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-common.dtsi
> > >   create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-vi=
sionfive-2-lite-emmc.dts
> > >   create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-vi=
sionfive-2-lite.dts
> > >   create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-vi=
sionfive-2-lite.dtsi
> > >   create mode 100644 arch/riscv/boot/dts/starfive/jh711x-common.dtsi
> > >   rename arch/riscv/boot/dts/starfive/{jh7110.dtsi =3D> jh711x.dtsi} =
(99%)
> > >=20
> > >=20
> > > base-commit: df5d79720b152e7ff058f11ed7e88d5b5c8d2a0c
> >=20
> > Small nit that "lite-emmc" is confusing together. In patches to U-Boot
> > dev mailing list the EEPROM product id is demonstrated to be with "SL"
> > suffix when compared to VisionFive 2 (JH7110) so I suggest avoid
> > confusion in upstream and use for VisionFive 2 Lite (JH7110S) these
> > compatible names:
> >=20
> > starfive,visionfive-2sl-lite
> > starfive,visionfive-2sl-emmc
> >=20
> > Also filenames:
> >=20
> > jh7110s-starfive-visionfive-2sl-lite.dts
> > jh7110s-starfive-visionfive-2sl.dtsi
> > jh7110s-starfive-visionfive-2sl-emmc.dts
> >=20
> > What do you think?
> >=20
>=20
> This is a serial number for the Lite board:
> VF7110SL-2310-D002E000-xxxxxxxx
>=20
> Here E000 encodes that we have no eMMC.
>=20
> The S is part of 7110S which we already have in 'jh7110s'. And the L is
> already decoded as 'lite' in this patch series. Duplicating this informat=
ion
> as 'sl' as you suggested provides no benefit.
>=20
> Let's just stick with Hal's suggestion.

The marketing materials etc call it the visionfive 2 lite, for example
on kickstarter: https://www.kickstarter.com/projects/starfive/visionfive-2-=
lite-unlock-risc-v-sbc-at-199
I'm happy enough with what Hal has here as a result.

--98XJ8Lpr/rFGdbIm
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----

iHUEABYKAB0WIQRh246EGq/8RLhDjO14tDGHoIJi0gUCaQ4qUwAKCRB4tDGHoIJi
0syIAQD+Er+PMhGz0kEbUyrWG+rkw0VQZymPYFA4k1wpI8zTpQD/c/7P+rG/2fm/
YoL8btigKOHdPBIBOGqtNCtKrN3/QAI=
=NTsO
-----END PGP SIGNATURE-----

--98XJ8Lpr/rFGdbIm--

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from CHN02-SH0-obe.outbound.protection.partner.outlook.cn (mail-sh0chn02on2093.outbound.protection.partner.outlook.cn [139.219.146.93])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 6B09224A044;
	Wed, 12 Nov 2025 07:24:13 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=fail smtp.client-ip=139.219.146.93
ARC-Seal:i=2; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762932260; cv=fail; b=QGmpFu+dOmgjTo8urX0qThauoZycH7cQRQHsLvn4SR8Qxhe34d7c4Ioz8+WtldCXXX92OfFn4neNdDQz7VpWQnGQVbG4nn6RDcY7lFCju78RPomb+pSQz9ns3mkm72P3JpVfay7mmlz4kp6xTjnhRkk/6tklayNMrF5vkH02Nmk=
ARC-Message-Signature:i=2; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762932260; c=relaxed/simple;
	bh=BMgebNmDhv4Aikce3kEszlny5RIINzasjNPymBRUmFY=;
	h=From:To:CC:Subject:Date:Message-ID:References:In-Reply-To:
	 Content-Type:MIME-Version; b=XPwyyCt3yXeUlJH4mkXVs2G5TKUePwymLcCubALuVgttqbDngwaEsuUTm2G4P4ac0M/AJzYnKpDRz+wLiobUIJFYV3a+uzcWzFrnTvNKto00BB5EX7mn5NUmICv4JbQb0s4MxPZZbrATkF1COV1nD0HjdF7zEyi1rUhBYKGGZ1o=
ARC-Authentication-Results:i=2; smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com; spf=pass smtp.mailfrom=starfivetech.com; arc=fail smtp.client-ip=139.219.146.93
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=starfivetech.com
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=L9DNcVCDbtA5z9kd+hUheQxxw7TDHxCiSRcCpJNFG1Y+79KXPaPLsc/KlbUa4+zrNZ9QXCkJbrG3/PlO3LPgaX4yn2WeyDicbt7AHdvX98eQcS53E7XKx8prmSOwLNcqLN4flDYbo3SkWdRePq2JRYfKeOh7MQS5IYd6SjbVnKfnZdmr1PGWvOtlC/vbB9ffK7WhHsOqtpCtZY8ewkCtsQg1TSsdvRPHZ+/46h234+N2d7ErlCdhSnyu8a0VDQjc4r9E4RCKd2JJz63/yvCz0hzbf25Jw/eMjeOSw/8WmHavn9GxR4pyhWNGpBnkcmeRlyH9xCdr8pxGtuUaBnRt9Q==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=BMgebNmDhv4Aikce3kEszlny5RIINzasjNPymBRUmFY=;
 b=JKq/2Z6oAy/NCRudi58VIf+tvO7wcrLkjAYSiLndCSxZof4IRMeXWXkExofCt/Z0YSGAVAPZUMdCnu9opchzOT8NrSdOnckBFFbRnj3KNpqGsbNgZ1pGiU5ZMIE4qDli5O0aqtX/+BdL74caq0OaVMsyMgSxOwEiGz3PQ/lmkXt2EgjQzrskcMmnK7r3WtZPCRe5eYUldG75vcmgkZzxThPsZnBLuQ7Wi9NLzWIJ48eZ3wMvnaONBZK9w7O5njiUKaMh+HgzVv6M+8LbjUZEhWREuu9nqlDaJq1e8Z5TAGHOC28O5bNqJsB4NBWU/CGxVp0o2CuMKUlKcBA2Y8Dh6Q==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=starfivetech.com; dmarc=pass action=none
 header.from=starfivetech.com; dkim=pass header.d=starfivetech.com; arc=none
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:7::14) by ZQ2PR01MB1164.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:12::13) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9320.16; Wed, 12 Nov
 2025 07:24:03 +0000
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7]) by ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7%6]) with mapi id 15.20.9320.013; Wed, 12 Nov 2025
 07:24:03 +0000
From: Hal Feng <hal.feng@starfivetech.com>
To: E Shattow <e@freeshell.de>, Heinrich Schuchardt
	<heinrich.schuchardt@canonical.com>
CC: "devicetree@vger.kernel.org" <devicetree@vger.kernel.org>,
	"linux-riscv@lists.infradead.org" <linux-riscv@lists.infradead.org>,
	"linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>, Conor Dooley
	<conor+dt@kernel.org>, Rob Herring <robh@kernel.org>, Krzysztof Kozlowski
	<krzk+dt@kernel.org>, Palmer Dabbelt <palmer@dabbelt.com>, Paul Walmsley
	<pjw@kernel.org>, Albert Ou <aou@eecs.berkeley.edu>, "Rafael J . Wysocki"
	<rafael@kernel.org>, Viresh Kumar <viresh.kumar@linaro.org>, Bjorn Helgaas
	<bhelgaas@google.com>, Lorenzo Pieralisi <lpieralisi@kernel.org>,
	=?utf-8?B?S3J6eXN6dG9mIFdpbGN6ecWEc2tp?= <kwilczynski@kernel.org>, Manivannan
 Sadhasivam <mani@kernel.org>, Emil Renner Berthing
	<emil.renner.berthing@canonical.com>
Subject: RE: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
Thread-Topic: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
Thread-Index: AQHcT8yr76WB0y2LYU6wjdN+ecXGd7TnDtcAgAAC9gCAAAszgIAHeyHw
Date: Wed, 12 Nov 2025 07:24:03 +0000
Message-ID:
 <ZQ2PR01MB13079DACC0C7231B34F93C42E6CC2@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <c05d8bcc-3024-45cd-8630-b0595682e778@freeshell.de>
 <6d0fb6aa-6d88-4069-a5e5-9e910523888e@canonical.com>
 <4b38ec00-dfc4-481b-8b8d-fa171ce8d12b@freeshell.de>
In-Reply-To: <4b38ec00-dfc4-481b-8b8d-fa171ce8d12b@freeshell.de>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=starfivetech.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: ZQ2PR01MB1307:EE_|ZQ2PR01MB1164:EE_
x-ms-office365-filtering-correlation-id: 765e47ec-44b5-4bde-7c66-08de21bc7518
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam:
 BCL:0;ARA:13230040|41320700013|1800799024|366016|7416014|38070700021|13003099007;
x-microsoft-antispam-message-info:
 ygfQhZb52hxbSsjt8gSHlEI6aAq9fttkpO2wIZo+0Y8nqtNL8rleimBXrvuffAgFY1cFyZReQEbP/uNYNIi68jH5IxEHFtDCsE5qSZFfCJhQvlYIE2JnWh1DvXSnfkPbO6f26N4VapMR3l2aJnhLWRDqcCs1psflOLK/EJHlGGQTHmdARtU6mpYAuSwraua/up8cGFDTCozuUyRVadgasoF2unJay6X87KjGaOK8pLcLSMgyoujYg59GNoD0wVqaTe/6B+ovS1LAf0YeeUr9Xx/Cra5SKa8QbZDWI+mG8wZqiZ2wo3McQ86eKYT1bI6YZMxI4H5VUrd3QT9NrOaSVAXHFAyrdHCL895AL/vWv3rhUFx0YlnK7oHFGbVWKNpAE7uWLHgGTOySjzqJ2hcqeQcRFerOVUnsXzp5EFlAfrRbX2AZI0c2siY++cRybAYBo4TwDRb+bW87KMbPGOPwZKiqg3tVfZ0gHZFzotK5TXisbTgnl+4EN75FiX3jUKf8ZJC6fhYb5wN/rpaI4kUI4+ruiMECUMK66TMnHnGWgeXkjdclbgst90xL0hP8sPXFX13j9hYU3V2CTf3TWua4Q3Lnun9Qt58uyydska5uqUc=
x-forefront-antispam-report:
 CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn;PTR:;CAT:NONE;SFS:(13230040)(41320700013)(1800799024)(366016)(7416014)(38070700021)(13003099007);DIR:OUT;SFP:1102;
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0:
 =?utf-8?B?QjYzZ2pOKzdzc1Z5ZFdhaGlhZ2g4NnlnaVFVNXd2cEpGMkxQdDlPR3kyWURk?=
 =?utf-8?B?WVdpWXdWSklya1RkUkdseGF0K0lGVEVabGxON3dWSG5mSm5NalZqelhRMTdk?=
 =?utf-8?B?WUoraUc5Nlc4WHBoSGM0L2ZleUhOa2J3U3hySXRocGxmUzM5OTZtUlVpcXMy?=
 =?utf-8?B?RGYzRVhhV3pWWnB3UHZ1SWg3UFo1bjZ1RXhwc043YjRybitPbDVmYkVrM2JY?=
 =?utf-8?B?N0pPVkFXWkxkL2hEZlREY0UwSWlrVGl3dDROQ0xrb25RcmVSTXRrVDRLOGM5?=
 =?utf-8?B?NVdUNUNTZjNxUjNPcnBYOVlzK3d3aEorN2tEcGFEMlRQYkRlcU1FaGc0eWZV?=
 =?utf-8?B?OFFyZGRCTWRDVGhBcXZ3NWdLeTBJQjIzY1JrYkJqSnBBVUdFVGx1MzBQNFgr?=
 =?utf-8?B?L2hFZG1ycjlpdjg5SXlEbTlBTXZCN2ZNaXV6RkswVFM4V0doK29sVFY3WkJj?=
 =?utf-8?B?UTJEWEJqeFpYS3NqUjBKUzRGdll4QUhoSUZrUDhDZTd3dWQ0dW5JS0JsNE1h?=
 =?utf-8?B?dEJydXBvS0RBbzZkREZPakxpbmludlVSUVlvb0l3bXhJdE1lRzdPeGZZUlFr?=
 =?utf-8?B?QklGZXNFMFFoNG5iZFY3UDV4SkI3TllwdW1ZRDIvSVR3NVZrVVBvMS94VEkw?=
 =?utf-8?B?RThZYXBkVXBsaXYyQ1hIRnRFUm1Qem1tUUFwVE5sd2RoQURoQ1pNWHVOdlRM?=
 =?utf-8?B?cVVmYmRwUElHVlFuaEYreU5CaWxObW1zNlNGUmpTeis2UUgyd3RPVTdiUXBV?=
 =?utf-8?B?Qjd2RkJOamMyZGZXcnJ0YlNCaWtRTm02V29jRHUvUDRUbWRhZlZCWkZoUGpZ?=
 =?utf-8?B?UjFtL2lSWkZiV2dISk9kOTBKY3FUQi92K2c0dFkyckR3ZkFzcy8wZlltRHBG?=
 =?utf-8?B?SjdDQ3ZPaWZLN2Nsa2l3S1A1NnhUUDZhQUQyNk9pOHJvZlF4WUhuUzVLNUln?=
 =?utf-8?B?eEZ3OXhxdXRpRVJSczZtc3h2WGNJZEc0ak9WcmtraGNKSFpsYkJhYTZLNnQv?=
 =?utf-8?B?VDhxSFliUGlYalFtYnM0SUNXZFVFSTlSeVE1Y2NjdkN1OU9iaDloKzJmZytV?=
 =?utf-8?B?UDREU2pONlRUL21aUjRmMTczeUhWTS81Smdmd0JmTWVYVFM5TnVtK2pRTnl1?=
 =?utf-8?B?cUtmZTdJZWhBOVVTalg0Sk9USkFTeXBUM3NKZHNSSmtjalF4OXVTc1JGY1px?=
 =?utf-8?B?MlF6NGRCM29OVnAydWwzOCtQMklNQnRmYk50Nys3MnZCZ2pOU2dsVGZiNzdE?=
 =?utf-8?B?aHlBREU5WFRJbERTZXVQZmFvbUJtL1ZTUVdLbFBjNVZHN0tnSUR5aCs1NlJU?=
 =?utf-8?B?N3RBMXV5QVBuRmcyejh4U2hGdUNyYWdXSlpFZTJmV2JjT0JEcEhMdThyK3Jm?=
 =?utf-8?B?MEdVMEhJSzBsbXhrTkI3M29iTW9kMERLVGtWMXhUUlppUi9qelN2U0oyVjRG?=
 =?utf-8?B?Wk9FL1Y2ZG5YakZHZzdJYzcySFliY085dXdaSmxBRzRmUTJBMFB0VytzdWF0?=
 =?utf-8?B?am9yeGh5b1dZS01jNEdyUjdoSURxdlF6dFU1UGVXZFp4RXRSdkRyeldFcE41?=
 =?utf-8?B?emtXVHNaN3Nha092Z2JPZW5JUzcxTG5HV3phbFIyYUtjdVRjbEFkU2JCcVpN?=
 =?utf-8?B?ZEFmT3B6clBRQm9Xd2xRT2J5bFhaS3B6RHRhNjRzK09zZXdzcDM5Q25ST2lX?=
 =?utf-8?B?TVNkYVZzNVZCODFsajZ6OVY3c3N6cTgxcEhhZmhSNFBJWnJxL3EvNUtKcklG?=
 =?utf-8?B?azVNdnJhOStEMWJGRXdwZVJFRHhISmE5cUErcjAxU1JpWG1kQ3hIdEVjaElY?=
 =?utf-8?B?MU1pcEM4ZkhoajFpT1RNNHYxV2VjbW9HTkVlOGUyanhCanB2VVNoT3FRVnEv?=
 =?utf-8?B?V0NnWnRiNEtkUWJZUmFjQmhLK2JvK2FmSVY2RkdNRjM2Um5TSWh3b001a1I3?=
 =?utf-8?B?K3FyYm9WZ2h1VlRrbkNHVWZnczVscjZZTUZQbldWZkhEK0JsY216SlNYYmt0?=
 =?utf-8?B?NGxGeU51VVprMEZHQXZucGxab2Jmd3NFWUNIczZYQkR2MUlWMURSeWVoTHMv?=
 =?utf-8?B?YmczU3hSWFVuMUxPZTZ0TGRsL0RoYy9sWjNRL09ZWitUSGR5LytsaVNoVXFN?=
 =?utf-8?Q?HE7KTeP5xuky8DsyC1lAwvmoB?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-OriginatorOrg: starfivetech.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
X-MS-Exchange-CrossTenant-Network-Message-Id: 765e47ec-44b5-4bde-7c66-08de21bc7518
X-MS-Exchange-CrossTenant-originalarrivaltime: 12 Nov 2025 07:24:03.4695
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 06fe3fa3-1221-43d3-861b-5a4ee687a85c
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: BXJzMOAjqhpRp9c1gXIwNLy/4ve/hG9cuFP4FT5aR/hhRjApZFR9o0y7U9nU064B+25xulWK9CoTenMQ1ObN/lLTDvYXx/Ti5BYzzq+lxDk=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: ZQ2PR01MB1164

PiBPbiAwNy4xMS4yNSAyMDowMiwgRSBTaGF0dG93IHdyb3RlOg0KPiBPbiAxMS83LzI1IDAzOjIx
LCBIZWlucmljaCBTY2h1Y2hhcmR0IHdyb3RlOg0KPiA+IE9uIDExLzcvMjUgMTI6MTEsIEUgU2hh
dHRvdyB3cm90ZToNCj4gPj4NCj4gPj4NCj4gPj4gT24gMTEvNy8yNSAwMTo1NSwgSGFsIEZlbmcg
d3JvdGU6DQo+ID4+PiBWaXNpb25GaXZlIDIgTGl0ZSBpcyBhIG1pbmkgU0JDIGJhc2VkIG9uIHRo
ZSBTdGFyRml2ZSBKSDcxMTBTDQo+ID4+PiBpbmR1c3RyaWFsIFNvQyB3aGljaCBjYW4gcnVuIGF0
IC00MH44NSBkZWdyZWVzIGNlbnRpZ3JhZGUgYW5kIHVwIHRvDQo+IDEuMjVHSHouDQo+ID4+Pg0K
PiA+Pj4gQm9hcmQgZmVhdHVyZXM6DQo+ID4+PiAtIEpINzExMFMgU29DDQo+ID4+PiAtIDQvOCBH
aUIgTFBERFI0IERSQU0NCj4gPj4+IC0gQVhQMTUwNjAgUE1JQw0KPiA+Pj4gLSA0MCBwaW4gR1BJ
TyBoZWFkZXINCj4gPj4+IC0gMXggVVNCIDMuMCBob3N0IHBvcnQNCj4gPj4+IC0gM3ggVVNCIDIu
MCBob3N0IHBvcnQNCj4gPj4+IC0gMXggTS4yIE0tS2V5IChzaXplOiAyMjQyKQ0KPiA+Pj4gLSAx
eCBNaWNyb1NEIHNsb3QgKG9wdGlvbmFsIG5vbi1yZW1vdmFibGUgNjRHaUIgZU1NQykNCj4gPj4+
IC0gMXggUVNQSSBGbGFzaA0KPiA+Pj4gLSAxeCBJMkMgRUVQUk9NDQo+ID4+PiAtIDF4IDFHYnBz
IEV0aGVybmV0IHBvcnQNCj4gPj4+IC0gU0RJTy1iYXNlZCBXaS1GaSAmIFVBUlQtYmFzZWQgQmx1
ZXRvb3RoDQo+ID4+PiAtIDF4IEhETUkgcG9ydA0KPiA+Pj4gLSAxeCAyLWxhbmUgRFNJDQo+ID4+
PiAtIDF4IDItbGFuZSBDU0kNCj4gPj4+DQo+ID4+PiBWaXNpb25GaXZlIDIgTGl0ZSBzY2hlbWF0
aWNzOiBodHRwczovL2RvYy1lbi5ydnNwYWNlLm9yZy8NCj4gPj4+IFZpc2lvbkZpdmUyTGl0ZS9Q
REYvVkYyX0xJVEVfVjEuMTBfVEZfMjAyNTA4MThfU0NILnBkZg0KPiA+Pj4gVmlzaW9uRml2ZSAy
IExpdGUgUXVpY2sgU3RhcnQgR3VpZGU6IGh0dHBzOi8vZG9jLWVuLnJ2c3BhY2Uub3JnLw0KPiA+
Pj4gVmlzaW9uRml2ZTJMaXRlL1Zpc2lvbkZpdmUyTGl0ZVFTRy9pbmRleC5odG1sDQo+ID4+PiBN
b3JlIGRvY3VtZW50czogaHR0cHM6Ly9kb2MtZW4ucnZzcGFjZS5vcmcvRG9jX0NlbnRlci8NCj4g
Pj4+IHZpc2lvbmZpdmVfMl9saXRlLmh0bWwNCj4gPj4+DQo+ID4+PiBDaGFuZ2VzIHNpbmNlIHYx
Og0KPiA+Pj4gLSBEcm9wIHBhdGNoIDEgYmVjYXVzZSBpdCBpcyBhcHBsaWVkLg0KPiA+Pj4gLSBS
ZW5hbWUgamg3MTEwLmR0c2kgdG8gamg3MTF4LmR0c2kuDQo+ID4+PiAtIE1vdmUgdGhlIGNvbnRl
bnQgb2Ygamg3MTEwLWNvbW1vbi5kdHNpIHRvIHRoZSBuZXcgZmlsZQ0KPiA+Pj4gwqDCoCBqaDcx
MXgtY29tbW9uLmR0c2kgYW5kIG1vdmUgb3BwIHRhYmxlIHRvIGpoNzExMC1jb21tb24uZHRzaS4N
Cj4gPj4+IHBhdGNoIDQ6DQo+ID4+PiAtIE1vdmUgdGhlIHVuY29tbW9uIG5vZGVzIHRvIGpoNzEx
MC1jb21tb24uZHRzaSBpbnN0ZWFkIG9mIGJvYXJkDQo+IGR0cy4NCj4gPj4+IHBhdGNoIDU6DQo+
ID4+PiAtIEFkZCBqaDcxMTBzLWNvbW1vbi5kdHNpIGFuZCBpbmNsdWRlIGl0IGluIGpoNzExMHMt
c3RhcmZpdmUtDQo+ID4+PiB2aXNpb25maXZlLTItbGl0ZS5kdHNpLg0KPiA+Pj4NCj4gPj4+IENo
YW5nZXMgc2luY2UgUkZDOg0KPiA+Pj4gLSBBZGQgamg3MTEwcyBjb21wYXRpYmxlIHRvIHRoZSBn
ZW5lcmljIGNwdWZyZXEgZHJpdmVyLg0KPiA+Pj4gLSBGaXggdGhlIGR0YnNfY2hlY2sgZXJyb3Ig
YnkgYWRkaW5nIHRoZSBtaXNzaW5nICJlbmFibGUtZ3Bpb3MiDQo+ID4+PiBwcm9wZXJ0eQ0KPiA+
Pj4gwqDCoCBpbiBqaDcxMTAgcGNpZSBkdC1iaW5kaW5ncy4NCj4gPj4+IC0gUmViYXNlIG9uIHRo
ZSBsYXRlc3QgbWFpbmxpbmUuDQo+ID4+PiAtIEFkZCBWaXNpb25GaXZlIDIgTGl0ZSBlTU1DIGJv
YXJkIGRldmljZSB0cmVlIGFuZCBhZGQgYSBjb21tb24NCj4gPj4+IGJvYXJkIGR0c2kNCj4gPj4+
IMKgwqAgZm9yIFZpc2lvbkZpdmUgMiBMaXRlIHZhcmlhbnRzLg0KPiA+Pj4gLSBBZGQgdXNiIHN3
aXRjaCBwaW4gY29uZmlndXJhdGlvbiAoR1BJTzYyKS4NCj4gPj4+IC0gSW1wcm92ZSB0aGUgY29t
bWl0IG1lc3NhZ2VzLg0KPiA+Pj4NCj4gPj4+IEhpc3Rvcnk6DQo+ID4+PiB2MTogaHR0cHM6Ly9s
b3JlLmtlcm5lbC5vcmcvYWxsLzIwMjUxMDE2MDgwMDU0LjEyNDg0LTEtDQo+ID4+PiBoYWwuZmVu
Z0BzdGFyZml2ZXRlY2guY29tLw0KPiA+Pj4gUkZDOiBodHRwczovL2xvcmUua2VybmVsLm9yZy9h
bGwvMjAyNTA4MjExMDA5MzAuNzE0MDQtMS0NCj4gPj4+IGhhbC5mZW5nQHN0YXJmaXZldGVjaC5j
b20vDQo+ID4+Pg0KPiA+Pj4gSGFsIEZlbmcgKDgpOg0KPiA+Pj4gwqDCoCBkdC1iaW5kaW5nczog
UENJOiBzdGFyZml2ZSxqaDcxMTAtcGNpZTogQWRkIGVuYWJsZS1ncGlvcyBwcm9wZXJ0eQ0KPiA+
Pj4gwqDCoCBkdC1iaW5kaW5nczogcmlzY3Y6IEFkZCBTdGFyRml2ZSBKSDcxMTBTIFNvQyBhbmQg
VmlzaW9uRml2ZSAyDQo+ID4+PiBMaXRlDQo+ID4+PiDCoMKgwqDCoCBib2FyZA0KPiA+Pj4gwqDC
oCByaXNjdjogZHRzOiBzdGFyZml2ZTogUmVuYW1lIGpoNzExMC5kdHNpIHRvIGpoNzExeC5kdHNp
DQo+ID4+PiDCoMKgIHJpc2N2OiBkdHM6IHN0YXJmaXZlOiBTcGxpdCBqaDcxMTAtY29tbW9uLmR0
c2kgYW5kIG1vdmUgb3BwIHRhYmxlDQo+ID4+PiB0bw0KPiA+Pj4gwqDCoMKgwqAgaXQNCj4gPj4+
IMKgwqAgcmlzY3Y6IGR0czogc3RhcmZpdmU6IGpoNzExeC1jb21tb246IE1vdmUgb3V0IHNvbWUg
bm9kZXMgdG8NCj4gPj4+IGpoNzExMA0KPiA+Pj4gwqDCoMKgwqAgY29tbW9uIGR0c2kNCj4gPj4+
IMKgwqAgcmlzY3Y6IGR0czogc3RhcmZpdmU6IEFkZCBjb21tb24gYm9hcmQgZHRzaSBmb3IgSkg3
MTEwcyBhbmQNCj4gPj4+IFZpc2lvbkZpdmUNCj4gPj4+IMKgwqDCoMKgIDIgTGl0ZSB2YXJpYW50
cw0KPiA+Pj4gwqDCoCByaXNjdjogZHRzOiBzdGFyZml2ZTogQWRkIFZpc2lvbkZpdmUgMiBMaXRl
IGJvYXJkIGRldmljZSB0cmVlDQo+ID4+PiDCoMKgIHJpc2N2OiBkdHM6IHN0YXJmaXZlOiBBZGQg
VmlzaW9uRml2ZSAyIExpdGUgZU1NQyBib2FyZCBkZXZpY2UNCj4gPj4+IHRyZWUNCj4gPj4+DQo+
ID4+PiDCoCAuLi4vYmluZGluZ3MvcGNpL3N0YXJmaXZlLGpoNzExMC1wY2llLnlhbWzCoMKgwqAg
fMKgwqAgNCArDQo+ID4+PiDCoCAuLi4vZGV2aWNldHJlZS9iaW5kaW5ncy9yaXNjdi9zdGFyZml2
ZS55YW1swqDCoCB8wqDCoCA2ICsNCj4gPj4+IMKgIGFyY2gvcmlzY3YvYm9vdC9kdHMvc3RhcmZp
dmUvTWFrZWZpbGXCoMKgwqDCoMKgwqDCoMKgIHzCoMKgIDMgKw0KPiA+Pj4gwqAgLi4uL2Jvb3Qv
ZHRzL3N0YXJmaXZlL2poNzExMC1jb21tb24uZHRzacKgwqDCoMKgwqAgfCA2NTMNCj4gPj4+ICst
LS0tLS0tLS0tLS0tLS0tDQo+ID4+PiDCoCAuLi4vYm9vdC9kdHMvc3RhcmZpdmUvamg3MTEwcy1j
b21tb24uZHRzacKgwqDCoMKgIHzCoCAyNyArDQo+ID4+PiDCoCAuLi5oNzExMHMtc3RhcmZpdmUt
dmlzaW9uZml2ZS0yLWxpdGUtZW1tYy5kdHMgfMKgIDIyICsNCj4gPj4+IMKgIC4uLi9qaDcxMTBz
LXN0YXJmaXZlLXZpc2lvbmZpdmUtMi1saXRlLmR0c8KgwqDCoCB8wqAgMjAgKw0KPiA+Pj4gwqAg
Li4uL2poNzExMHMtc3RhcmZpdmUtdmlzaW9uZml2ZS0yLWxpdGUuZHRzacKgwqAgfCAxMjYgKysr
Kw0KPiA+Pj4gwqAgLi4uL2Jvb3QvZHRzL3N0YXJmaXZlL2poNzExeC1jb21tb24uZHRzacKgwqDC
oMKgwqAgfCA2NTYNCj4gPj4+ICsrKysrKysrKysrKysrKysrKw0KPiA+Pj4gwqAgLi4uL2R0cy9z
dGFyZml2ZS97amg3MTEwLmR0c2kgPT4gamg3MTF4LmR0c2l9IHzCoCAxNiAtDQo+ID4+PiDCoCAx
MCBmaWxlcyBjaGFuZ2VkLCA4NzkgaW5zZXJ0aW9ucygrKSwgNjU0IGRlbGV0aW9ucygtKQ0KPiA+
Pj4gwqAgY3JlYXRlIG1vZGUgMTAwNjQ0DQo+ID4+PiBhcmNoL3Jpc2N2L2Jvb3QvZHRzL3N0YXJm
aXZlL2poNzExMHMtY29tbW9uLmR0c2kNCj4gPj4+IMKgIGNyZWF0ZSBtb2RlIDEwMDY0NCBhcmNo
L3Jpc2N2L2Jvb3QvZHRzL3N0YXJmaXZlL2poNzExMHMtc3RhcmZpdmUtDQo+ID4+PiB2aXNpb25m
aXZlLTItbGl0ZS1lbW1jLmR0cw0KPiA+Pj4gwqAgY3JlYXRlIG1vZGUgMTAwNjQ0IGFyY2gvcmlz
Y3YvYm9vdC9kdHMvc3RhcmZpdmUvamg3MTEwcy1zdGFyZml2ZS0NCj4gPj4+IHZpc2lvbmZpdmUt
Mi1saXRlLmR0cw0KPiA+Pj4gwqAgY3JlYXRlIG1vZGUgMTAwNjQ0IGFyY2gvcmlzY3YvYm9vdC9k
dHMvc3RhcmZpdmUvamg3MTEwcy1zdGFyZml2ZS0NCj4gPj4+IHZpc2lvbmZpdmUtMi1saXRlLmR0
c2kNCj4gPj4+IMKgIGNyZWF0ZSBtb2RlIDEwMDY0NCBhcmNoL3Jpc2N2L2Jvb3QvZHRzL3N0YXJm
aXZlL2poNzExeC1jb21tb24uZHRzaQ0KPiA+Pj4gwqAgcmVuYW1lIGFyY2gvcmlzY3YvYm9vdC9k
dHMvc3RhcmZpdmUve2poNzExMC5kdHNpID0+IGpoNzExeC5kdHNpfQ0KPiA+Pj4gKDk5JSkNCj4g
Pj4+DQo+ID4+Pg0KPiA+Pj4gYmFzZS1jb21taXQ6IGRmNWQ3OTcyMGIxNTJlN2ZmMDU4ZjExZWQ3
ZTg4ZDViNWM4ZDJhMGMNCj4gPj4NCj4gPj4gU21hbGwgbml0IHRoYXQgImxpdGUtZW1tYyIgaXMg
Y29uZnVzaW5nIHRvZ2V0aGVyLiBJbiBwYXRjaGVzIHRvDQo+ID4+IFUtQm9vdCBkZXYgbWFpbGlu
ZyBsaXN0IHRoZSBFRVBST00gcHJvZHVjdCBpZCBpcyBkZW1vbnN0cmF0ZWQgdG8gYmUgd2l0aA0K
PiAiU0wiDQo+ID4+IHN1ZmZpeCB3aGVuIGNvbXBhcmVkIHRvIFZpc2lvbkZpdmUgMiAoSkg3MTEw
KSBzbyBJIHN1Z2dlc3QgYXZvaWQNCj4gPj4gY29uZnVzaW9uIGluIHVwc3RyZWFtIGFuZCB1c2Ug
Zm9yIFZpc2lvbkZpdmUgMiBMaXRlIChKSDcxMTBTKSB0aGVzZQ0KPiA+PiBjb21wYXRpYmxlIG5h
bWVzOg0KPiA+Pg0KPiA+PiBzdGFyZml2ZSx2aXNpb25maXZlLTJzbC1saXRlDQo+ID4+IHN0YXJm
aXZlLHZpc2lvbmZpdmUtMnNsLWVtbWMNCj4gPj4NCj4gPj4gQWxzbyBmaWxlbmFtZXM6DQo+ID4+
DQo+ID4+IGpoNzExMHMtc3RhcmZpdmUtdmlzaW9uZml2ZS0yc2wtbGl0ZS5kdHMNCj4gPj4gamg3
MTEwcy1zdGFyZml2ZS12aXNpb25maXZlLTJzbC5kdHNpDQo+ID4+IGpoNzExMHMtc3RhcmZpdmUt
dmlzaW9uZml2ZS0yc2wtZW1tYy5kdHMNCj4gPj4NCj4gPj4gV2hhdCBkbyB5b3UgdGhpbms/DQo+
ID4+DQo+ID4NCj4gPiBUaGlzIGlzIGEgc2VyaWFsIG51bWJlciBmb3IgdGhlIExpdGUgYm9hcmQ6
DQo+ID4gVkY3MTEwU0wtMjMxMC1EMDAyRTAwMC14eHh4eHh4eA0KPiA+DQo+ID4gSGVyZSBFMDAw
IGVuY29kZXMgdGhhdCB3ZSBoYXZlIG5vIGVNTUMuDQo+ID4NCj4gPiBUaGUgUyBpcyBwYXJ0IG9m
IDcxMTBTIHdoaWNoIHdlIGFscmVhZHkgaGF2ZSBpbiAnamg3MTEwcycuIEFuZCB0aGUgTA0KPiA+
IGlzIGFscmVhZHkgZGVjb2RlZCBhcyAnbGl0ZScgaW4gdGhpcyBwYXRjaCBzZXJpZXMuIER1cGxp
Y2F0aW5nIHRoaXMNCj4gPiBpbmZvcm1hdGlvbiBhcyAnc2wnIGFzIHlvdSBzdWdnZXN0ZWQgcHJv
dmlkZXMgbm8gYmVuZWZpdC4NCj4gDQo+IFRoZSBjb252ZW50aW9uIGluIGR0cyBmaWxlIG5hbWVz
IGlzIENQVSBtb2RlbCBmaXJzdCBzbyB0aGF0IHdpbGwgYmUgcmVkdW5kYW50DQo+IG9yIG5vdCBy
ZWR1bmRhbnQgZGVwZW5kaW5nIG9uIHRoZSBuYW1lIG9mIHRoZSBwcm9kdWN0IGFueXdheTsgd2hl
dGhlciBpdA0KPiBpcyByZWR1bmRhbnQgb3Igbm90IGlzIG5vdCB0aGUgZHJpdmVyIG9mIHdoZXRo
ZXIgaXQgaXMgY29uZnVzaW5nIHRvIGhhdmUNCj4gY29udHJhZGljdG9yeSB0ZXJtaW5vbG9neSBp
biB0aGUgcHJvZHVjdCBuYW1lIGFuZCBjb21wYXRpYmxlIG5hbWVzIGFuZCBkdHMNCj4gZmlsZW5h
bWVzLg0KPiANCj4gPg0KPiA+IExldCdzIGp1c3Qgc3RpY2sgd2l0aCBIYWwncyBzdWdnZXN0aW9u
Lg0KPiA+DQo+ID4gQmVzdCByZWdhcmRzDQo+ID4NCj4gPiBIZWlucmljaA0KPiANCj4gVGhlICJs
aXRlIiBwcm9kdWN0IG5hbWUgaW4gc2ltaWxhciBwcm9kdWN0cyByZWZlcnMgdG8gbm9uLXBvcHVs
YXRlZCBlbW1jDQo+IHJlcGxhY2VkIGJ5IHNkIGNhcmQsIHNvIHRoZXJlIGlzIGJlbmVmaXQgdG8g
Y2hvb3NlIGEgbW9yZSBjb25jaXNlIG5hbWUgdGhhdCBpcw0KPiBub3QgY29uZnVzaW5nLg0KPiAN
Cj4gSSBkaWQgY29uc2lkZXIgc3VnZ2VzdGluZzoNCj4gDQo+IGpoNzExMHMtc3RhcmZpdmUtdmlz
aW9uZml2ZS0yLWxpdGUuZHRzDQo+IGpoNzExMHMtc3RhcmZpdmUtdmlzaW9uZml2ZS0yLmR0c2kN
Cj4gamg3MTEwcy1zdGFyZml2ZS12aXNpb25maXZlLTItZW1tYy5kdHMNCj4gDQo+IGJ1dCB0aGlz
IGlzIGEgbG9zcyBvZiBpbmZvcm1hdGlvbiBhbmQgZG9lcyBub3QgaGVscCByZWFkYWJpbGl0eS4g
QnkgZXh0ZW5zaW9uDQo+IHdlJ3JlIG5vdCBkdXBsaWNhdGluZyBpbmZvcm1hdGlvbiB0byBiZSBt
b3JlIGRlc2NyaXB0aXZlIHdpdGggdGhlIHByb2R1Y3QNCj4gbmFtZS4gU3VyZSBJJ2QgZ28gYWxv
bmcgd2l0aDoNCj4gDQo+IGpoNzExMHMtc3RhcmZpdmUtdmlzaW9uZml2ZS0yLWxpdGUtY2FyZC5k
dHMNCj4gamg3MTEwcy1zdGFyZml2ZS12aXNpb25maXZlLTItbGl0ZS5kdHNpDQo+IGpoNzExMHMt
c3RhcmZpdmUtdmlzaW9uZml2ZS0yLWxpdGUtZW1tYy5kdHMNCj4gDQo+IEJ1dCBteSBzdWdnZXN0
aW9uIHJlbWFpbnM6DQo+IA0KPiBqaDcxMTBzLXN0YXJmaXZlLXZpc2lvbmZpdmUtMnNsLWxpdGUu
ZHRzDQo+IGpoNzExMHMtc3RhcmZpdmUtdmlzaW9uZml2ZS0yc2wuZHRzaQ0KPiBqaDcxMTBzLXN0
YXJmaXZlLXZpc2lvbmZpdmUtMnNsLWVtbWMuZHRzDQo+IA0KPiBmb3IgdGhlIHJlYXNvbiB0aGF0
IGl0J3MgdmVyeSBjbGVhcmx5IG5vdCB0aGUgIm5vbi1lbW1jIiB2ZXJzaW9uIG9mIHRoZQ0KPiBW
aXNpb25GaXZlIDIuIFlvdSBjYW4ndCBtaXN0YWtlIGl0IGlmIGRvbmUgdGhlIHdheSBJIGFtIHN1
Z2dlc3RpbmcuDQoNClZpc2lvbkZpdmUgMiBMaXRlIGlzIG5vdCB0aGUgIm5vbi1lbW1jIiB2ZXJz
aW9uIG9mIHRoZSBWaXNpb25GaXZlIDIuICJMaXRlIiBoZXJlIG1lYW5zIHRoZQ0KbGlnaHQgdmVy
c2lvbiBhbmQgc21hbGxlciBzaXplLiBJIHRoaW5rIHdlIGNhbid0IGFwcGx5IHRoZSBuYW1lIGRl
ZmluaXRpb24gb2YgYW5vdGhlciBwcm9kdWN0DQp0byBoZXJlLiBWaXNpb25GaXZlIDIgTGl0ZSBp
cyB0aGUgb2ZmaWNpYWwgbmFtZSBvZiB0aGlzIHByb2R1Y3QgYW5kIHRoZSBuYW1lIHdlIGNhbGwg
aW4gb3VyDQpvZmZpY2lhbCBkb2N1bWVudHMuDQoNCkJlc3QgcmVnYXJkcywNCkhhbA0K

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from CHN02-BJS-obe.outbound.protection.partner.outlook.cn (mail-bjschn02on2099.outbound.protection.partner.outlook.cn [139.219.17.99])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 59C3D2741C6;
	Wed, 12 Nov 2025 10:53:34 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=fail smtp.client-ip=139.219.17.99
ARC-Seal:i=2; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762944819; cv=fail; b=QJnTGT4n6OyQa9r1aBSnmbcNn+cl9Q22w9Xba1PSQNIrSBgfyZcWqBx3doJBMfQP/J1++/ZtIq2JLyxsFi1B7B11VFu9dl3NPMjvvf4qr0kCRpvrmuyF3eIT8lwCLlyZ2poBIucg+xK70855EfHAkMfFbRHgJHxJc0H5nMK/6BU=
ARC-Message-Signature:i=2; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762944819; c=relaxed/simple;
	bh=I28qNwq8yFwnJSSHfcphiOswMwz+cYBZSwX0CYd8dF0=;
	h=From:To:CC:Subject:Date:Message-ID:References:In-Reply-To:
	 Content-Type:MIME-Version; b=VE+2js/c8SChC/5YgOZbLQ2QPI1XkxOQtYW2NyMC/AvNG/oOSRRRSdNOW21cr0wJWtsBJjkXi/mfCrUGf+4lSueTt/82Dtr7mluvI5dXbjvGB3UW0LJxjZRfjdQEh6g5BC0GeEO2C+ZbsaqHfUoF6HKRRZUfPMngYoaNo/9VLZs=
ARC-Authentication-Results:i=2; smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com; spf=pass smtp.mailfrom=starfivetech.com; arc=fail smtp.client-ip=139.219.17.99
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=starfivetech.com
Received: from ZQ2PR01MB1211.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:7::11) by ZQ0PR01MB1206.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:1b::14) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9320.16; Wed, 12 Nov
 2025 10:53:24 +0000
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=IG5hl5Hl/u2urY+R0yasb7m+Gi72U7FBEFKSJmlsQoboNoWsvIujYbYwHpa3DmbZlfzc0KFTxTSIda0jkEUFpvLJm4zam4Ak3fIzh8q1qx8tcAq7P/v92Rhcpy3GFZxISdthJ1Me+R1r0iB7Tk+DNFr+e2SiqRZhhXkeQexswPITE/9jfPAhokSObVwiwNgCSCKnk7MMAfz9pg1KQnmWCib/ylXkgFIqwDjHpRayJa0yykO8ef5kVcainekaapydzAzds2Zb3Sv4c38MKN/P5eSZNGm4iEVli3NG6jKgXoNoGITKi6Z14VhF1rMrJDQRT4SnpGCmAfD2F8BxRGDKRQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=bBbOeJTR6AVKavC8ST7uaExoY3E5mqF+VX4qawM8sfQ=;
 b=S2FBam9zt9aHsfBIcJwAoNMA6708/rSSCH/IzPQqkhmdxk7a/3aLW5Lay/O421tfo9zzNV5OBlZd0rq1Nbd56+Wo/eTeIm4luvFnzlEQsdGilhocQ5H5l1MNagkuhQ+sg/Z850yxKmp/LcBDqlmQ3kIQKCzlptvhMMsrlSnD/rsX4U8zNl/w9QBs8R6zzyAqUMi7+I6kRp2hSEjefr4GuQvrW9WVSk7Qz9SyyYGBjRj0WwPQ/VvD7sfaA25ihWDkiI1aJ1wcspgVxmVAchw7FzqoW5pE3yGHCdRB+Gu51SmZOlt64jWcJJZb3s/4f2FBq3rAILsA9KUAOCcXyqSmJQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=starfivetech.com; dmarc=pass action=none
 header.from=starfivetech.com; dkim=pass header.d=starfivetech.com; arc=none
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:7::14) by ZQ2PR01MB1211.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:7::11) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9320.16; Wed, 12 Nov
 2025 07:47:08 +0000
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7]) by ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7%6]) with mapi id 15.20.9320.013; Wed, 12 Nov 2025
 07:47:08 +0000
From: Hal Feng <hal.feng@starfivetech.com>
To: Conor Dooley <conor@kernel.org>, Heinrich Schuchardt
	<heinrich.schuchardt@canonical.com>
CC: E Shattow <e@freeshell.de>, "devicetree@vger.kernel.org"
	<devicetree@vger.kernel.org>, "linux-riscv@lists.infradead.org"
	<linux-riscv@lists.infradead.org>, "linux-kernel@vger.kernel.org"
	<linux-kernel@vger.kernel.org>, Conor Dooley <conor+dt@kernel.org>, Rob
 Herring <robh@kernel.org>, Krzysztof Kozlowski <krzk+dt@kernel.org>, Palmer
 Dabbelt <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>, Albert Ou
	<aou@eecs.berkeley.edu>, "Rafael J . Wysocki" <rafael@kernel.org>, Viresh
 Kumar <viresh.kumar@linaro.org>, Bjorn Helgaas <bhelgaas@google.com>, Lorenzo
 Pieralisi <lpieralisi@kernel.org>, =?iso-8859-2?Q?Krzysztof_Wilczy=F1ski?=
	<kwilczynski@kernel.org>, Manivannan Sadhasivam <mani@kernel.org>, Emil
 Renner Berthing <emil.renner.berthing@canonical.com>
Subject: RE: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
Thread-Topic: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
Thread-Index: AQHcT8yr76WB0y2LYU6wjdN+ecXGd7TnDtcAgAAC9gCAAGQugIAHNaLg
Date: Wed, 12 Nov 2025 07:47:08 +0000
Message-ID:
 <ZQ2PR01MB13079F7073193A2C64BD83F4E6CC2@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <c05d8bcc-3024-45cd-8630-b0595682e778@freeshell.de>
 <6d0fb6aa-6d88-4069-a5e5-9e910523888e@canonical.com>
 <20251107-frenzy-cloning-4b279cfe932c@spud>
In-Reply-To: <20251107-frenzy-cloning-4b279cfe932c@spud>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=starfivetech.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic:
	ZQ2PR01MB1307:EE_|ZQ2PR01MB1211:EE_|ZQ0PR01MB1206:EE_
x-ms-office365-filtering-correlation-id: 0127c9a6-60a7-4b8b-ed3c-08de21bfae56
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam:
 BCL:0;ARA:13230040|7416014|41320700013|1800799024|366016|38070700021;
x-microsoft-antispam-message-info:
 bEbC9FFDfl2rLcAv41Hezg9mxl09FJHmQMr/4moydaZnE4zCHm0h2vGvhT1kEKVt0JrR62QL2YZVceQ3Mfh4HnGyaxOt0BnGzsDcQplGOFGQ66tpRhvGmWCbXOKlfxc8krdPi0NUDp91/syvsrKc5+NVJI4D6RKEyxTE1Hlvqx7Ay9r9M+2bc1EgQxHycQZAg6DmmX+JSk5pGzeqqE4jxTBQnhpFwP65yKPjMOn86kBXq/lpMZowyAaa3Sc08ub/biwu9Yqp/tmapqyGWmYDDavWyeJ0IiUYKu7bZLJIrRyUG29mt7i7/pxNNYvxAfgrl2KiLIQicydbcpIRA1bPXIFYTkR2VsrTC9JDA+5g3jmIpBkiqPbzm4eJsSoHtqqfvKhtsWGgoYV98SeBjvV45yJyQnxmb204705vD7Zg+Qo3eqp6zlU4sJTXKlxuP+/hjQAFtMeN4toyMS08tE7f7m/7voyV5hIOVIR6hg1Ebr4k4QuJl5MbiBR1VUWIwTPij7msw9KwzoKC0cTWMkT9tXeY2lmL/YfpgHOUAggJ3SONXKQklbgfBHzAPN+fwvBxgdGGmc9NIBAF1gIt5Ns0WPyhGivkMIH8YWvPJxJQtT8=
x-forefront-antispam-report:
 CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn;PTR:;CAT:NONE;SFS:(13230040)(7416014)(41320700013)(1800799024)(366016)(38070700021);DIR:OUT;SFP:1102;
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0:
 =?iso-8859-2?Q?LhrZHLzdetYE2lYsTeWxSgNSX5SgNLTcQHEiubXoJKWuFOu/OJkGVZtodO?=
 =?iso-8859-2?Q?5vpw7F5ZP/jyM6VAfcTS55p/3SimXTrth6PrHTj38dw5qIrgoXw1xZnGb6?=
 =?iso-8859-2?Q?BWjEJXaOAn0Xnh1psj+WmYaXi+6p1zS/7cCGbBZTErdTE7KmDRh172x2uG?=
 =?iso-8859-2?Q?ke9AqntGfHFZcuRV5hv7KOdJcCfUfDaL04ZJDuHPXHV97QaIhUVzYPPv6W?=
 =?iso-8859-2?Q?4+P7rVi30tBqu+cjOpnL9lZb7OrGnbQSsuNRtXNmoyzNr/FbNavnGFcVnk?=
 =?iso-8859-2?Q?Bqb4lWXUA/FpmvqUjdWcHBhabLM0Q45NKLT/PYS6Z5kRAy2bjgmAN/Bi0z?=
 =?iso-8859-2?Q?2EVKqZAaJjDORUnzf/Iboy6WfwUtutVcsdTV6qTAPxwwQck65orvr2Wzem?=
 =?iso-8859-2?Q?lQ6KMbgTXDJoHhT+RuE4Ie/7DZuDS6N6dlgoFl0p8qjyYpIalAWFQdjC7Z?=
 =?iso-8859-2?Q?gfQVv1CI5QUHritv3FN9sfXlZhCImpzG7Pruig4IMSlP8y/SgJai8/ApIY?=
 =?iso-8859-2?Q?UEMkNnCgvUElaBlQhOzVPZE3UT8g7iSySky2M/nRIXTpqDLY6WSouBAD7I?=
 =?iso-8859-2?Q?0/lGl11c/ESby/6mZcHXNvdmR5ZBMWt1QpXTR6OfbOeOpmN3+wo+wc5pwX?=
 =?iso-8859-2?Q?2yu7f4TucCKNNaSNUQkn6gNVIq2G7k/07GHGNfZngVp2b0/bPymw1Ac9Hi?=
 =?iso-8859-2?Q?UxbqiNsun4AfhIpIKoSGA0v9GSN6+17keid0tOJ74RNOGGi+ejLhthZf0/?=
 =?iso-8859-2?Q?zJRs7S9u9wzyrAUcjpjP8abQxeom6yrpwUi/CZNvIe0fK/27LotShzogRI?=
 =?iso-8859-2?Q?msSMIJCXdteQpNg4kkqOZB74mgfLODMH+2G6HkLy0L3IHRwulwiYyQ6rjz?=
 =?iso-8859-2?Q?vhTpJ94DS934odVV1kXi1YwSTxW0xUVZcOMd404Pkxoof/uQnsPsDYTayV?=
 =?iso-8859-2?Q?7cZLOH9DB8CYJeNNmJD6OGiUo/3ppXt/6nGwDf1roCdM9GxcESBos6hHAG?=
 =?iso-8859-2?Q?puKo0FoGGG/svMJzMRhKGcMOm+ziJ7B1Wk4KoZ4c5QzAEZKigY8d2UCTDE?=
 =?iso-8859-2?Q?ZJMIs6KxTE4dvhlUw4kTXk3b4K75ekO4+xneWHcfU0ux2PaWcdLJtXn7Wv?=
 =?iso-8859-2?Q?pntZSqr/xRZYryUr7n0R4a/WJgKIoF7VmniyjrAWhcpADMYszlS3aKQI2C?=
 =?iso-8859-2?Q?ZNBbe7EB3IAjfDdg0BmzdvLxYfcUTKQTB9Nm1T6+uDU+DvhgwKWO01Cgg1?=
 =?iso-8859-2?Q?UG7IF7kA/MiT/fKdJu/E6f31UB8uYFyKcmu9tioJ/WKlLb2tNvAQhE1h7B?=
 =?iso-8859-2?Q?StWq0NM2zpzp2m5X1+GR3koH/JyoGCfZfK27vG6zo5XX7+m6HzUs8YPKQN?=
 =?iso-8859-2?Q?ZKSNbpDFzga5vqWDwn+O4L4ik2qfwsYiLEqnXj6u+O+zmRB3oWyWWALMAh?=
 =?iso-8859-2?Q?PUwwtyfRK8196HDtlEvIBbj7Y4tBpA1DdJK2uuLYuFJksn7dCFheBO+SB+?=
 =?iso-8859-2?Q?eR/fjhMOJBZlbzBq9ZqyZBBa21v1X1nlsTuFas2Bf2EJ4EBGYwuwHrw6AI?=
 =?iso-8859-2?Q?RVhfEbXPWHGTutrs1ZhuGscsX68zpEdx0dDYzJjjpCWO5Uj7jGbTQJT/pJ?=
 =?iso-8859-2?Q?dVbCe26Zezxovz1HrY0RKBbq59CfpVHGLB?=
Content-Type: text/plain; charset="iso-8859-2"
Content-Transfer-Encoding: quoted-printable
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
X-MS-Exchange-CrossTenant-Network-Message-Id: 0127c9a6-60a7-4b8b-ed3c-08de21bfae56
X-MS-Exchange-CrossTenant-originalarrivaltime: 12 Nov 2025 07:47:08.0267
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 06fe3fa3-1221-43d3-861b-5a4ee687a85c
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: K0gFinm2L9wHeqFJCPmbr/EE8xOr8vlbCXMR5PjnnlJ1hqROez1KsEkWcg6G3w33sQqHhfNkKghHmIXx3a+oChlGE5abAMo2JyV97fqAVHk=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: ZQ2PR01MB1211
X-OriginatorOrg: starfivetech.com

> On 08.11.25 01:20, Conor Dooley wrote:
> On Fri, Nov 07, 2025 at 12:21:46PM +0100, Heinrich Schuchardt wrote:
> > On 11/7/25 12:11, E Shattow wrote:
> > >
> > >
> > > On 11/7/25 01:55, Hal Feng wrote:
> > > > VisionFive 2 Lite is a mini SBC based on the StarFive JH7110S
> > > > industrial SoC which can run at -40~85 degrees centigrade and up to
> 1.25GHz.
> > > >
> > > > Board features:
> > > > - JH7110S SoC
> > > > - 4/8 GiB LPDDR4 DRAM
> > > > - AXP15060 PMIC
> > > > - 40 pin GPIO header
> > > > - 1x USB 3.0 host port
> > > > - 3x USB 2.0 host port
> > > > - 1x M.2 M-Key (size: 2242)
> > > > - 1x MicroSD slot (optional non-removable 64GiB eMMC)
> > > > - 1x QSPI Flash
> > > > - 1x I2C EEPROM
> > > > - 1x 1Gbps Ethernet port
> > > > - SDIO-based Wi-Fi & UART-based Bluetooth
> > > > - 1x HDMI port
> > > > - 1x 2-lane DSI
> > > > - 1x 2-lane CSI
> > > >
> > > > VisionFive 2 Lite schematics:
> > > > https://doc-en.rvspace.org/VisionFive2Lite/PDF/VF2_LITE_V1.10_TF_2
> > > > 0250818_SCH.pdf VisionFive 2 Lite Quick Start Guide:
> > > > https://doc-en.rvspace.org/VisionFive2Lite/VisionFive2LiteQSG/inde
> > > > x.html More documents:
> > > > https://doc-en.rvspace.org/Doc_Center/visionfive_2_lite.html
> > > >
> > > > Changes since v1:
> > > > - Drop patch 1 because it is applied.
> > > > - Rename jh7110.dtsi to jh711x.dtsi.
> > > > - Move the content of jh7110-common.dtsi to the new file
> > > >    jh711x-common.dtsi and move opp table to jh7110-common.dtsi.
> > > > patch 4:
> > > > - Move the uncommon nodes to jh7110-common.dtsi instead of board
> dts.
> > > > patch 5:
> > > > - Add jh7110s-common.dtsi and include it in jh7110s-starfive-vision=
five-
> 2-lite.dtsi.
> > > >
> > > > Changes since RFC:
> > > > - Add jh7110s compatible to the generic cpufreq driver.
> > > > - Fix the dtbs_check error by adding the missing "enable-gpios" pro=
perty
> > > >    in jh7110 pcie dt-bindings.
> > > > - Rebase on the latest mainline.
> > > > - Add VisionFive 2 Lite eMMC board device tree and add a common
> board dtsi
> > > >    for VisionFive 2 Lite variants.
> > > > - Add usb switch pin configuration (GPIO62).
> > > > - Improve the commit messages.
> > > >
> > > > History:
> > > > v1:
> > > > https://lore.kernel.org/all/20251016080054.12484-1-hal.feng@starfi
> > > > vetech.com/
> > > > RFC:
> > > > https://lore.kernel.org/all/20250821100930.71404-1-hal.feng@starfi
> > > > vetech.com/
> > > >
> > > > Hal Feng (8):
> > > >    dt-bindings: PCI: starfive,jh7110-pcie: Add enable-gpios propert=
y
> > > >    dt-bindings: riscv: Add StarFive JH7110S SoC and VisionFive 2 Li=
te
> > > >      board
> > > >    riscv: dts: starfive: Rename jh7110.dtsi to jh711x.dtsi
> > > >    riscv: dts: starfive: Split jh7110-common.dtsi and move opp tabl=
e to
> > > >      it
> > > >    riscv: dts: starfive: jh711x-common: Move out some nodes to jh71=
10
> > > >      common dtsi
> > > >    riscv: dts: starfive: Add common board dtsi for JH7110s and Visi=
onFive
> > > >      2 Lite variants
> > > >    riscv: dts: starfive: Add VisionFive 2 Lite board device tree
> > > >    riscv: dts: starfive: Add VisionFive 2 Lite eMMC board device
> > > > tree
> > > >
> > > >   .../bindings/pci/starfive,jh7110-pcie.yaml    |   4 +
> > > >   .../devicetree/bindings/riscv/starfive.yaml   |   6 +
> > > >   arch/riscv/boot/dts/starfive/Makefile         |   3 +
> > > >   .../boot/dts/starfive/jh7110-common.dtsi      | 653 +------------=
----
> > > >   .../boot/dts/starfive/jh7110s-common.dtsi     |  27 +
> > > >   ...h7110s-starfive-visionfive-2-lite-emmc.dts |  22 +
> > > >   .../jh7110s-starfive-visionfive-2-lite.dts    |  20 +
> > > >   .../jh7110s-starfive-visionfive-2-lite.dtsi   | 126 ++++
> > > >   .../boot/dts/starfive/jh711x-common.dtsi      | 656
> ++++++++++++++++++
> > > >   .../dts/starfive/{jh7110.dtsi =3D> jh711x.dtsi} |  16 -
> > > >   10 files changed, 879 insertions(+), 654 deletions(-)
> > > >   create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-
> common.dtsi
> > > >   create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-
> visionfive-2-lite-emmc.dts
> > > >   create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-
> visionfive-2-lite.dts
> > > >   create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-
> visionfive-2-lite.dtsi
> > > >   create mode 100644 arch/riscv/boot/dts/starfive/jh711x-common.dts=
i
> > > >   rename arch/riscv/boot/dts/starfive/{jh7110.dtsi =3D> jh711x.dtsi=
}
> > > > (99%)
> > > >
> > > >
> > > > base-commit: df5d79720b152e7ff058f11ed7e88d5b5c8d2a0c
> > >
> > > Small nit that "lite-emmc" is confusing together. In patches to
> > > U-Boot dev mailing list the EEPROM product id is demonstrated to be w=
ith
> "SL"
> > > suffix when compared to VisionFive 2 (JH7110) so I suggest avoid
> > > confusion in upstream and use for VisionFive 2 Lite (JH7110S) these
> > > compatible names:
> > >
> > > starfive,visionfive-2sl-lite
> > > starfive,visionfive-2sl-emmc
> > >
> > > Also filenames:
> > >
> > > jh7110s-starfive-visionfive-2sl-lite.dts
> > > jh7110s-starfive-visionfive-2sl.dtsi
> > > jh7110s-starfive-visionfive-2sl-emmc.dts
> > >
> > > What do you think?
> > >
> >
> > This is a serial number for the Lite board:
> > VF7110SL-2310-D002E000-xxxxxxxx
> >
> > Here E000 encodes that we have no eMMC.
> >
> > The S is part of 7110S which we already have in 'jh7110s'. And the L
> > is already decoded as 'lite' in this patch series. Duplicating this
> > information as 'sl' as you suggested provides no benefit.
> >
> > Let's just stick with Hal's suggestion.
>=20
> The marketing materials etc call it the visionfive 2 lite, for example on
> kickstarter: https://www.kickstarter.com/projects/starfive/visionfive-2-l=
ite-
> unlock-risc-v-sbc-at-199
> I'm happy enough with what Hal has here as a result.

Hi, Conor,

Thanks for your review. VisionFive 2 Lite is the official name of this prod=
uct,
so it is appropriate to use "starfive,visionfive-2-lite" as the compatible =
and
"jh7110s-starfive-visionfive-2-lite.dts" as the device tree filename.

Best regards,
Hal

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from freeshell.de (freeshell.de [116.202.128.144])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 15870219A8E;
	Wed, 12 Nov 2025 13:30:45 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=116.202.128.144
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762954251; cv=none; b=TNRBTEUrIBbxSJXAEBnjiGN97vvsPkBEuufH9J66dpaOAi8hgM1k9y2iNez0WT7MEE5oQS8O/uyDBsjAzzKEwvQJhfgvrXuOr0h1eADk6SHFy9fUAPd4Dv6A9nySxSGYSbJx6zAPKdDsSdc6a/jxqWKx32OaTkBM5uVV8E6AKt0=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762954251; c=relaxed/simple;
	bh=9xUGMGeZu1ZGWb6VP2CRZrbITTacc90zTi4obQ2aJX8=;
	h=Message-ID:Date:MIME-Version:Subject:To:Cc:References:From:
	 In-Reply-To:Content-Type; b=a1NGigmeYEYtjfJ6djPo8JlJN4Ps/qPjqDoj7ckTrWPTPHXvyFopMorZoCvnqhAQXEjRcQPMZZMXV6lZjPc3mOU7DCeSRkYoQHo8giBSefRG45NVDl0tsmARsv2+k8iiEFGLkl9fayeJzsNa5XjWFNu4SEQI6ebyFSiyFukC1ig=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=freeshell.de; spf=pass smtp.mailfrom=freeshell.de; dkim=pass (2048-bit key) header.d=freeshell.de header.i=@freeshell.de header.b=hOyxI7jl; arc=none smtp.client-ip=116.202.128.144
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=freeshell.de
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=freeshell.de
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=freeshell.de header.i=@freeshell.de header.b="hOyxI7jl"
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=freeshell.de;
	s=s2025; t=1762954191;
	bh=TMkswUaXO9rYxhVHG5sXgtqYFuB/fttuEyt/nJcPcjk=;
	h=Date:Subject:To:Cc:References:From:In-Reply-To:From;
	b=hOyxI7jl7lTghpDXWwS/Dboiuegh57+SVu1wveetuUpriZEazn0CFQXMaYhxjwt7u
	 nCtWyhOIeFnl5cOba4mz18pmSAJKSuMgo20+2v8+Ll6YTYIPpKNA+W9vbTOBY96iAa
	 ZULI3s8MZFpnUxbBL9Yh/tEiyStofrk54xqnOrR76b0+B3TJcDX3xrRozglgdyX0EB
	 6QMi1768iYJC0Mav835jp2tl1IkAVQbcmIRoVtRg5CvVAQYcu1MRsJAdzJBwp8/GkE
	 18wwuUyxhXK5JOFCQGYGqnVE/hSEVH8r4Zvzh0U1i5Envioc2+FlliqDICEt/lHWi3
	 w+NzPxCpVEY9g==
Received: from [192.168.2.54] (unknown [143.105.117.4])
	(Authenticated sender: e)
	by freeshell.de (Postfix) with ESMTPSA id 4C691B220091;
	Wed, 12 Nov 2025 14:29:48 +0100 (CET)
Message-ID: <49471cea-d4e9-46d3-98e5-82548f32437e@freeshell.de>
Date: Wed, 12 Nov 2025 05:29:45 -0800
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
User-Agent: Mozilla Thunderbird
Subject: Re: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
To: Hal Feng <hal.feng@starfivetech.com>,
 Heinrich Schuchardt <heinrich.schuchardt@canonical.com>
Cc: "devicetree@vger.kernel.org" <devicetree@vger.kernel.org>,
 "linux-riscv@lists.infradead.org" <linux-riscv@lists.infradead.org>,
 "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>,
 Conor Dooley <conor+dt@kernel.org>, Rob Herring <robh@kernel.org>,
 Krzysztof Kozlowski <krzk+dt@kernel.org>, Palmer Dabbelt
 <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>,
 Albert Ou <aou@eecs.berkeley.edu>, "Rafael J . Wysocki" <rafael@kernel.org>,
 Viresh Kumar <viresh.kumar@linaro.org>, Bjorn Helgaas <bhelgaas@google.com>,
 Lorenzo Pieralisi <lpieralisi@kernel.org>,
 =?UTF-8?Q?Krzysztof_Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
 Manivannan Sadhasivam <mani@kernel.org>,
 Emil Renner Berthing <emil.renner.berthing@canonical.com>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <c05d8bcc-3024-45cd-8630-b0595682e778@freeshell.de>
 <6d0fb6aa-6d88-4069-a5e5-9e910523888e@canonical.com>
 <4b38ec00-dfc4-481b-8b8d-fa171ce8d12b@freeshell.de>
 <ZQ2PR01MB13079DACC0C7231B34F93C42E6CC2@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
Content-Language: en-US
From: E Shattow <e@freeshell.de>
In-Reply-To: <ZQ2PR01MB13079DACC0C7231B34F93C42E6CC2@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 11/11/25 23:24, Hal Feng wrote:
>> On 07.11.25 20:02, E Shattow wrote:
>> On 11/7/25 03:21, Heinrich Schuchardt wrote:
>>> On 11/7/25 12:11, E Shattow wrote:
>>>>
>>>>
>>>> On 11/7/25 01:55, Hal Feng wrote:
>>>>> VisionFive 2 Lite is a mini SBC based on the StarFive JH7110S
>>>>> industrial SoC which can run at -40~85 degrees centigrade and up to
>> 1.25GHz.
>>>>>
>>>>> Board features:
>>>>> - JH7110S SoC
>>>>> - 4/8 GiB LPDDR4 DRAM
>>>>> - AXP15060 PMIC
>>>>> - 40 pin GPIO header
>>>>> - 1x USB 3.0 host port
>>>>> - 3x USB 2.0 host port
>>>>> - 1x M.2 M-Key (size: 2242)
>>>>> - 1x MicroSD slot (optional non-removable 64GiB eMMC)
>>>>> - 1x QSPI Flash
>>>>> - 1x I2C EEPROM
>>>>> - 1x 1Gbps Ethernet port
>>>>> - SDIO-based Wi-Fi & UART-based Bluetooth
>>>>> - 1x HDMI port
>>>>> - 1x 2-lane DSI
>>>>> - 1x 2-lane CSI
>>>>>
>>>>> VisionFive 2 Lite schematics: https://doc-en.rvspace.org/
>>>>> VisionFive2Lite/PDF/VF2_LITE_V1.10_TF_20250818_SCH.pdf
>>>>> VisionFive 2 Lite Quick Start Guide: https://doc-en.rvspace.org/
>>>>> VisionFive2Lite/VisionFive2LiteQSG/index.html
>>>>> More documents: https://doc-en.rvspace.org/Doc_Center/
>>>>> visionfive_2_lite.html
>>>>>
>>>>> Changes since v1:
>>>>> - Drop patch 1 because it is applied.
>>>>> - Rename jh7110.dtsi to jh711x.dtsi.
>>>>> - Move the content of jh7110-common.dtsi to the new file
>>>>>  jh711x-common.dtsi and move opp table to jh7110-common.dtsi.
>>>>> patch 4:
>>>>> - Move the uncommon nodes to jh7110-common.dtsi instead of board
>> dts.
>>>>> patch 5:
>>>>> - Add jh7110s-common.dtsi and include it in jh7110s-starfive-
>>>>> visionfive-2-lite.dtsi.
>>>>>
>>>>> Changes since RFC:
>>>>> - Add jh7110s compatible to the generic cpufreq driver.
>>>>> - Fix the dtbs_check error by adding the missing "enable-gpios"
>>>>> property
>>>>>  in jh7110 pcie dt-bindings.
>>>>> - Rebase on the latest mainline.
>>>>> - Add VisionFive 2 Lite eMMC board device tree and add a common
>>>>> board dtsi
>>>>>  for VisionFive 2 Lite variants.
>>>>> - Add usb switch pin configuration (GPIO62).
>>>>> - Improve the commit messages.
>>>>>
>>>>> History:
>>>>> v1: https://lore.kernel.org/all/20251016080054.12484-1-
>>>>> hal.feng@starfivetech.com/
>>>>> RFC: https://lore.kernel.org/all/20250821100930.71404-1-
>>>>> hal.feng@starfivetech.com/
>>>>>
>>>>> Hal Feng (8):
>>>>>  dt-bindings: PCI: starfive,jh7110-pcie: Add enable-gpios property
>>>>>  dt-bindings: riscv: Add StarFive JH7110S SoC and VisionFive 2
>>>>> Lite
>>>>>  board
>>>>>  riscv: dts: starfive: Rename jh7110.dtsi to jh711x.dtsi
>>>>>  riscv: dts: starfive: Split jh7110-common.dtsi and move opp table
>>>>> to
>>>>>  it
>>>>>  riscv: dts: starfive: jh711x-common: Move out some nodes to
>>>>> jh7110
>>>>>  common dtsi
>>>>>  riscv: dts: starfive: Add common board dtsi for JH7110s and
>>>>> VisionFive
>>>>>  2 Lite variants
>>>>>  riscv: dts: starfive: Add VisionFive 2 Lite board device tree
>>>>>  riscv: dts: starfive: Add VisionFive 2 Lite eMMC board device
>>>>> tree
>>>>>
>>>>>  .../bindings/pci/starfive,jh7110-pcie.yaml | 4 +
>>>>>  .../devicetree/bindings/riscv/starfive.yaml | 6 +
>>>>>  arch/riscv/boot/dts/starfive/Makefile | 3 +
>>>>>  .../boot/dts/starfive/jh7110-common.dtsi | 653
>>>>> +----------------
>>>>>  .../boot/dts/starfive/jh7110s-common.dtsi | 27 +
>>>>>  ...h7110s-starfive-visionfive-2-lite-emmc.dts | 22 +
>>>>>  .../jh7110s-starfive-visionfive-2-lite.dts | 20 +
>>>>>  .../jh7110s-starfive-visionfive-2-lite.dtsi | 126 ++++
>>>>>  .../boot/dts/starfive/jh711x-common.dtsi | 656
>>>>> ++++++++++++++++++
>>>>>  .../dts/starfive/{jh7110.dtsi => jh711x.dtsi} | 16 -
>>>>>  10 files changed, 879 insertions(+), 654 deletions(-)
>>>>>  create mode 100644
>>>>> arch/riscv/boot/dts/starfive/jh7110s-common.dtsi
>>>>>  create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-
>>>>> visionfive-2-lite-emmc.dts
>>>>>  create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-
>>>>> visionfive-2-lite.dts
>>>>>  create mode 100644 arch/riscv/boot/dts/starfive/jh7110s-starfive-
>>>>> visionfive-2-lite.dtsi
>>>>>  create mode 100644 arch/riscv/boot/dts/starfive/jh711x-common.dtsi
>>>>>  rename arch/riscv/boot/dts/starfive/{jh7110.dtsi => jh711x.dtsi}
>>>>> (99%)
>>>>>
>>>>>
>>>>> base-commit: df5d79720b152e7ff058f11ed7e88d5b5c8d2a0c
>>>>
>>>> Small nit that "lite-emmc" is confusing together. In patches to
>>>> U-Boot dev mailing list the EEPROM product id is demonstrated to be with
>> "SL"
>>>> suffix when compared to VisionFive 2 (JH7110) so I suggest avoid
>>>> confusion in upstream and use for VisionFive 2 Lite (JH7110S) these
>>>> compatible names:
>>>>
>>>> starfive,visionfive-2sl-lite
>>>> starfive,visionfive-2sl-emmc
>>>>
>>>> Also filenames:
>>>>
>>>> jh7110s-starfive-visionfive-2sl-lite.dts
>>>> jh7110s-starfive-visionfive-2sl.dtsi
>>>> jh7110s-starfive-visionfive-2sl-emmc.dts
>>>>
>>>> What do you think?
>>>>
>>>
>>> This is a serial number for the Lite board:
>>> VF7110SL-2310-D002E000-xxxxxxxx
>>>
>>> Here E000 encodes that we have no eMMC.
>>>
>>> The S is part of 7110S which we already have in 'jh7110s'. And the L
>>> is already decoded as 'lite' in this patch series. Duplicating this
>>> information as 'sl' as you suggested provides no benefit.
>>
>> The convention in dts file names is CPU model first so that will be redundant
>> or not redundant depending on the name of the product anyway; whether it
>> is redundant or not is not the driver of whether it is confusing to have
>> contradictory terminology in the product name and compatible names and dts
>> filenames.
>>
>>>
>>> Let's just stick with Hal's suggestion.
>>>
>>> Best regards
>>>
>>> Heinrich
>>
>> The "lite" product name in similar products refers to non-populated emmc
>> replaced by sd card, so there is benefit to choose a more concise name that is
>> not confusing.
>>
>> I did consider suggesting:
>>
>> jh7110s-starfive-visionfive-2-lite.dts
>> jh7110s-starfive-visionfive-2.dtsi
>> jh7110s-starfive-visionfive-2-emmc.dts
>>
>> but this is a loss of information and does not help readability. By extension
>> we're not duplicating information to be more descriptive with the product
>> name. Sure I'd go along with:
>>
>> jh7110s-starfive-visionfive-2-lite-card.dts
>> jh7110s-starfive-visionfive-2-lite.dtsi
>> jh7110s-starfive-visionfive-2-lite-emmc.dts
>>
>> But my suggestion remains:
>>
>> jh7110s-starfive-visionfive-2sl-lite.dts
>> jh7110s-starfive-visionfive-2sl.dtsi
>> jh7110s-starfive-visionfive-2sl-emmc.dts
>>
>> for the reason that it's very clearly not the "non-emmc" version of the
>> VisionFive 2. You can't mistake it if done the way I am suggesting.
> 
> VisionFive 2 Lite is not the "non-emmc" version of the VisionFive 2. "Lite" here means the
> light version and smaller size. I think we can't apply the name definition of another product
> to here. VisionFive 2 Lite is the official name of this product and the name we call in our
> official documents.
> 
> Best regards,
> Hal

Okay then LGTM, for the series,

Reviewed-by: E Shattow <e@freeshell.de>

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from smtp-relay-internal-0.canonical.com (smtp-relay-internal-0.canonical.com [185.125.188.122])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 333FF226D18
	for <linux-kernel@vger.kernel.org>; Wed, 12 Nov 2025 13:54:15 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=185.125.188.122
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762955657; cv=none; b=AvuYT5mXEyGogN34Rb/wPK6iaifdukpqVJmhQyaN+AGm34GDVB5dHj9bAqtQAXmw3h5/hsJ35ZDkcuDuQynWX6qjWhi/S41GH0phXVFYaUaBbkG3Q/qlJorjK2H2HsT/H1Z38nZaococlTI1BxrbiKNMfwKKM1m/QAR0BvmAvjg=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762955657; c=relaxed/simple;
	bh=I4I3WIzpcjfsDiSTgOlk8Atq3GBfqXf8GVaWSsFqgPk=;
	h=MIME-Version:In-Reply-To:References:From:Date:Message-ID:Subject:
	 To:Cc:Content-Type; b=M0+2BDXOiWJ23P0LvrA1STbaXyCH/wVOuynyO1yFTNUpQJmNm25ImWW7pnkMRM/D6CNbesWTmPK2us7wyhN3NQsH1h6pCPnRbsHdGOQ3Uk415E8TszA9Dbjeck8lLjFepuNoXVpEyUNP3yNw5GVrWW3l4Ih5iIQYXFklcDL/Fjk=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=canonical.com; spf=pass smtp.mailfrom=canonical.com; dkim=pass (4096-bit key) header.d=canonical.com header.i=@canonical.com header.b=hsdpXgJM; arc=none smtp.client-ip=185.125.188.122
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=canonical.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=canonical.com
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (4096-bit key) header.d=canonical.com header.i=@canonical.com header.b="hsdpXgJM"
Received: from mail-ej1-f69.google.com (mail-ej1-f69.google.com [209.85.218.69])
	(using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
	 key-exchange X25519 server-signature RSA-PSS (2048 bits) server-digest SHA256)
	(No client certificate requested)
	by smtp-relay-internal-0.canonical.com (Postfix) with ESMTPS id F30283FE52
	for <linux-kernel@vger.kernel.org>; Wed, 12 Nov 2025 13:54:12 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=canonical.com;
	s=20251003; t=1762955653;
	bh=zw6ziSjkzQiRWUig0BOelMJ1uVjsDF/5GnnR77Yu8HA=;
	h=MIME-Version:In-Reply-To:References:From:Date:Message-ID:Subject:
	 To:Cc:Content-Type;
	b=hsdpXgJMAydUIOB7t7ofMm1qDz0A5vu797vtyyMnP2jp4IsYK4e341ND/8beHfh38
	 hUi7/UpnjGORgczQdqNjPWInsVsQz0YlqcPxcDxkV+rklq4A54dsKca2wIQijmsGuB
	 QST2DEYeq0AiR0vTh/ODHvoA2jxzDIzCohys3fmmpiJfw96yoecfghKxNp/8g38IYv
	 KFegDqO7rXryAXIPpzHIq2akrWGcNHSo68DNQdHASUq35uQ4leuQekv6Oa+Pr+sto2
	 Q3xpB2sjnGzHM6AFEoPDACFxld1ritDzMYIgrlDawC5v6mtGErKffmBbQVfPKkRXmA
	 JBjCgPCmii7EtCkxqa0gH8UCPuRmbliAQIpC+FOcvdpCqS/QIvoLBdJQVbHXRuhvTE
	 cn/48DlIVtVQ9Xu/OxWAoJEqoQTzU7KQo/7OQLgtu3F26DJgoQ/J9QWrsgAR03hciX
	 hQsT1jsVvwuE4PmwcPh2Mp2DOIqj/OGjEWwPILcj5PEanzqtBl21DFxChzQgd9eOWB
	 land2u42aClQ/SnDYcaUFTvhC6rCyZS4Wo+v4Z2qrka5PpkeExWXzsHg+hx0+m5kgr
	 i+rZaI86Z49rt9z759t2RPLez1Rzi/VmQlX3ZK6OG7PpmBEL5VOUKqXIEsa34hVB9k
	 ytBM1dBENuv8wFMyM+Pwncq8=
Received: by mail-ej1-f69.google.com with SMTP id a640c23a62f3a-b7336ad128cso64073966b.1
        for <linux-kernel@vger.kernel.org>; Wed, 12 Nov 2025 05:54:12 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20230601; t=1762955652; x=1763560452;
        h=cc:to:subject:message-id:date:user-agent:from:references
         :in-reply-to:mime-version:x-gm-gg:x-gm-message-state:from:to:cc
         :subject:date:message-id:reply-to;
        bh=zw6ziSjkzQiRWUig0BOelMJ1uVjsDF/5GnnR77Yu8HA=;
        b=ZgN7SmVVk+AttWUXda5Eevc3Ur/Ti7hhAnaHWOAPSHoU9P4v4xgCZzEDNiTzsUACiw
         nQxc6iUJEF2YhqgKckmuyZJdSeoKQ6TnzkX4OyGiRuTywqh/DxwXp7M6YQUStiRQo2vU
         bbwD4xsH1vqP20yzD+jnBhVpN7OzSQeZDuzGF1692jEQS+riw3E++Y2wDP9b4RmcUz8M
         3+NUF/a8YfqNi5Uq6bWdVJQHajxwBHurxLrwi1gc6jknma9ttITiN/672Q1yF7zqDkrg
         7lwSVHgHf/oSSQxBXimnDxZPBVVOrxXXSuMGlT792t4+hgIeExelMCGQ9wIDvPVI4OCg
         Manw==
X-Forwarded-Encrypted: i=1; AJvYcCV030U2HAQ/WIBDh3pvujISuttjcLbnCEY7eJnRer46b7KzTcoR1ThSukj0dkQ8+0/jZfkhOgfaW5vSKaw=@vger.kernel.org
X-Gm-Message-State: AOJu0Ywh14xmY0m1k1i5Xmk8tXq6XT0BEDfj/hnhzzqfjj+lxD9LSn3E
	jCJWsWKYIzItgEn1lugYJpNwZ4ZuhC6Eo0HXj4AnNEF4YpKuQ8wK3OgTQdSODhEqvgVTF4xLasG
	F6YV+6aUwz7i6OJERu8zg1KJOKJU++2e57iiFLcSsJ3bueW1GkjJtxyZ/Kv0q8j1sgPspd8GnEG
	n19SItfXy0TV4aMieGaFqt8/7zSvw066C7OvUCyEOMpQSoSV3psVgnB/ND
X-Gm-Gg: ASbGnctoJR5a0TpLl5wpjbZypAT/XNGkGub7J81gJwYUrJLRePqFvA+4xGgmvAwd8Mr
	YMfGTbZdpTc9WOw3YHsF9zW/5XIPo84fNjCg+Xn8dfgp4DMyqIb1AFtEVh5/rwbLipe9pfqwV5C
	+fI68mdM6777XNhuUSuxTHvhjyunwR5wRWelcSoMFtZeaZHAAzZWTQEwQb26L4PZJuq+3a0j/cW
	jk3NiE81Knd
X-Received: by 2002:a17:907:3f0b:b0:b72:599:5385 with SMTP id a640c23a62f3a-b7331aed080mr274451966b.61.1762955651979;
        Wed, 12 Nov 2025 05:54:11 -0800 (PST)
X-Google-Smtp-Source: AGHT+IHASu3IyWs8sdfwZaJ3pNAVG0SXfiJ1YnPjXsl7ym/EOc9nMzNozT0R3ShCHNy28iULSDnVopmBypGnnGPw+tE=
X-Received: by 2002:a17:907:3f0b:b0:b72:599:5385 with SMTP id
 a640c23a62f3a-b7331aed080mr274448466b.61.1762955651487; Wed, 12 Nov 2025
 05:54:11 -0800 (PST)
Received: from 753933720722 named unknown by gmailapi.google.com with
 HTTPREST; Wed, 12 Nov 2025 05:54:10 -0800
Received: from 753933720722 named unknown by gmailapi.google.com with
 HTTPREST; Wed, 12 Nov 2025 05:54:09 -0800
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
In-Reply-To: <20251107095530.114775-1-hal.feng@starfivetech.com>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
From: Emil Renner Berthing <emil.renner.berthing@canonical.com>
User-Agent: alot/0.0.0
Date: Wed, 12 Nov 2025 05:54:09 -0800
X-Gm-Features: AWmQ_bkCo556C5q4g3w_mabHlgyG7zuhHtzy3L72tGDQo2o37ahEt_qsjrthSBY
Message-ID: <CAJM55Z_rczBo4D3HsC90QW1=fp3NWgK-tsEo6LHTZNXEBHTDqA@mail.gmail.com>
Subject: Re: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
To: Albert Ou <aou@eecs.berkeley.edu>, Bjorn Helgaas <bhelgaas@google.com>, 
	Conor Dooley <conor+dt@kernel.org>, E Shattow <e@freeshell.de>, 
	Hal Feng <hal.feng@starfivetech.com>, 
	Heinrich Schuchardt <heinrich.schuchardt@canonical.com>, 
	Krzysztof Kozlowski <krzk+dt@kernel.org>, =?UTF-8?Q?Krzysztof_Wilczy=C5=84ski?= <kwilczynski@kernel.org>, 
	Lorenzo Pieralisi <lpieralisi@kernel.org>, Manivannan Sadhasivam <mani@kernel.org>, 
	Palmer Dabbelt <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>, 
	"Rafael J . Wysocki" <rafael@kernel.org>, Rob Herring <robh@kernel.org>, 
	Viresh Kumar <viresh.kumar@linaro.org>
Cc: devicetree@vger.kernel.org, linux-riscv@lists.infradead.org, 
	linux-kernel@vger.kernel.org
Content-Type: text/plain; charset="UTF-8"

Quoting Hal Feng (2025-11-07 10:55:22)
> VisionFive 2 Lite is a mini SBC based on the StarFive JH7110S industrial
> SoC which can run at -40~85 degrees centigrade and up to 1.25GHz.
>
> Board features:
> - JH7110S SoC
> - 4/8 GiB LPDDR4 DRAM
> - AXP15060 PMIC
> - 40 pin GPIO header
> - 1x USB 3.0 host port
> - 3x USB 2.0 host port
> - 1x M.2 M-Key (size: 2242)
> - 1x MicroSD slot (optional non-removable 64GiB eMMC)
> - 1x QSPI Flash
> - 1x I2C EEPROM
> - 1x 1Gbps Ethernet port
> - SDIO-based Wi-Fi & UART-based Bluetooth
> - 1x HDMI port
> - 1x 2-lane DSI
> - 1x 2-lane CSI
>
> VisionFive 2 Lite schematics: https://doc-en.rvspace.org/VisionFive2Lite/PDF/VF2_LITE_V1.10_TF_20250818_SCH.pdf
> VisionFive 2 Lite Quick Start Guide: https://doc-en.rvspace.org/VisionFive2Lite/VisionFive2LiteQSG/index.html
> More documents: https://doc-en.rvspace.org/Doc_Center/visionfive_2_lite.html


Hi Hal,

Currently the JH7110 device trees are layed out like this, with a nice
separation between the SoC description and board descriptions:

jh7110.dtsi               # JH7110 SoC description
|- jh7110-common.dtsi     # Peripherals common to all JH7110 boards
   |- jh7110-starfive-visionfive-2.dtsi # Peripherals common to VF2 boards
   |  |- <VF2 boards>     # Final VF2 board descriptions
   |- jh7110-milkv-marscm.dtsi # Peripherals common to Mars CM boards
   |  |- <Mars CM boards> # Final Mars CM board descriptions
   |- <other boards>      # Other JH7110 board descriptions

With this series it moves to

jh711x.dtsi
|- jh711x-common.dtsi
   |- jh7110-common.dtsi
   |  |- <jh7110 boards>
   |- jh7110s-common.dtsi
      |- <jh7110s boards>

..which I can't even give clear labels like above. In other words when new
patches are sent in it would not be easy to explain exactly where each change
should go and why.
I'm also worried that you'll find that more of the peripherals on the JH7110S
need special handling and a new jh7110s-... compatible string. Then I guess
they'll need to jump from jh7110x.dtsi two levels down to jh7110{,s}-common.dtsi
which then both describe SoC and board properties.

If you're serious about calling this a new SoC then I'd expect something more
like this:

jh711x.dtsi                  # Peripherals common to both SoCs
|- jh7110.dtsi               # JH7110 SoC description
|  |- jh7110-common.dtsi     # Peripherals common to all JH7110 boards
|     |- jh7110-starfive-visionfive-2.dtsi # Peripherals common to VF2 boards
|     |  |- <VF2 boards>     # Final VF2 board descriptions
|     |- jh7110-milkv-marscm.dtsi # Peripherals common to Mars CM boards
|     |  |- <Mars CM boards> # Final Mars CM board descriptions
|     |- <other boards>      # Other JH7110 board descriptions
|- jh7110s.dtsi              # JH7110S SoC description
   |- jh7110s-common.dtsi    # Peripherals common to all JH7110S boards
      |- <JH7110S boards>    # Final JH7110S board descriptions

I know this will mean some duplication in jh7110{,s}-common.dtsi, but I would
prefer that to not having a clear explanation of what each file describes.

Do you think this layout could work for you?

/Emil

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from smtp.kernel.org (aws-us-west-2-korg-mail-1.web.codeaurora.org [10.30.226.201])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id CB17523F42D;
	Wed, 12 Nov 2025 14:37:00 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=10.30.226.201
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1762958220; cv=none; b=kXZRmlRlh+VoGOtEtPgHJ9InGYVr/GyhMHCMDuq624Hnv7oydXHtBaKxb+GkiqyDGejanwZ7Qn3VS2Q9cVFbqgAr4rGZumdvR5fuGHNbWG5N/BixT9HT7RzRdhBiPLMw8JHtSa7yKSW6+eb+WUTV0VwA9hBsWK6Be1aWQAhQVyo=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1762958220; c=relaxed/simple;
	bh=kW69Kf9o5S8zAmla0BViTMcfmqbpqmg9hgv823cP6d4=;
	h=Date:From:To:Cc:Subject:Message-ID:References:MIME-Version:
	 Content-Type:Content-Disposition:In-Reply-To; b=QA4aaWDRNhjk6RiHbXd7gzBawsbgkOYvcHNhf9yk7XjYatzmkFBRmAjz1wIZm8CxG+PkRgZUsKRzdE2lb6TlcHIbZe3py47NXT0HNuhi3Oejvue608bWnKZZZbz/hWmNpmfGneMBrBr1g0W+m/P79u//ueAwGX8ux09IWhM2TOo=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b=h5Pc9sz3; arc=none smtp.client-ip=10.30.226.201
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b="h5Pc9sz3"
Received: by smtp.kernel.org (Postfix) with ESMTPSA id 7E0CBC4CEF7;
	Wed, 12 Nov 2025 14:36:56 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
	s=k20201202; t=1762958220;
	bh=kW69Kf9o5S8zAmla0BViTMcfmqbpqmg9hgv823cP6d4=;
	h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
	b=h5Pc9sz3+/yovtxkLBKtBDwrYtuE5AOaF2kG5baEnDmGz+l1LUY3Folwf7QfBUXlL
	 2KTV8NPWmhhuGqOkSWcCKgV9Tlgfue44+27qLy+XgKwFGvk1FXBbeMpVWQ7vhbEmlX
	 UX8XgQfo3HqBViE6wQ4eBOsE2pH96zzUDG6eKGXvcm8KlZ67Ja//yPYLFR5nT/xE6m
	 Qx162FvNapub7pi0XPPg5URXNtkDBCDMxUZFyi/8r7Y0pwZOUqLjVXZgDhSuCsJnLI
	 C8sTZimywC032zzr+3DI7V1c46eiGPr55Wk3wqY8SvR24bMZkmZFC1WwvTon89HcIi
	 nKrHUvtzBEbFw==
Date: Wed, 12 Nov 2025 14:36:54 +0000
From: Conor Dooley <conor@kernel.org>
To: Emil Renner Berthing <emil.renner.berthing@canonical.com>
Cc: Albert Ou <aou@eecs.berkeley.edu>, Bjorn Helgaas <bhelgaas@google.com>,
	Conor Dooley <conor+dt@kernel.org>, E Shattow <e@freeshell.de>,
	Hal Feng <hal.feng@starfivetech.com>,
	Heinrich Schuchardt <heinrich.schuchardt@canonical.com>,
	Krzysztof Kozlowski <krzk+dt@kernel.org>,
	Krzysztof =?utf-8?Q?Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
	Lorenzo Pieralisi <lpieralisi@kernel.org>,
	Manivannan Sadhasivam <mani@kernel.org>,
	Palmer Dabbelt <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>,
	"Rafael J . Wysocki" <rafael@kernel.org>,
	Rob Herring <robh@kernel.org>,
	Viresh Kumar <viresh.kumar@linaro.org>, devicetree@vger.kernel.org,
	linux-riscv@lists.infradead.org, linux-kernel@vger.kernel.org
Subject: Re: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
Message-ID: <20251112-abroad-taps-a207a5850301@spud>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <CAJM55Z_rczBo4D3HsC90QW1=fp3NWgK-tsEo6LHTZNXEBHTDqA@mail.gmail.com>
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha512;
	protocol="application/pgp-signature"; boundary="yw7K4rG5QeI0qQ6x"
Content-Disposition: inline
In-Reply-To: <CAJM55Z_rczBo4D3HsC90QW1=fp3NWgK-tsEo6LHTZNXEBHTDqA@mail.gmail.com>


--yw7K4rG5QeI0qQ6x
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On Wed, Nov 12, 2025 at 05:54:09AM -0800, Emil Renner Berthing wrote:
> Quoting Hal Feng (2025-11-07 10:55:22)
> > VisionFive 2 Lite is a mini SBC based on the StarFive JH7110S industrial
> > SoC which can run at -40~85 degrees centigrade and up to 1.25GHz.
> >
> > Board features:
> > - JH7110S SoC
> > - 4/8 GiB LPDDR4 DRAM
> > - AXP15060 PMIC
> > - 40 pin GPIO header
> > - 1x USB 3.0 host port
> > - 3x USB 2.0 host port
> > - 1x M.2 M-Key (size: 2242)
> > - 1x MicroSD slot (optional non-removable 64GiB eMMC)
> > - 1x QSPI Flash
> > - 1x I2C EEPROM
> > - 1x 1Gbps Ethernet port
> > - SDIO-based Wi-Fi & UART-based Bluetooth
> > - 1x HDMI port
> > - 1x 2-lane DSI
> > - 1x 2-lane CSI
> >
> > VisionFive 2 Lite schematics: https://doc-en.rvspace.org/VisionFive2Lit=
e/PDF/VF2_LITE_V1.10_TF_20250818_SCH.pdf
> > VisionFive 2 Lite Quick Start Guide: https://doc-en.rvspace.org/VisionF=
ive2Lite/VisionFive2LiteQSG/index.html
> > More documents: https://doc-en.rvspace.org/Doc_Center/visionfive_2_lite=
=2Ehtml
>=20
>=20
> Hi Hal,
>=20
> Currently the JH7110 device trees are layed out like this, with a nice
> separation between the SoC description and board descriptions:
>=20
> jh7110.dtsi               # JH7110 SoC description
> |- jh7110-common.dtsi     # Peripherals common to all JH7110 boards
>    |- jh7110-starfive-visionfive-2.dtsi # Peripherals common to VF2 boards
>    |  |- <VF2 boards>     # Final VF2 board descriptions
>    |- jh7110-milkv-marscm.dtsi # Peripherals common to Mars CM boards
>    |  |- <Mars CM boards> # Final Mars CM board descriptions
>    |- <other boards>      # Other JH7110 board descriptions
>=20
> With this series it moves to
>=20
> jh711x.dtsi

Now that you notice it, why does this have an x to begin with, when both
users have jh7110 in them? Wouldn't to just be jh7110.dtsi for both?

> |- jh711x-common.dtsi
>    |- jh7110-common.dtsi
>    |  |- <jh7110 boards>
>    |- jh7110s-common.dtsi
>       |- <jh7110s boards>

--yw7K4rG5QeI0qQ6x
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----

iHUEABYKAB0WIQRh246EGq/8RLhDjO14tDGHoIJi0gUCaRSbhQAKCRB4tDGHoIJi
0uCyAQD6iyco1k52HApf+TuleXVFcj9M+okHsL5PCeHgiR1lrgD+Kf0oe/4gPuR8
huqT5G5w/WaU0u5fU/kL21v/JrdjuwA=
=DBaw
-----END PGP SIGNATURE-----

--yw7K4rG5QeI0qQ6x--

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from CHN02-SH0-obe.outbound.protection.partner.outlook.cn (mail-sh0chn02on2139.outbound.protection.partner.outlook.cn [139.219.146.139])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id E26C07E0E4;
	Thu, 13 Nov 2025 03:57:23 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=fail smtp.client-ip=139.219.146.139
ARC-Seal:i=2; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1763006248; cv=fail; b=bGa/z5HjzP/FzPvaKcWv+DSN+/BM3Qslr3SMysO2l3Dr69iHapz69DL/J1I/6fJ8cakUQ+hHpcyFaN7/R20a81BGdRMqmHa3aBDd0rttNmt0WrzVlApyPwMa0B9r5U3owq0AnGm2WFdwWU7VIj7tf0sKOD6d0XC1HY8fg+Zm7Nw=
ARC-Message-Signature:i=2; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1763006248; c=relaxed/simple;
	bh=X/YxKp1w1FPuthTEdALqQaEdcEt5uPO+mvS9gGWpD+Q=;
	h=From:To:CC:Subject:Date:Message-ID:References:In-Reply-To:
	 Content-Type:MIME-Version; b=S8luNMKU4j8QyVzHS5e24khdS7gwRc+bSv24dvRpqQAvTI6LrpdNqzdNUrb3pUBUIxJaGuj/h9BBIEtKi6ysr4sZ+W0DR+C9NRzKdKFed5PN8GscdcL2jNaKbadztQOtKzJxbEI2Z2ms/s9wRam8z5VF6yMnBQWKXf5NW70gNsU=
ARC-Authentication-Results:i=2; smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com; spf=pass smtp.mailfrom=starfivetech.com; arc=fail smtp.client-ip=139.219.146.139
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=starfivetech.com
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=GqkLvMZZSWFTrEZ70WjJWa3rL35g/QO1hnTY8nMN3u7OJIsTYEcBew4s97C+rN9hioojD5XCDvu5BhbHNSO8cEx9VC7a+/AVLhKrcjBx4WnupyaGrAehNBBXuw0d6N1O/x73XSOvFjsvgtNeTDhRfkK9q7lg8VlktJSJDEpp1CEZTqOPtxq5Cgufw9Azt/HzrUIoLgx1rvq7vg4xhx8xZzVT08nxCzRw/XI+SC/fXQ1oH1MR2E5CHRzlOBUKcTn+SXDSPLwByrp+qalZWKlhkEbkSLZHtxJTulMajTMfaqc6NZhD2LMBPyNx7DB71k8xaG02Z6O4yD6SYbMNQtjPKQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=X/YxKp1w1FPuthTEdALqQaEdcEt5uPO+mvS9gGWpD+Q=;
 b=bzoh4WGlf3mq6PvDXUf8Mj1PMM996cBS1AVtvbMjn9536+2diYu22QsfRHD4Wizfqe8sM9wtiVPHpBnStMwWfohhKQHY3XNCXMWaJZQw8FL1mUNqZQ0/h3Ayc8jCRMz822D18xt9Q7Yd+BV3uceLaFhW1A8TncAzuF9J/xQs4Jrl061krBkgyRplZj2jyp1zA4xw0Pyqq1LwqQthRgqLr07XljUU8IubZIHg6du/OGaZ/4WaSFIdgjRPjMlP6DTHGtbAZjH6OjMHoOUecoQdYBpWpdN+MF7Ig8ccQy4ldeSMl5QpDYYmVQuYdnol4OyQggR2y56jWtMk5ftnOnjMmA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=starfivetech.com; dmarc=pass action=none
 header.from=starfivetech.com; dkim=pass header.d=starfivetech.com; arc=none
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:7::14) by ZQ2PR01MB1227.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:7::13) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9320.17; Thu, 13 Nov
 2025 03:42:05 +0000
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7]) by ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7%6]) with mapi id 15.20.9320.013; Thu, 13 Nov 2025
 03:42:05 +0000
From: Hal Feng <hal.feng@starfivetech.com>
To: Emil Renner Berthing <emil.renner.berthing@canonical.com>, Albert Ou
	<aou@eecs.berkeley.edu>, Bjorn Helgaas <bhelgaas@google.com>, Conor Dooley
	<conor+dt@kernel.org>, E Shattow <e@freeshell.de>, Heinrich Schuchardt
	<heinrich.schuchardt@canonical.com>, Krzysztof Kozlowski
	<krzk+dt@kernel.org>, =?utf-8?B?S3J6eXN6dG9mIFdpbGN6ecWEc2tp?=
	<kwilczynski@kernel.org>, Lorenzo Pieralisi <lpieralisi@kernel.org>,
	Manivannan Sadhasivam <mani@kernel.org>, Palmer Dabbelt <palmer@dabbelt.com>,
	Paul Walmsley <pjw@kernel.org>, "Rafael J . Wysocki" <rafael@kernel.org>, Rob
 Herring <robh@kernel.org>, Viresh Kumar <viresh.kumar@linaro.org>
CC: "devicetree@vger.kernel.org" <devicetree@vger.kernel.org>,
	"linux-riscv@lists.infradead.org" <linux-riscv@lists.infradead.org>,
	"linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
Subject: RE: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
Thread-Topic: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
Thread-Index: AQHcT8yr76WB0y2LYU6wjdN+ecXGd7TvGAmAgADiXSA=
Date: Thu, 13 Nov 2025 03:42:05 +0000
Message-ID:
 <ZQ2PR01MB13076544E2136E7E7C2EEDA1E6CD2@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <CAJM55Z_rczBo4D3HsC90QW1=fp3NWgK-tsEo6LHTZNXEBHTDqA@mail.gmail.com>
In-Reply-To:
 <CAJM55Z_rczBo4D3HsC90QW1=fp3NWgK-tsEo6LHTZNXEBHTDqA@mail.gmail.com>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=starfivetech.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: ZQ2PR01MB1307:EE_|ZQ2PR01MB1227:EE_
x-ms-office365-filtering-correlation-id: c12e178f-4a05-4494-e085-08de22669d3c
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam:
 BCL:0;ARA:13230040|1800799024|366016|41320700013|7416014|38070700021|921020;
x-microsoft-antispam-message-info:
 hlnCs7Pd531QjbT4AFDHiuQONFos1SJTGsHEv58Ujv00K/+m/uQpsPfaGVlvU8FkAZweXgw+91uWByn4xkjDrBQHFINZit3dkVWrEJbaO6Pq8tEh/xorVHz+mE2/7GvF0DR49udqJ/8tttEp7DwTTp/gekKr6bHgsWz1ZTbZLle/JH5GSkvokE1UT8AL0rmpUywgZPhMEDPhCLPoXYAFIA2H3QnheMI96xn92SPZ8Gumi/YFIrdEzlG2gu9YglW/zfsDTKD2lobsrngpw3zJYK2AWKAh0kctZmCX5yfPpawWsqIHA5aKS7iLRYeOAvEESLRU+xULRmRESHj/868poRS+vMeqoIgLPSKEKViPIzmemiG21X9vPcX1e7Lbd8oF2HNTvUHpE+n1V3Ug+UJz6wSZxur1jjM6f9hqB5ZMSTQPnGeMSi2N9bsnCdnRJz1cs/dUvcR9CQ7Y8/23xSGHIvLwXHUTskGBUDzJH/XCG32ZzaFneFLz4HFImuufQBC/unv9YHk5SKMIEbz93L7lzFk2kQ6MoBWYOPMMhChSBQcO55A2vCanh5WJe4ZCGVCcXdBdtuVpciVm924P0wGvHACp/TG+gf5bLRpOtA3oq5w=
x-forefront-antispam-report:
 CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn;PTR:;CAT:NONE;SFS:(13230040)(1800799024)(366016)(41320700013)(7416014)(38070700021)(921020);DIR:OUT;SFP:1102;
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0:
 =?utf-8?B?aXVHUHdQU0pEY2MvSHJnME5YeXVzQ3BkanJyeWVXdWxoZ0F1VXkwNC9zVFFy?=
 =?utf-8?B?NzhyTnRiN0pTUEJOZlRPNk9CTmlGOEZBMUhyM3hKK1Qwazg0eHVpaEhYR3VE?=
 =?utf-8?B?MDdjTEkxejU5c0pXNmdtcE9uZ3VieEZiRXZiNDVYSUlIV1F4eFdWNEhPaDVj?=
 =?utf-8?B?TVRWWW5tWTJXb1VMa1pacU44VG55Z2RDSlB0WHJjNS9JbEJLOXBGS1lsUlQ2?=
 =?utf-8?B?UDkyMXJiUVkvTmxldk0xalZ3M0NmWWpPMnBuM1ZvdGhDRi9tU0puSG9ycnd6?=
 =?utf-8?B?SFNjVXVoRFhubEFIZldsN0dTS0FKVnVLc0lRcXJ1UmJoZ3BabVNoRVd3SXMw?=
 =?utf-8?B?bXJVRU5BangvQjVXTWNQSFppd3pzK3pFVzQzTG1iRXQwbHNJT0hVU01qQ1RY?=
 =?utf-8?B?MXdRTVBCeEd2RXR0c3FORU9Send6Ykxnamk4V2psZmZ6dDlVS2JsMkhuTzhw?=
 =?utf-8?B?VFBkdGM2SS9kT2o2WW1HaTBTVGRZQ25jcW14a0Fnd1VPbkd3ZUNYdjdaOWkw?=
 =?utf-8?B?MGlZNmx3TXdySXFOeEtLVXdSZmFFZTVSTGJ5dXYyZ2FabUtmS2VodkttUFZO?=
 =?utf-8?B?cGxQejJXUTZCU0pscjVxOUZ3WEN3NFpEbWlSMTROV0F0WTJoVjVaaTdwcUZ2?=
 =?utf-8?B?ZklSSUpud1k0dHNOTkUvVmsxNW9Ed1dTdzFSQXNrWHRlc01yU2o5L1VDMzdT?=
 =?utf-8?B?MFNnNDh6bDZNNGZOOWdBMzFxMDV5cjN1V2MvYzV1MWFTS1lQSmNtV21YL1FN?=
 =?utf-8?B?bWEvQTFpRXFrTjJCVVUwVUFoVnFQOWd5ZWNtUUtoS3J5bHZXb1cvWUVQcmVu?=
 =?utf-8?B?QVUybWtWKzEzSXJWRHhjM2xpSjQyUHZERmdkbWUycFJlaFhqNVVhaWN2Ri9y?=
 =?utf-8?B?aFlROXBBUklCYjAweU1CSGwrN0s0RUJxUnEyMmt4YVhvQThHcnJGL2xuZ3Jw?=
 =?utf-8?B?dVZNSmVFVHRrTGpIY0s4bWNmeEROUlgycnIyUDZVZCswSjdnTHRwSlhTRDA1?=
 =?utf-8?B?Rmc1ejd5UEsvUE1YQnR5SnBRSHcxdUVvZnMrYjNqK1RHMmdlWUZuSlZnTFlF?=
 =?utf-8?B?eTJTNEExM3gzK0ZhQVYrRjRncy9tOEtiaUYrSWgwUmxiSnpTYmlFb2hyVEFN?=
 =?utf-8?B?OUxDVGx5STJTTmhEQ3hhdnZ0QUl3OFNTZzRSS2sxeXJrRzJ3UzJ5M3dLNkdz?=
 =?utf-8?B?eGVqakZseTlzREJyYTFwbXFIalluamJpamtDSnJRRVc4Z1BWNWV1eno2NnB2?=
 =?utf-8?B?eDFxUHorV25vRTFXWmRmQmJ4VXZScVU0M1dUNVhJcW13MCtTWm5XZDNPWEZv?=
 =?utf-8?B?OUh2Q3I3QXF4YnZlUXZUcjR4OVBiMTVaVFc2R0R6Qisvc0h0QmNtcTliak1o?=
 =?utf-8?B?LzRJV2pDdWs1SEN2cVdTZzhDdlhFMTkrWXBSUXYwNDlVZGMrUjhHRU1oSUR5?=
 =?utf-8?B?R3ZkWVFVTEo3R05tR2l2SjZ3UE1OUWNuZUpGd3dySldZRHlaUkVTUEJicXpP?=
 =?utf-8?B?UGpCSSthWHFXa1NLczJPVktGd0cxYUhKUHh4WjhCdzk5eHpuSzE0bVJ5cEM1?=
 =?utf-8?B?WHluSEhiTFZFT29TR2p6ZWd5K2NmTW52MXpXZXp2VE1OZTFOWGxoTDc3dlNB?=
 =?utf-8?B?Q0ZHcm45NUZ5YXlVbUFFbk55d3cvZy9wM0t5c0p2Z2xtbVBlWDBBY0RXVXU5?=
 =?utf-8?B?K2NmMGVKekd5Y1h2NDBBYVVQQTNETzFoV0p1MGhtZEtCQlNaVUgrZ0I1aHlv?=
 =?utf-8?B?eGZKQmFTei9tYVVUaTRZVXE4TTlUdWhYYWtrUGN2blpUMmkwTWFSUm1jREps?=
 =?utf-8?B?V3VqSlB4dlcrbklOWWx2TjJ0WXhzWFJYVWtwRXlVdDRtU3hWVml6UHhkcGZy?=
 =?utf-8?B?OTJQTnhvdmVvczhyYmhKdjlpSnFtVlFpUGl4clZqMFZGREQzOCszMmdCRm5l?=
 =?utf-8?B?bHFmTzRnejRmaVczcHdESm0ram9kM3V2MDhpSEJ4bzBTK1dMZU51ZWpWSkZG?=
 =?utf-8?B?aXpvYnZ4YWZGSGVVY3ZGVjNxWWdYZVZBS0dTeW0vOEJKNDV3RU9paVZISEo0?=
 =?utf-8?B?RmY3TFZydFBVaDNkU1ZSQjhJbnUvb1JuUTIwU0JWckt6OVVFTGtHS0grRHdS?=
 =?utf-8?Q?Jhcm8hwETFcC6y7eonkdV7cgk?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-OriginatorOrg: starfivetech.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
X-MS-Exchange-CrossTenant-Network-Message-Id: c12e178f-4a05-4494-e085-08de22669d3c
X-MS-Exchange-CrossTenant-originalarrivaltime: 13 Nov 2025 03:42:05.2735
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 06fe3fa3-1221-43d3-861b-5a4ee687a85c
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: aMK0YvlCwDDvHOatNH0hRqn+styk30e9V/i0roM9mOYIA/GhT05veF7jb4SlkELTtlCsg+sKdnSbjm/jqomxejt1f5h8pSwU+Q3Boym2gMs=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: ZQ2PR01MB1227

PiBPbiAxMi4xMS4yNSAyMTo1NCwgRW1pbCBSZW5uZXIgQmVydGhpbmcgd3JvdGU6DQo+IFF1b3Rp
bmcgSGFsIEZlbmcgKDIwMjUtMTEtMDcgMTA6NTU6MjIpDQo+ID4gVmlzaW9uRml2ZSAyIExpdGUg
aXMgYSBtaW5pIFNCQyBiYXNlZCBvbiB0aGUgU3RhckZpdmUgSkg3MTEwUw0KPiA+IGluZHVzdHJp
YWwgU29DIHdoaWNoIGNhbiBydW4gYXQgLTQwfjg1IGRlZ3JlZXMgY2VudGlncmFkZSBhbmQgdXAg
dG8NCj4gMS4yNUdIei4NCj4gPg0KPiA+IEJvYXJkIGZlYXR1cmVzOg0KPiA+IC0gSkg3MTEwUyBT
b0MNCj4gPiAtIDQvOCBHaUIgTFBERFI0IERSQU0NCj4gPiAtIEFYUDE1MDYwIFBNSUMNCj4gPiAt
IDQwIHBpbiBHUElPIGhlYWRlcg0KPiA+IC0gMXggVVNCIDMuMCBob3N0IHBvcnQNCj4gPiAtIDN4
IFVTQiAyLjAgaG9zdCBwb3J0DQo+ID4gLSAxeCBNLjIgTS1LZXkgKHNpemU6IDIyNDIpDQo+ID4g
LSAxeCBNaWNyb1NEIHNsb3QgKG9wdGlvbmFsIG5vbi1yZW1vdmFibGUgNjRHaUIgZU1NQykNCj4g
PiAtIDF4IFFTUEkgRmxhc2gNCj4gPiAtIDF4IEkyQyBFRVBST00NCj4gPiAtIDF4IDFHYnBzIEV0
aGVybmV0IHBvcnQNCj4gPiAtIFNESU8tYmFzZWQgV2ktRmkgJiBVQVJULWJhc2VkIEJsdWV0b290
aA0KPiA+IC0gMXggSERNSSBwb3J0DQo+ID4gLSAxeCAyLWxhbmUgRFNJDQo+ID4gLSAxeCAyLWxh
bmUgQ1NJDQo+ID4NCj4gPiBWaXNpb25GaXZlIDIgTGl0ZSBzY2hlbWF0aWNzOg0KPiA+IGh0dHBz
Oi8vZG9jLQ0KPiBlbi5ydnNwYWNlLm9yZy9WaXNpb25GaXZlMkxpdGUvUERGL1ZGMl9MSVRFX1Yx
LjEwX1RGXzIwMjUwDQo+ID4gODE4X1NDSC5wZGYgVmlzaW9uRml2ZSAyIExpdGUgUXVpY2sgU3Rh
cnQgR3VpZGU6DQo+ID4gaHR0cHM6Ly9kb2MtZW4ucnZzcGFjZS5vcmcvVmlzaW9uRml2ZTJMaXRl
L1Zpc2lvbkZpdmUyTGl0ZVFTRy9pbmRleC5odA0KPiA+IG1sIE1vcmUgZG9jdW1lbnRzOg0KPiA+
IGh0dHBzOi8vZG9jLWVuLnJ2c3BhY2Uub3JnL0RvY19DZW50ZXIvdmlzaW9uZml2ZV8yX2xpdGUu
aHRtbA0KPiANCj4gDQo+IEhpIEhhbCwNCj4gDQo+IEN1cnJlbnRseSB0aGUgSkg3MTEwIGRldmlj
ZSB0cmVlcyBhcmUgbGF5ZWQgb3V0IGxpa2UgdGhpcywgd2l0aCBhIG5pY2Ugc2VwYXJhdGlvbg0K
PiBiZXR3ZWVuIHRoZSBTb0MgZGVzY3JpcHRpb24gYW5kIGJvYXJkIGRlc2NyaXB0aW9uczoNCj4g
DQo+IGpoNzExMC5kdHNpICAgICAgICAgICAgICAgIyBKSDcxMTAgU29DIGRlc2NyaXB0aW9uDQo+
IHwtIGpoNzExMC1jb21tb24uZHRzaSAgICAgIyBQZXJpcGhlcmFscyBjb21tb24gdG8gYWxsIEpI
NzExMCBib2FyZHMNCj4gICAgfC0gamg3MTEwLXN0YXJmaXZlLXZpc2lvbmZpdmUtMi5kdHNpICMg
UGVyaXBoZXJhbHMgY29tbW9uIHRvIFZGMiBib2FyZHMNCj4gICAgfCAgfC0gPFZGMiBib2FyZHM+
ICAgICAjIEZpbmFsIFZGMiBib2FyZCBkZXNjcmlwdGlvbnMNCj4gICAgfC0gamg3MTEwLW1pbGt2
LW1hcnNjbS5kdHNpICMgUGVyaXBoZXJhbHMgY29tbW9uIHRvIE1hcnMgQ00gYm9hcmRzDQo+ICAg
IHwgIHwtIDxNYXJzIENNIGJvYXJkcz4gIyBGaW5hbCBNYXJzIENNIGJvYXJkIGRlc2NyaXB0aW9u
cw0KPiAgICB8LSA8b3RoZXIgYm9hcmRzPiAgICAgICMgT3RoZXIgSkg3MTEwIGJvYXJkIGRlc2Ny
aXB0aW9ucw0KPiANCj4gV2l0aCB0aGlzIHNlcmllcyBpdCBtb3ZlcyB0bw0KPiANCj4gamg3MTF4
LmR0c2kNCj4gfC0gamg3MTF4LWNvbW1vbi5kdHNpDQo+ICAgIHwtIGpoNzExMC1jb21tb24uZHRz
aQ0KPiAgICB8ICB8LSA8amg3MTEwIGJvYXJkcz4NCj4gICAgfC0gamg3MTEwcy1jb21tb24uZHRz
aQ0KPiAgICAgICB8LSA8amg3MTEwcyBib2FyZHM+DQo+IA0KPiAuLndoaWNoIEkgY2FuJ3QgZXZl
biBnaXZlIGNsZWFyIGxhYmVscyBsaWtlIGFib3ZlLiBJbiBvdGhlciB3b3JkcyB3aGVuIG5ldw0K
PiBwYXRjaGVzIGFyZSBzZW50IGluIGl0IHdvdWxkIG5vdCBiZSBlYXN5IHRvIGV4cGxhaW4gZXhh
Y3RseSB3aGVyZSBlYWNoIGNoYW5nZQ0KPiBzaG91bGQgZ28gYW5kIHdoeS4NCj4gSSdtIGFsc28g
d29ycmllZCB0aGF0IHlvdSdsbCBmaW5kIHRoYXQgbW9yZSBvZiB0aGUgcGVyaXBoZXJhbHMgb24g
dGhlIEpINzExMFMNCj4gbmVlZCBzcGVjaWFsIGhhbmRsaW5nIGFuZCBhIG5ldyBqaDcxMTBzLS4u
LiBjb21wYXRpYmxlIHN0cmluZy4gVGhlbiBJIGd1ZXNzDQo+IHRoZXknbGwgbmVlZCB0byBqdW1w
IGZyb20gamg3MTEweC5kdHNpIHR3byBsZXZlbHMgZG93biB0byBqaDcxMTB7LHN9LQ0KPiBjb21t
b24uZHRzaSB3aGljaCB0aGVuIGJvdGggZGVzY3JpYmUgU29DIGFuZCBib2FyZCBwcm9wZXJ0aWVz
Lg0KPiANCj4gSWYgeW91J3JlIHNlcmlvdXMgYWJvdXQgY2FsbGluZyB0aGlzIGEgbmV3IFNvQyB0
aGVuIEknZCBleHBlY3Qgc29tZXRoaW5nIG1vcmUNCj4gbGlrZSB0aGlzOg0KPiANCj4gamg3MTF4
LmR0c2kgICAgICAgICAgICAgICAgICAjIFBlcmlwaGVyYWxzIGNvbW1vbiB0byBib3RoIFNvQ3MN
Cj4gfC0gamg3MTEwLmR0c2kgICAgICAgICAgICAgICAjIEpINzExMCBTb0MgZGVzY3JpcHRpb24N
Cj4gfCAgfC0gamg3MTEwLWNvbW1vbi5kdHNpICAgICAjIFBlcmlwaGVyYWxzIGNvbW1vbiB0byBh
bGwgSkg3MTEwIGJvYXJkcw0KPiB8ICAgICB8LSBqaDcxMTAtc3RhcmZpdmUtdmlzaW9uZml2ZS0y
LmR0c2kgIyBQZXJpcGhlcmFscyBjb21tb24gdG8gVkYyIGJvYXJkcw0KPiB8ICAgICB8ICB8LSA8
VkYyIGJvYXJkcz4gICAgICMgRmluYWwgVkYyIGJvYXJkIGRlc2NyaXB0aW9ucw0KPiB8ICAgICB8
LSBqaDcxMTAtbWlsa3YtbWFyc2NtLmR0c2kgIyBQZXJpcGhlcmFscyBjb21tb24gdG8gTWFycyBD
TSBib2FyZHMNCj4gfCAgICAgfCAgfC0gPE1hcnMgQ00gYm9hcmRzPiAjIEZpbmFsIE1hcnMgQ00g
Ym9hcmQgZGVzY3JpcHRpb25zDQo+IHwgICAgIHwtIDxvdGhlciBib2FyZHM+ICAgICAgIyBPdGhl
ciBKSDcxMTAgYm9hcmQgZGVzY3JpcHRpb25zDQo+IHwtIGpoNzExMHMuZHRzaSAgICAgICAgICAg
ICAgIyBKSDcxMTBTIFNvQyBkZXNjcmlwdGlvbg0KPiAgICB8LSBqaDcxMTBzLWNvbW1vbi5kdHNp
ICAgICMgUGVyaXBoZXJhbHMgY29tbW9uIHRvIGFsbCBKSDcxMTBTIGJvYXJkcw0KPiAgICAgICB8
LSA8Skg3MTEwUyBib2FyZHM+ICAgICMgRmluYWwgSkg3MTEwUyBib2FyZCBkZXNjcmlwdGlvbnMN
Cj4gDQo+IEkga25vdyB0aGlzIHdpbGwgbWVhbiBzb21lIGR1cGxpY2F0aW9uIGluIGpoNzExMHss
c30tY29tbW9uLmR0c2ksIGJ1dCBJDQo+IHdvdWxkIHByZWZlciB0aGF0IHRvIG5vdCBoYXZpbmcg
YSBjbGVhciBleHBsYW5hdGlvbiBvZiB3aGF0IGVhY2ggZmlsZSBkZXNjcmliZXMuDQo+IA0KPiBE
byB5b3UgdGhpbmsgdGhpcyBsYXlvdXQgY291bGQgd29yayBmb3IgeW91Pw0KDQpZZWFoLCBpdCBp
cyBjbGVhcmVyIGZvciBkZXZlbG9wZXJzIGFuZCBtYWludGFpbmVycy4NCg0KQ29uc2lkZXJpbmcg
Q29ub3IncyBzdWdnZXN0aW9uLCB3aGF0IGFib3V0Og0KDQpqaDcxMTAuZHRzaSAgICAgICAgICAg
ICAgICMgSkg3MTEwIFNvQyBkZXNjcmlwdGlvbg0KfC0gamg3MTEwLWNvbW1vbi5kdHNpICAgICAj
IFBlcmlwaGVyYWxzIGNvbW1vbiB0byBhbGwgSkg3MTEwIGJvYXJkcw0KICAgfC0gamg3MTEwLXN0
YXJmaXZlLXZpc2lvbmZpdmUtMi5kdHNpICMgUGVyaXBoZXJhbHMgY29tbW9uIHRvIFZGMiBib2Fy
ZHMNCiAgIHwgIHwtIDxWRjIgYm9hcmRzPiAgICAgIyBGaW5hbCBWRjIgYm9hcmQgZGVzY3JpcHRp
b25zDQogICB8LSBqaDcxMTAtbWlsa3YtbWFyc2NtLmR0c2kgIyBQZXJpcGhlcmFscyBjb21tb24g
dG8gTWFycyBDTSBib2FyZHMNCiAgIHwgIHwtIDxNYXJzIENNIGJvYXJkcz4gIyBGaW5hbCBNYXJz
IENNIGJvYXJkIGRlc2NyaXB0aW9ucw0KICAgfC0gPG90aGVyIGJvYXJkcz4gICAgICAjIE90aGVy
IEpINzExMCBib2FyZCBkZXNjcmlwdGlvbnMNCnwtIDxKSDcxMTBTIGJvYXJkcz4NCg0KTW92ZSB0
aGUgb3BwIHRhYmxlIGZyb20gamg3MTEwLmR0c2kgdG8gamg3MTEwLWNvbW1vbi5kdHNpLg0KUmVt
b3ZlIGpoNzExMHMtY29tbW9uLmR0c2ksIGJlY2F1c2Ugb25seSBvbmUgYm9hcmQgdXNlcyBKSDcx
MTBTIG5vdy4NCg0KQmVzdCByZWdhcmRzLA0KSGFsDQo=

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from smtp-relay-internal-0.canonical.com (smtp-relay-internal-0.canonical.com [185.125.188.122])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id EA45D33120B
	for <linux-kernel@vger.kernel.org>; Thu, 13 Nov 2025 10:42:32 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=185.125.188.122
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1763030555; cv=none; b=MsjiZ5b7e8PGqMKVr7dPesLEn0CeRyS3tFPjD89sFCERFzPEsPnuS2E7Z27Psv45+e+4JFI4gx9De3PcZ+SeBm9JbXjcI53XXwKDfWDsEg63q1++FW0nlzYXIiFnv4V0bBlC7tTrq0Dj5zUSZN0MUDulBxPlwC0oog3CBkM4FGU=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1763030555; c=relaxed/simple;
	bh=PMmKSFKj6pzkYGzgLnVnV4jlBP4NMbJ4YiWVaQ7L768=;
	h=MIME-Version:In-Reply-To:References:From:Date:Message-ID:Subject:
	 To:Cc:Content-Type; b=ATwBk/l3Xp4TJX66zl5ea4KfpfYuuX9DPt6HRm787h+Ylkqg2pgYmmdiJqssvqTPRaFmjJbGZMcBzWbv/khwQ4yB0LMQs0yY4tS/LqF9Y0Py0h6s2rRsZdgW3L90AxNbnwyPrFmjKm9le/sqy4fcW9td24MqN0yMi/TO0vobAHI=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=canonical.com; spf=pass smtp.mailfrom=canonical.com; dkim=pass (4096-bit key) header.d=canonical.com header.i=@canonical.com header.b=YgRcZuLm; arc=none smtp.client-ip=185.125.188.122
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=canonical.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=canonical.com
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (4096-bit key) header.d=canonical.com header.i=@canonical.com header.b="YgRcZuLm"
Received: from mail-ej1-f72.google.com (mail-ej1-f72.google.com [209.85.218.72])
	(using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
	 key-exchange X25519 server-signature RSA-PSS (2048 bits) server-digest SHA256)
	(No client certificate requested)
	by smtp-relay-internal-0.canonical.com (Postfix) with ESMTPS id 5840140255
	for <linux-kernel@vger.kernel.org>; Thu, 13 Nov 2025 10:42:28 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=canonical.com;
	s=20251003; t=1763030548;
	bh=WaWROQhILaIk4AODRxLJvdFvDxUCFVP6Fxty2SkZyI4=;
	h=MIME-Version:In-Reply-To:References:From:Date:Message-ID:Subject:
	 To:Cc:Content-Type;
	b=YgRcZuLm86cfnKM7UX2EDXrfVXVcH1g7Mf8TnnZtarKdu91czDC6BrbC3vYLgRRBM
	 VyLumaupXBK1Uk/2VGv8993+5Y/RGuN/5BFUp0dOhf+S4lEHIN9ku8GjBD2tRDGrG4
	 TCJj0QgRG7WKIcMzKaZhf0YYhWhtMFlh2pqcbPqMoo3dgplzXKBcmuLfNm3mI0jF2W
	 PBgw0rnGSysHsT5sLzllM3U4Y9BYpLjjLRf5AxjjCadjKyS+84AGVuE1i2pvOSY0+C
	 qcaTmiQKywpplVhHdBrsKu0W/GkM1bOOJ0Wyx2hd450k9VLIghw1gsYnFx8Gs9Jx+4
	 V1melovOopT6Te1FMo+IZALYEgsLSfCFeRuKU7vRFcdbBe5t85DEoRcXUFCsG7niPJ
	 oPtQG6hlmpmhV9YPDsUIpY/W/Mk7z/WBBQbnYYKfRRcD4aGaLC5Kd3gD0VNhmQunIt
	 HuZnLFItLu/9zgO12WTZgdx09CSDVu4c6j9+6d5d+NKHCg+lOKxFa7OXojLQfknTKQ
	 u5syzlvV4wEdIG3AsYCGnwd1Yg/jiEGKNbV3yHO/B/pgIPNUbVggOyFqrXwLXN+XGt
	 oU7qzDJRUtYZezsomLqD5RI5Sc3VklJXSwv7LpxN32c2BYTPDzOaIz9oI++HojWsgL
	 wuwmwZwYUO6oKa3j1HTYpMVU=
Received: by mail-ej1-f72.google.com with SMTP id a640c23a62f3a-b70b21e6cdbso93408866b.1
        for <linux-kernel@vger.kernel.org>; Thu, 13 Nov 2025 02:42:28 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20230601; t=1763030547; x=1763635347;
        h=cc:to:subject:message-id:date:user-agent:from:references
         :in-reply-to:mime-version:x-gm-gg:x-gm-message-state:from:to:cc
         :subject:date:message-id:reply-to;
        bh=WaWROQhILaIk4AODRxLJvdFvDxUCFVP6Fxty2SkZyI4=;
        b=DrWRJ+f9WG3M3jAn/E9Q1SvkdiORsRvZG5+TBjjMBzIQxcuoEyYLmfH3WhzjRGCTs5
         /viSPSwQfXgH9T2BKk9u0WNV4nXeUDMp/Dz3UMhBQtD8+MlopEHtjnC2CMKP0BSg85mn
         MK6A5qiz4LkeAO3daWdmbDYlczaBBoMymLSl0Iyvm6OhOoZ4PSsnevDw5xfAXXT3oEWT
         vfMRp2mz+wQZc66WOOAbvVKVZMY0VaRPmqTmumK6mDxKO2wHp65+06FPs4mfZCWB1BZS
         rbGQpDq17FHUdyAzzKb6QUEdUMG4QPu76eSEc/Hffm3qDExf6xRyu5xlwEFP1wij6ksx
         NHcA==
X-Forwarded-Encrypted: i=1; AJvYcCXBsj0jXdkVeX+4FUKCWAx/11LnSBEg0Vt9EjAoqd580gvBjr5dZfDzNbzrBh0weMmDQXolQi1HnGgNwoQ=@vger.kernel.org
X-Gm-Message-State: AOJu0YyGm0PhTqE9jI51AuQ0mh2EQ9HOMYNDwTG6+PVIWyTrzuCIqnZc
	Y8A3+in8JDf7ADn8fXR3NjYcbzvvfog6EtAMGMUfURM0yepUyMzYsH0kLXZV8VkmzjexaqvGEYq
	ucckXC5B/bdx0BbLwkuN1ZNYtAcAW5MpaY5ZJ09BDD2j/2av1Dm/nEYM3++VR+QVMl3xx+RGv9M
	2SBs0nVm0IagHLswPDTvtk629QoMtYQpkuu4VFEVJvzkDS5TK5EDO2nYaq
X-Gm-Gg: ASbGncsObgOT5t2UaYS/bC5qEWyTO0FgnVPAGjWDLSeKlHjTFvJ4AY5jTK2afl9a+/T
	3sh1VBrLu4Ip/0wLGTWMkhpSerBe3WMrGhsiL83NXV/h2DLD6jcYTg7M4fH0C050XLoN0cQ6yrG
	PNpwoCcY8vtEKh4y6CvaJvT7RkoIxnfD/a4RXIhtwRRBatDCKg8dn+7g==
X-Received: by 2002:a17:907:3e1f:b0:b72:b7cd:f59e with SMTP id a640c23a62f3a-b7348087148mr254968066b.8.1763030547564;
        Thu, 13 Nov 2025 02:42:27 -0800 (PST)
X-Google-Smtp-Source: AGHT+IFTJg98+9M8c886tFyGLEzoK9vA4EcA/KrEpft00B6n0vwqztesDMLxb4eNFEPEpnVvcr/HOe2M0PsqZg0bCHc=
X-Received: by 2002:a17:907:3e1f:b0:b72:b7cd:f59e with SMTP id
 a640c23a62f3a-b7348087148mr254965466b.8.1763030547147; Thu, 13 Nov 2025
 02:42:27 -0800 (PST)
Received: from 753933720722 named unknown by gmailapi.google.com with
 HTTPREST; Thu, 13 Nov 2025 02:42:26 -0800
Received: from 753933720722 named unknown by gmailapi.google.com with
 HTTPREST; Thu, 13 Nov 2025 02:42:26 -0800
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
In-Reply-To: <ZQ2PR01MB13076544E2136E7E7C2EEDA1E6CD2@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <CAJM55Z_rczBo4D3HsC90QW1=fp3NWgK-tsEo6LHTZNXEBHTDqA@mail.gmail.com> <ZQ2PR01MB13076544E2136E7E7C2EEDA1E6CD2@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
From: Emil Renner Berthing <emil.renner.berthing@canonical.com>
User-Agent: alot/0.0.0
Date: Thu, 13 Nov 2025 02:42:26 -0800
X-Gm-Features: AWmQ_blOZ9S9m9Ve_xD05iTkInH_Tetx_kG4fJGOm32UTmonVLiTkEgBwiVrXdU
Message-ID: <CAJM55Z9KyNK1n4i9FxbLor4HTQKqK8WKA2svjPVvKXihw_E+sg@mail.gmail.com>
Subject: RE: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
To: Albert Ou <aou@eecs.berkeley.edu>, Bjorn Helgaas <bhelgaas@google.com>, 
	Conor Dooley <conor+dt@kernel.org>, E Shattow <e@freeshell.de>, 
	Hal Feng <hal.feng@starfivetech.com>, 
	Heinrich Schuchardt <heinrich.schuchardt@canonical.com>, 
	Krzysztof Kozlowski <krzk+dt@kernel.org>, =?UTF-8?Q?Krzysztof_Wilczy=C5=84ski?= <kwilczynski@kernel.org>, 
	Lorenzo Pieralisi <lpieralisi@kernel.org>, Manivannan Sadhasivam <mani@kernel.org>, 
	Palmer Dabbelt <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>, 
	"Rafael J . Wysocki" <rafael@kernel.org>, Rob Herring <robh@kernel.org>, 
	Viresh Kumar <viresh.kumar@linaro.org>
Cc: "devicetree@vger.kernel.org" <devicetree@vger.kernel.org>, 
	"linux-riscv@lists.infradead.org" <linux-riscv@lists.infradead.org>, 
	"linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
Content-Type: text/plain; charset="UTF-8"

Quoting Hal Feng (2025-11-13 04:42:05)
> > On 12.11.25 21:54, Emil Renner Berthing wrote:
> > Quoting Hal Feng (2025-11-07 10:55:22)
> > > VisionFive 2 Lite is a mini SBC based on the StarFive JH7110S
> > > industrial SoC which can run at -40~85 degrees centigrade and up to
> > > 1.25GHz.
[...]
> > Currently the JH7110 device trees are layed out like this, with a nice separation
> > between the SoC description and board descriptions:
> >
> > jh7110.dtsi               # JH7110 SoC description
> > |- jh7110-common.dtsi     # Peripherals common to all JH7110 boards
> >    |- jh7110-starfive-visionfive-2.dtsi # Peripherals common to VF2 boards
> >    |  |- <VF2 boards>     # Final VF2 board descriptions
> >    |- jh7110-milkv-marscm.dtsi # Peripherals common to Mars CM boards
> >    |  |- <Mars CM boards> # Final Mars CM board descriptions
> >    |- <other boards>      # Other JH7110 board descriptions
> >
> > With this series it moves to
> >
> > jh711x.dtsi
> > |- jh711x-common.dtsi
> >    |- jh7110-common.dtsi
> >    |  |- <jh7110 boards>
> >    |- jh7110s-common.dtsi
> >       |- <jh7110s boards>
> >
> > ..which I can't even give clear labels like above. In other words when new
> > patches are sent in it would not be easy to explain exactly where each change
> > should go and why.
> > I'm also worried that you'll find that more of the peripherals on the JH7110S
> > need special handling and a new jh7110s-... compatible string. Then I guess
> > they'll need to jump from jh7110x.dtsi two levels down to jh7110{,s}-
> > common.dtsi which then both describe SoC and board properties.
> >
> > If you're serious about calling this a new SoC then I'd expect something more
> > like this:
> >
> > jh711x.dtsi                  # Peripherals common to both SoCs
> > |- jh7110.dtsi               # JH7110 SoC description
> > |  |- jh7110-common.dtsi     # Peripherals common to all JH7110 boards
> > |     |- jh7110-starfive-visionfive-2.dtsi # Peripherals common to VF2 boards
> > |     |  |- <VF2 boards>     # Final VF2 board descriptions
> > |     |- jh7110-milkv-marscm.dtsi # Peripherals common to Mars CM boards
> > |     |  |- <Mars CM boards> # Final Mars CM board descriptions
> > |     |- <other boards>      # Other JH7110 board descriptions
> > |- jh7110s.dtsi              # JH7110S SoC description
> >    |- jh7110s-common.dtsi    # Peripherals common to all JH7110S boards
> >       |- <JH7110S boards>    # Final JH7110S board descriptions
> >
> > I know this will mean some duplication in jh7110{,s}-common.dtsi, but I
> > would prefer that to not having a clear explanation of what each file describes.
> >
> > Do you think this layout could work for you?
>
> Yeah, it is clearer for developers and maintainers.
>
> Considering Conor's suggestion, what about:
>
> jh7110.dtsi               # JH7110 SoC description
> |- jh7110-common.dtsi     # Peripherals common to all JH7110 boards
>    |- jh7110-starfive-visionfive-2.dtsi # Peripherals common to VF2 boards
>    |  |- <VF2 boards>     # Final VF2 board descriptions
>    |- jh7110-milkv-marscm.dtsi # Peripherals common to Mars CM boards
>    |  |- <Mars CM boards> # Final Mars CM board descriptions
>    |- <other boards>      # Other JH7110 board descriptions
> |- <JH7110S boards>
>
> Move the opp table from jh7110.dtsi to jh7110-common.dtsi.
> Remove jh7110s-common.dtsi, because only one board uses JH7110S now.

This patchset adds 2 different boards. Has this changed?

Also this would mean that you're not using the starfive,jh7110s compatible or
any other starfive,jh7110s-.. compatible strings, so effectively you're not
treating it as a new chip, but just a board that needs a different opp table.

I see now that the opp table is effectively the only difference between the two
chips in this patchset, so if that's closer to reality then what you suggest is
fine with me.

/Emil

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from freeshell.de (freeshell.de [116.202.128.144])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 739BE2EB853;
	Thu, 13 Nov 2025 15:17:15 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=116.202.128.144
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1763047038; cv=none; b=qukigK5Pt9vWPwMftohGSZpN4rEHUqMfVwEIC8yK9UM69vGZcgbOzQGd2kGORJ05HWiPVdhtFFEGXKpWama6IxSXqpKoxhjQ/3FO/eAmC45ZItROaNQAi3SjjpCmIrS5lQogfKL4ef2DhSy7g1WegtQGi5FpS/7O6rXERKNRz2E=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1763047038; c=relaxed/simple;
	bh=T3n7uGsXw8/exc2MdTHyFvaIfrDg+W4gycMLUTTp62k=;
	h=Message-ID:Date:MIME-Version:Subject:To:Cc:References:From:
	 In-Reply-To:Content-Type; b=cgStd5F11ZcsVSyE2ciq75yMUhUtJLkwuqXiXJlNOpW8iQeKu4U3RGqymc1csu2uOAGDw/WO4Lsro7pCEJcVJG+YFNoLO2Iu5EQZS6OCTuLY59iONn6pUy37dZlttHXWqkFLV2di5PCsl2blAgOCUbwMVBb1hofd4eoqHhomDl0=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=freeshell.de; spf=pass smtp.mailfrom=freeshell.de; dkim=pass (2048-bit key) header.d=freeshell.de header.i=@freeshell.de header.b=hXL+fFSt; arc=none smtp.client-ip=116.202.128.144
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=freeshell.de
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=freeshell.de
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=freeshell.de header.i=@freeshell.de header.b="hXL+fFSt"
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=freeshell.de;
	s=s2025; t=1763046978;
	bh=5AGNvaURvHGKAavyDt3SYJlevQsgOCQzedVhKN3nGVw=;
	h=Date:Subject:To:Cc:References:From:In-Reply-To:From;
	b=hXL+fFSt1lF8fqaJhdWEA3T+ShmM5u/Xbf2lHvu3gDBmJqfAIZnz90g8kW1bkujvH
	 px5RxeqKofIflhoz0eTfbb9T5DxdtDorPZFcXz9FS3JKdz71pKojqBBaVOIxRyGjwH
	 lCNjQVnpwYI6vPbmUiH1wKlm91jOCWG3uAvOwn90fw4uSS7EJHp84vp4p0MWm7I1O6
	 LncojllfI5h8FEhShvcfF/nCceH0btWwhhkd2m6Uw2mGwqKZnPFE4dHYCh0AUk4cUN
	 jT1stvHhQkdvhp9/fzCc0pX229Tp8PlDHqKeBSoCpw/8aEIzf9WuFdXfD5oZXncwd9
	 j9t+Ab9nUJqTw==
Received: from [192.168.2.54] (unknown [74.244.53.222])
	(Authenticated sender: e)
	by freeshell.de (Postfix) with ESMTPSA id AFF95B2202BC;
	Thu, 13 Nov 2025 16:16:14 +0100 (CET)
Message-ID: <4a55301a-ef7e-4b47-8151-621cfba36ddd@freeshell.de>
Date: Thu, 13 Nov 2025 07:16:12 -0800
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
User-Agent: Mozilla Thunderbird
Subject: Re: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
To: Emil Renner Berthing <emil.renner.berthing@canonical.com>,
 Albert Ou <aou@eecs.berkeley.edu>, Bjorn Helgaas <bhelgaas@google.com>,
 Conor Dooley <conor+dt@kernel.org>, Hal Feng <hal.feng@starfivetech.com>,
 Heinrich Schuchardt <heinrich.schuchardt@canonical.com>,
 Krzysztof Kozlowski <krzk+dt@kernel.org>,
 =?UTF-8?Q?Krzysztof_Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
 Lorenzo Pieralisi <lpieralisi@kernel.org>,
 Manivannan Sadhasivam <mani@kernel.org>, Palmer Dabbelt
 <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>,
 "Rafael J . Wysocki" <rafael@kernel.org>, Rob Herring <robh@kernel.org>,
 Viresh Kumar <viresh.kumar@linaro.org>
Cc: "devicetree@vger.kernel.org" <devicetree@vger.kernel.org>,
 "linux-riscv@lists.infradead.org" <linux-riscv@lists.infradead.org>,
 "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <CAJM55Z_rczBo4D3HsC90QW1=fp3NWgK-tsEo6LHTZNXEBHTDqA@mail.gmail.com>
 <ZQ2PR01MB13076544E2136E7E7C2EEDA1E6CD2@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <CAJM55Z9KyNK1n4i9FxbLor4HTQKqK8WKA2svjPVvKXihw_E+sg@mail.gmail.com>
Content-Language: en-US
From: E Shattow <e@freeshell.de>
In-Reply-To: <CAJM55Z9KyNK1n4i9FxbLor4HTQKqK8WKA2svjPVvKXihw_E+sg@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit



On 11/13/25 02:42, Emil Renner Berthing wrote:
> Quoting Hal Feng (2025-11-13 04:42:05)
>>> On 12.11.25 21:54, Emil Renner Berthing wrote:
>>> Quoting Hal Feng (2025-11-07 10:55:22)
>>>> VisionFive 2 Lite is a mini SBC based on the StarFive JH7110S
>>>> industrial SoC which can run at -40~85 degrees centigrade and up to
>>>> 1.25GHz.
> [...]
>>> Currently the JH7110 device trees are layed out like this, with a nice separation
>>> between the SoC description and board descriptions:
>>>
>>> jh7110.dtsi               # JH7110 SoC description
>>> |- jh7110-common.dtsi     # Peripherals common to all JH7110 boards
>>>    |- jh7110-starfive-visionfive-2.dtsi # Peripherals common to VF2 boards
>>>    |  |- <VF2 boards>     # Final VF2 board descriptions
>>>    |- jh7110-milkv-marscm.dtsi # Peripherals common to Mars CM boards
>>>    |  |- <Mars CM boards> # Final Mars CM board descriptions
>>>    |- <other boards>      # Other JH7110 board descriptions
>>>
>>> With this series it moves to
>>>
>>> jh711x.dtsi
>>> |- jh711x-common.dtsi
>>>    |- jh7110-common.dtsi
>>>    |  |- <jh7110 boards>
>>>    |- jh7110s-common.dtsi
>>>       |- <jh7110s boards>
>>>
>>> ..which I can't even give clear labels like above. In other words when new
>>> patches are sent in it would not be easy to explain exactly where each change
>>> should go and why.
>>> I'm also worried that you'll find that more of the peripherals on the JH7110S
>>> need special handling and a new jh7110s-... compatible string. Then I guess
>>> they'll need to jump from jh7110x.dtsi two levels down to jh7110{,s}-
>>> common.dtsi which then both describe SoC and board properties.
>>>
>>> If you're serious about calling this a new SoC then I'd expect something more
>>> like this:
>>>
>>> jh711x.dtsi                  # Peripherals common to both SoCs
>>> |- jh7110.dtsi               # JH7110 SoC description
>>> |  |- jh7110-common.dtsi     # Peripherals common to all JH7110 boards
>>> |     |- jh7110-starfive-visionfive-2.dtsi # Peripherals common to VF2 boards
>>> |     |  |- <VF2 boards>     # Final VF2 board descriptions
>>> |     |- jh7110-milkv-marscm.dtsi # Peripherals common to Mars CM boards
>>> |     |  |- <Mars CM boards> # Final Mars CM board descriptions
>>> |     |- <other boards>      # Other JH7110 board descriptions
>>> |- jh7110s.dtsi              # JH7110S SoC description
>>>    |- jh7110s-common.dtsi    # Peripherals common to all JH7110S boards
>>>       |- <JH7110S boards>    # Final JH7110S board descriptions
>>>
>>> I know this will mean some duplication in jh7110{,s}-common.dtsi, but I
>>> would prefer that to not having a clear explanation of what each file describes.
>>>
>>> Do you think this layout could work for you?
>>
>> Yeah, it is clearer for developers and maintainers.
>>
>> Considering Conor's suggestion, what about:
>>
>> jh7110.dtsi               # JH7110 SoC description
>> |- jh7110-common.dtsi     # Peripherals common to all JH7110 boards
>>    |- jh7110-starfive-visionfive-2.dtsi # Peripherals common to VF2 boards
>>    |  |- <VF2 boards>     # Final VF2 board descriptions
>>    |- jh7110-milkv-marscm.dtsi # Peripherals common to Mars CM boards
>>    |  |- <Mars CM boards> # Final Mars CM board descriptions
>>    |- <other boards>      # Other JH7110 board descriptions
>> |- <JH7110S boards>
>>

JH-7110 and JH-7110I reference docs are listed (not any JH-7110S) at:
https://doc-en.rvspace.org/Doc_Center/datasheet_0.html

Does the JH-7110I use the OPP table for JH-7110 or JH-7110S?

>> Move the opp table from jh7110.dtsi to jh7110-common.dtsi.
>> Remove jh7110s-common.dtsi, because only one board uses JH7110S now.
> 
> This patchset adds 2 different boards. Has this changed?
> 
> Also this would mean that you're not using the starfive,jh7110s compatible or
> any other starfive,jh7110s-.. compatible strings, so effectively you're not
> treating it as a new chip, but just a board that needs a different opp table.
> 
> I see now that the opp table is effectively the only difference between the two
> chips in this patchset, so if that's closer to reality then what you suggest is
> fine with me.
> 
> /Emil

Are we now re-visiting Hal's suggestion then (during code review for
Milk-V Mars CM and Mars CM Lite) to split out the OPP tables and make
them per-board, as before introduction of the StarFive VisionFive 2 Lite
board(s) ?

Can we then do as from where we are now before this series:

- Move "the JH-7110" OPP table into jh7110-common-opp-1500.dtsi

- Each board jh7110-{deepcomputing,milkv,pine64,starfive}*.dts includes
said OPP dtsi file.

and for this series:

- Drop the adding of a new compatible

- Add "the JH-7110S" OPP table into jh7110-common-opp-1250.dtsi

- Use existing jh7110-* prefix for "JH-7110S" board dtsi and dts,
include jh7110-common.dtsi as usual, and include jh7110-common-opp-1250.dtsi

The exact filename pattern for the OPP tables I suggest here are
approximations, however that idea is my suggestion if we're just doing a
breakout of the tables and not a new compatible.

I am positive on having the 1250MHz OPP tables split out into dtsi
instead of stuffing them into the VisionFive 2 Lite common dtsi. That's
all it is?

-E

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from smtp-relay-internal-1.canonical.com (smtp-relay-internal-1.canonical.com [185.125.188.123])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id C071141760
	for <linux-kernel@vger.kernel.org>; Sat, 15 Nov 2025 16:34:11 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=185.125.188.123
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1763224453; cv=none; b=pTFrYL6S3jQk5FhrERDnwhhfGY0bH8qA/x36Fxf8KwlGsz8Nsm9oWMFKNQ8w6RkrsrQcL30AeK+naTmJdxXRKsp39E6FxaR2dc8/XlaEz1QuxqF8elYaURaUg8MvR4oc9K4CmP7CEko5IirDWaQRJDBvXaMCjWnilvpLv1pzEAc=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1763224453; c=relaxed/simple;
	bh=LWg/HA9nD1GVScuk8vJ+8EIMbwSRlSPmFBHPoFqjsPc=;
	h=MIME-Version:In-Reply-To:References:From:Date:Message-ID:Subject:
	 To:Cc:Content-Type; b=eSnFlD/WWAAoduOYM1YbxakFk0E/+ll600AwmWFjeRhTK+izGQTeu+1Gu4Uz/nPEB5DxJ0E/DH8/Mi7/vQ0+qsaAOgbSKk0gy5Z2BUQ/voE6ccIOKo0jiyHL20Ah9nKjDWDVZwN/AeJSX5s+zfgSwjF6n5tXZOdqngTGtX3biEI=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=canonical.com; spf=pass smtp.mailfrom=canonical.com; dkim=pass (4096-bit key) header.d=canonical.com header.i=@canonical.com header.b=iwYxFF4N; arc=none smtp.client-ip=185.125.188.123
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=canonical.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=canonical.com
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (4096-bit key) header.d=canonical.com header.i=@canonical.com header.b="iwYxFF4N"
Received: from mail-ej1-f71.google.com (mail-ej1-f71.google.com [209.85.218.71])
	(using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
	 key-exchange X25519 server-signature RSA-PSS (2048 bits) server-digest SHA256)
	(No client certificate requested)
	by smtp-relay-internal-1.canonical.com (Postfix) with ESMTPS id 6FD5F3F298
	for <linux-kernel@vger.kernel.org>; Sat, 15 Nov 2025 16:28:34 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=canonical.com;
	s=20251003; t=1763224114;
	bh=zSRKqRGpeB1Tv9JOYJHcuja/xurT3x7lGHvQj0bUM5w=;
	h=MIME-Version:In-Reply-To:References:From:Date:Message-ID:Subject:
	 To:Cc:Content-Type;
	b=iwYxFF4NItfI48Wf3uYZOfE6aLNxV0KEvA/zmY0O6ALgjxg2bkU5WsG4hAoQ0I2rn
	 sPQYVb0PcsYsMbYtUJZ3xPGOgpSvyu4wzXzxfv37B24dIaIFJBDK3ataS3gj2Px6AC
	 9MkflpO8opeGAz3AWSoDns6XVeBQSWho/4Mxu4MNUcH/tnxQ2ohStqO8ARzyjmHZMV
	 uOn+7U6/H2xBnW7jmQ7nDINJblIwpeMH02VgdMl3SW4u5Eh8lzbP13lO2EYey84uUB
	 igMJyAxvHOjWl7bOLea8T3/DgLOZBwMKxHhVB0tHe2aVOFexnOspEUnRdlwstm2VlX
	 tYkQYpHVO2vkreUAGtgmJUHgdSoR4BTEZxinIWWx9w1bdnIN5wp0GOiDZ83rg/fNC1
	 C2Au35nx+YEcrcbmjKexzX7S6HgoPI3do9JHnmwJkxPO8JS6l4rXiqRBdp2vx3y50i
	 KO/JvLYZGGsF6PfgeUbCEGUjs3PSLcKUfe1zr+TYuIeKWBHZgi/eB2ZAetUQUcWNR0
	 85Sp224fwOdzS//1UBIgpS2Zy7dXedUDzvzdCH2IQM2Q5GMY7Njtms1wStIfo2oumv
	 vT42cTnMHWTOO3R3yrHE9G0UzQNNMLRreYCDAS4zHJ8EgqjgA+V1J/ETU3ydZkSk8x
	 frEJAkzQESU5XJCXDHe1mQO0=
Received: by mail-ej1-f71.google.com with SMTP id a640c23a62f3a-b73586b1195so224968266b.3
        for <linux-kernel@vger.kernel.org>; Sat, 15 Nov 2025 08:28:34 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20230601; t=1763224114; x=1763828914;
        h=cc:to:subject:message-id:date:user-agent:from:references
         :in-reply-to:mime-version:x-gm-gg:x-gm-message-state:from:to:cc
         :subject:date:message-id:reply-to;
        bh=zSRKqRGpeB1Tv9JOYJHcuja/xurT3x7lGHvQj0bUM5w=;
        b=liDBsoyKg+yzqqcCHLPWM2tOStCmx6w61ClNtpkvwUmJGSIRPNOEnyyLT9g01omrGz
         aVk/oWNrBIjLOfhj0MlbXTOTB6voGdu6HiLbU8b1DnNhY5Fd+NpHc3EH81ku1b1kHKcV
         h6/NsdMm4GkROB7ClQBirtKYqikls6xyK2c7EvvTWJ3NIHcsriF5vfzcaI2ZpQ4nfPpX
         Ek3JTlYwMt8v7lse6SlXqzV8sKwh3/Lp+KFRiH8izvCk/kbLLyAA9Oh9jAPE7pJAKigS
         rqSa22A9f6ovCmcYsS+oSEChj1dAVDBEQApmsmR6QkFaX9hVsPekkf6+Hmn6OR20c78W
         OfFA==
X-Forwarded-Encrypted: i=1; AJvYcCXME7cI3MvQlzCB4X95qud135P4eBPsG19VXfXesBGZjEcfiip1zttFC0X4egFv+MVYNWN9lZC+lOCqfJ0=@vger.kernel.org
X-Gm-Message-State: AOJu0Yz1Swi6F1m+Vk/jZx/765QOaZojFCgcxISaU8VeF6lUSClaQXfL
	dKzZL+krKxMYYOruIwARPkTk+FNxENZrC0fl9TNpVIMTskhlvd8SJ+NZuU+6R7t4/5FjHOUEUGE
	HtAjIti1PDZxs5lUpFvZXOiQOB1r9g7vZpkthH5BgsskPr5VB+DVgLUfFH47yd96W8MI3ftXXDO
	EfGkiB/ybNLiRxo14VGOesVf3nn4XMml3uc1jEQ0hdqvoJ+LVYzBpGHs8q
X-Gm-Gg: ASbGncuYfHgfXFyWb0G6goi0TqXtzD4C2Di9j5VmyzK6RJhzX/1jqF3rS2Bsh7XlUit
	GcoQ2OKuX+a+HAEw+0P+LprcvWhf9OVaFkzPY4eptM5jWA0hHss3+v4MYs9wDagEp7RyJhQTj1Y
	oEHOCkb1rV0D4RMseivhgfAl7LEcaFXXeQlNMZIo3qal1DYny5Uf1ZvA==
X-Received: by 2002:a17:907:26cc:b0:b4a:d60d:fb68 with SMTP id a640c23a62f3a-b736787e579mr742372366b.6.1763224113864;
        Sat, 15 Nov 2025 08:28:33 -0800 (PST)
X-Google-Smtp-Source: AGHT+IH9nDCQNY6wZNR2oRy4Ui77frqHmUp7XPyVfQ4YwWP5a1VyUOxY0yBE4UbM+Ty6IlJi1smS24M8n7p6v570aBo=
X-Received: by 2002:a17:907:26cc:b0:b4a:d60d:fb68 with SMTP id
 a640c23a62f3a-b736787e579mr742369166b.6.1763224113387; Sat, 15 Nov 2025
 08:28:33 -0800 (PST)
Received: from 753933720722 named unknown by gmailapi.google.com with
 HTTPREST; Sat, 15 Nov 2025 08:28:32 -0800
Received: from 753933720722 named unknown by gmailapi.google.com with
 HTTPREST; Sat, 15 Nov 2025 08:28:32 -0800
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
In-Reply-To: <4a55301a-ef7e-4b47-8151-621cfba36ddd@freeshell.de>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <CAJM55Z_rczBo4D3HsC90QW1=fp3NWgK-tsEo6LHTZNXEBHTDqA@mail.gmail.com>
 <ZQ2PR01MB13076544E2136E7E7C2EEDA1E6CD2@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <CAJM55Z9KyNK1n4i9FxbLor4HTQKqK8WKA2svjPVvKXihw_E+sg@mail.gmail.com> <4a55301a-ef7e-4b47-8151-621cfba36ddd@freeshell.de>
From: Emil Renner Berthing <emil.renner.berthing@canonical.com>
User-Agent: alot/0.0.0
Date: Sat, 15 Nov 2025 08:28:32 -0800
X-Gm-Features: AWmQ_bnZh6g5E5Nmsvq88SYMPJTcp06SuprcwPyoDG2boVWgz7koXN7k-w6PH0I
Message-ID: <CAJM55Z-bRdNmnRZ7wi3PMOkzGYrxQEGk+7F67Pdu4WXwKmTjCQ@mail.gmail.com>
Subject: Re: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
To: Albert Ou <aou@eecs.berkeley.edu>, Bjorn Helgaas <bhelgaas@google.com>, 
	Conor Dooley <conor+dt@kernel.org>, E Shattow <e@freeshell.de>, 
	Hal Feng <hal.feng@starfivetech.com>, 
	Heinrich Schuchardt <heinrich.schuchardt@canonical.com>, 
	Krzysztof Kozlowski <krzk+dt@kernel.org>, =?UTF-8?Q?Krzysztof_Wilczy=C5=84ski?= <kwilczynski@kernel.org>, 
	Lorenzo Pieralisi <lpieralisi@kernel.org>, Manivannan Sadhasivam <mani@kernel.org>, 
	Palmer Dabbelt <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>, 
	"Rafael J . Wysocki" <rafael@kernel.org>, Rob Herring <robh@kernel.org>, 
	Viresh Kumar <viresh.kumar@linaro.org>
Cc: "devicetree@vger.kernel.org" <devicetree@vger.kernel.org>, 
	"linux-riscv@lists.infradead.org" <linux-riscv@lists.infradead.org>, 
	"linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
Content-Type: text/plain; charset="UTF-8"

Quoting E Shattow (2025-11-13 16:16:12)
>
>
> On 11/13/25 02:42, Emil Renner Berthing wrote:
> > Quoting Hal Feng (2025-11-13 04:42:05)
> >>> On 12.11.25 21:54, Emil Renner Berthing wrote:
> >>> Quoting Hal Feng (2025-11-07 10:55:22)
> >>>> VisionFive 2 Lite is a mini SBC based on the StarFive JH7110S
> >>>> industrial SoC which can run at -40~85 degrees centigrade and up to
> >>>> 1.25GHz.
> > [...]
> >>> Currently the JH7110 device trees are layed out like this, with a nice separation
> >>> between the SoC description and board descriptions:
> >>>
> >>> jh7110.dtsi               # JH7110 SoC description
> >>> |- jh7110-common.dtsi     # Peripherals common to all JH7110 boards
> >>>    |- jh7110-starfive-visionfive-2.dtsi # Peripherals common to VF2 boards
> >>>    |  |- <VF2 boards>     # Final VF2 board descriptions
> >>>    |- jh7110-milkv-marscm.dtsi # Peripherals common to Mars CM boards
> >>>    |  |- <Mars CM boards> # Final Mars CM board descriptions
> >>>    |- <other boards>      # Other JH7110 board descriptions
> >>>
> >>> With this series it moves to
> >>>
> >>> jh711x.dtsi
> >>> |- jh711x-common.dtsi
> >>>    |- jh7110-common.dtsi
> >>>    |  |- <jh7110 boards>
> >>>    |- jh7110s-common.dtsi
> >>>       |- <jh7110s boards>
> >>>
> >>> ..which I can't even give clear labels like above. In other words when new
> >>> patches are sent in it would not be easy to explain exactly where each change
> >>> should go and why.
> >>> I'm also worried that you'll find that more of the peripherals on the JH7110S
> >>> need special handling and a new jh7110s-... compatible string. Then I guess
> >>> they'll need to jump from jh7110x.dtsi two levels down to jh7110{,s}-
> >>> common.dtsi which then both describe SoC and board properties.
> >>>
> >>> If you're serious about calling this a new SoC then I'd expect something more
> >>> like this:
> >>>
> >>> jh711x.dtsi                  # Peripherals common to both SoCs
> >>> |- jh7110.dtsi               # JH7110 SoC description
> >>> |  |- jh7110-common.dtsi     # Peripherals common to all JH7110 boards
> >>> |     |- jh7110-starfive-visionfive-2.dtsi # Peripherals common to VF2 boards
> >>> |     |  |- <VF2 boards>     # Final VF2 board descriptions
> >>> |     |- jh7110-milkv-marscm.dtsi # Peripherals common to Mars CM boards
> >>> |     |  |- <Mars CM boards> # Final Mars CM board descriptions
> >>> |     |- <other boards>      # Other JH7110 board descriptions
> >>> |- jh7110s.dtsi              # JH7110S SoC description
> >>>    |- jh7110s-common.dtsi    # Peripherals common to all JH7110S boards
> >>>       |- <JH7110S boards>    # Final JH7110S board descriptions
> >>>
> >>> I know this will mean some duplication in jh7110{,s}-common.dtsi, but I
> >>> would prefer that to not having a clear explanation of what each file describes.
> >>>
> >>> Do you think this layout could work for you?
> >>
> >> Yeah, it is clearer for developers and maintainers.
> >>
> >> Considering Conor's suggestion, what about:
> >>
> >> jh7110.dtsi               # JH7110 SoC description
> >> |- jh7110-common.dtsi     # Peripherals common to all JH7110 boards
> >>    |- jh7110-starfive-visionfive-2.dtsi # Peripherals common to VF2 boards
> >>    |  |- <VF2 boards>     # Final VF2 board descriptions
> >>    |- jh7110-milkv-marscm.dtsi # Peripherals common to Mars CM boards
> >>    |  |- <Mars CM boards> # Final Mars CM board descriptions
> >>    |- <other boards>      # Other JH7110 board descriptions
> >> |- <JH7110S boards>
> >>
>
> JH-7110 and JH-7110I reference docs are listed (not any JH-7110S) at:
> https://doc-en.rvspace.org/Doc_Center/datasheet_0.html
>
> Does the JH-7110I use the OPP table for JH-7110 or JH-7110S?
>
> >> Move the opp table from jh7110.dtsi to jh7110-common.dtsi.
> >> Remove jh7110s-common.dtsi, because only one board uses JH7110S now.
> >
> > This patchset adds 2 different boards. Has this changed?
> >
> > Also this would mean that you're not using the starfive,jh7110s compatible or
> > any other starfive,jh7110s-.. compatible strings, so effectively you're not
> > treating it as a new chip, but just a board that needs a different opp table.
> >
> > I see now that the opp table is effectively the only difference between the two
> > chips in this patchset, so if that's closer to reality then what you suggest is
> > fine with me.
> >
> > /Emil
>
> Are we now re-visiting Hal's suggestion then (during code review for
> Milk-V Mars CM and Mars CM Lite) to split out the OPP tables and make
> them per-board, as before introduction of the StarFive VisionFive 2 Lite
> board(s) ?
>
> Can we then do as from where we are now before this series:
>
> - Move "the JH-7110" OPP table into jh7110-common-opp-1500.dtsi
>
> - Each board jh7110-{deepcomputing,milkv,pine64,starfive}*.dts includes
> said OPP dtsi file.
>
> and for this series:
>
> - Drop the adding of a new compatible
>
> - Add "the JH-7110S" OPP table into jh7110-common-opp-1250.dtsi
>
> - Use existing jh7110-* prefix for "JH-7110S" board dtsi and dts,
> include jh7110-common.dtsi as usual, and include jh7110-common-opp-1250.dtsi
>
> The exact filename pattern for the OPP tables I suggest here are
> approximations, however that idea is my suggestion if we're just doing a
> breakout of the tables and not a new compatible.
>
> I am positive on having the 1250MHz OPP tables split out into dtsi
> instead of stuffing them into the VisionFive 2 Lite common dtsi. That's
> all it is?

I think this suggestion makes sense if we're 100% sure the JH7110 and JH7110S
will only ever differ by the opp table. If there is any chance we'll need to add
different compatible string for some peripheral then I think Hal's suggestion
will be easier untangle. We'll even be able to do it without touching all the
board dts files once again.

I'm interested to hear Hal's opinion on this. Hopefully they'll have
more details
on the two version of the JH7110.

/Emil

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from CHN02-SH0-obe.outbound.protection.partner.outlook.cn (mail-sh0chn02on2100.outbound.protection.partner.outlook.cn [139.219.146.100])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 726D8315789;
	Mon, 17 Nov 2025 06:55:03 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=fail smtp.client-ip=139.219.146.100
ARC-Seal:i=2; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1763362514; cv=fail; b=kz+qSkSAXSUGqikCbQvyp7syW1ammTFNf++4eWhIKb6VEOv/rVJSK5+prvJJwQwglJnD8Tlfo3zEkdnoJEUBZMHKs+R5f4vRMSmPLWfQaXEr8RyCIay7meQodIG/wlexxVdZXn0HElanKFTspo1gHINHeVNjLUGCRkbsbgWWZos=
ARC-Message-Signature:i=2; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1763362514; c=relaxed/simple;
	bh=7706XAoj4xGs78W5MMZnY07Zb/+0yghteDxkqt+Tm70=;
	h=From:To:CC:Subject:Date:Message-ID:References:In-Reply-To:
	 Content-Type:MIME-Version; b=FiSg5dNeag5HydLZBFeD2o9Vh+eKynkjifQ9F7X2HYTkmGHjnsn69pP08gSZ1YKCupp8/A0RQA3mUmhB+xdtPERp1T3xCKNyKC6KVU7mJFPajEv8OsRPKEhStMsuPGXifLVJgJa8KiJ40TYbbfLkJQSQjrXPRJ9nUxnDXNFsqoI=
ARC-Authentication-Results:i=2; smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com; spf=pass smtp.mailfrom=starfivetech.com; arc=fail smtp.client-ip=139.219.146.100
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=starfivetech.com
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=lv+6BGClmr14FhXFZ9g0zJM8+LCEo+T4wSksuQDR175Ct/yxXsO73qwhMyloLrBm6ufomFjZ3GLeR64pcC+WULv1FRYSN0Xa4fdOR5VwbtuXA+WtCL7+aIADTPaDhLVeivE+p/Gm8U5oJ1k9z3BRgXMdI6qo6O7s4DcVcf9v6ZIuKzSQSiLaQ9Wcm0PxaN5h5HMGQeIS5YjTNsoC0Pp9yU8aHvZyPPtCtxkdBMnoAhfvOYtIrGoXreK0XJxBtgL/7OtJRWRmRp0tVGZlUtfR1ChXqur15iYDssvJ3G3avoPcPUm/4C1yiBGPIjNBRPnTbUFBFTZsSINxXPMf9c75rA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=7706XAoj4xGs78W5MMZnY07Zb/+0yghteDxkqt+Tm70=;
 b=czUpnsBxOJjtV8lXaDyABh+QJQ2mL44WN8dINeqNxkJTC3aZD51lz3Wtp9QOIhSflkPoOZARPFVO2iPyW0EMou6khJ6GfhGN34gSFnVDO66XmQgd6JsaoajDSAS51hNtBpc4VvMVCVuW73IYQsvqbE9R0NZrZWtCtT5bQFufHBg6nk1bD6QcWH1swrkpAkuvT+qdt4yWicPZfqq1XxXJJeIxf0/470EiYTbos2a9ZxqgaFsxIYBt5M5b9PMcEK9oTy2IVd60HrsIzPRS11rJj9shah1+eCkvZ+9/N7gf50AmaSipo8oJ7AEQtwRRpNMjohEZaZgVg+ih8l5hjw83XQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=starfivetech.com; dmarc=pass action=none
 header.from=starfivetech.com; dkim=pass header.d=starfivetech.com; arc=none
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:7::14) by ZQ2PR01MB1145.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:6::11) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9320.21; Mon, 17 Nov
 2025 06:54:51 +0000
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7]) by ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7%6]) with mapi id 15.20.9320.021; Mon, 17 Nov 2025
 06:54:51 +0000
From: Hal Feng <hal.feng@starfivetech.com>
To: Emil Renner Berthing <emil.renner.berthing@canonical.com>, Albert Ou
	<aou@eecs.berkeley.edu>, Bjorn Helgaas <bhelgaas@google.com>, Conor Dooley
	<conor+dt@kernel.org>, E Shattow <e@freeshell.de>, Heinrich Schuchardt
	<heinrich.schuchardt@canonical.com>, Krzysztof Kozlowski
	<krzk+dt@kernel.org>, =?utf-8?B?S3J6eXN6dG9mIFdpbGN6ecWEc2tp?=
	<kwilczynski@kernel.org>, Lorenzo Pieralisi <lpieralisi@kernel.org>,
	Manivannan Sadhasivam <mani@kernel.org>, Palmer Dabbelt <palmer@dabbelt.com>,
	Paul Walmsley <pjw@kernel.org>, "Rafael J . Wysocki" <rafael@kernel.org>, Rob
 Herring <robh@kernel.org>, Viresh Kumar <viresh.kumar@linaro.org>
CC: "devicetree@vger.kernel.org" <devicetree@vger.kernel.org>,
	"linux-riscv@lists.infradead.org" <linux-riscv@lists.infradead.org>,
	"linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
Subject: RE: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
Thread-Topic: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
Thread-Index:
 AQHcT8yr76WB0y2LYU6wjdN+ecXGd7TvGAmAgADiXSCAAHpnAIAATH0AgAM44ACAAnXysA==
Date: Mon, 17 Nov 2025 06:54:51 +0000
Message-ID:
 <ZQ2PR01MB13075CDDEFC2F03C837E1B31E6C92@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <CAJM55Z_rczBo4D3HsC90QW1=fp3NWgK-tsEo6LHTZNXEBHTDqA@mail.gmail.com>
 <ZQ2PR01MB13076544E2136E7E7C2EEDA1E6CD2@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <CAJM55Z9KyNK1n4i9FxbLor4HTQKqK8WKA2svjPVvKXihw_E+sg@mail.gmail.com>
 <4a55301a-ef7e-4b47-8151-621cfba36ddd@freeshell.de>
 <CAJM55Z-bRdNmnRZ7wi3PMOkzGYrxQEGk+7F67Pdu4WXwKmTjCQ@mail.gmail.com>
In-Reply-To:
 <CAJM55Z-bRdNmnRZ7wi3PMOkzGYrxQEGk+7F67Pdu4WXwKmTjCQ@mail.gmail.com>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=starfivetech.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: ZQ2PR01MB1307:EE_|ZQ2PR01MB1145:EE_
x-ms-office365-filtering-correlation-id: 7c3e553a-3110-4ade-f573-08de25a634c7
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam:
 BCL:0;ARA:13230040|7416014|1800799024|366016|41320700013|921020|38070700021;
x-microsoft-antispam-message-info:
 XC2zdamCrvsmZibk6FS8WMl1UNMj7/ghLnbFC9jJjOKPMKLoLychQIG3Yo8dtRtEYICobAICRS7iNyXMd8yCvfW6GeAb1SUtE0c6BU9DswbLGw6qKcoigdQYGlWAg6ooKR7pI39iGnSsqsNceBl5X994UhjwnA4kv6Jusyv9UY7p8A1cfTJBxtyftqNKqYqhQaoE9awMcNgriPHbYkDj//j8HdwZfheN6ICNYTYKP0UCW2n6A52fQ/N5h8PpcJH3enzxbNkg6bJCzTKeDgIiU4MKnRnhdfLTXid9nmik5POTdpaCwvraEVWMImejSnJgGeFHIRx6Xk7YoQMkpevQb4byfbpuVHONmrueTHDWJcmn+rADL56hhBOoVkYmxxMS5qnpVecgoSSiOHB1MBV73KsoQxI/NRyRpbD7OnyAid1k8NKrdpp0SKzhKscoq9lGCjzQS6akzQULJVCNcS0I2n3cX/cq9A76ae2EKpndUuhWJ8PaA2aFEFVip38bK5rmdrkLd5qEYsO1AMl5IRZ0nD2YYpiBILOndZBMBh8iTyySu05liu8eU4GOHGUIaN7qnSJjacZ343K6YUJ3I1FiLxfpTuqoh919CRfHEXqM5Wc=
x-forefront-antispam-report:
 CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn;PTR:;CAT:NONE;SFS:(13230040)(7416014)(1800799024)(366016)(41320700013)(921020)(38070700021);DIR:OUT;SFP:1102;
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0:
 =?utf-8?B?Mm5MSnBYeFF0M1dLUkcrSUNKWngwWFdXWFpwdnF4R1ZNUGVhdGNVTVFUaUJj?=
 =?utf-8?B?eXUwdkJXM3RjNUROUENPOEZyOVI0RkZ0bENtT2NFYW84RFpzNlpGdVJKUVlO?=
 =?utf-8?B?U1VVNGVuNmNFUTRiSnpIKzJlWFJVYzh5aEJjZEZZS3JiS2xkV1pTU0lXbm82?=
 =?utf-8?B?OEFQMUVRQ1FpWWJmZlgwR1ltdXg5TWw5UW9NOWFQSVlNanZBekJNSzhhSFpt?=
 =?utf-8?B?SFZZL3lCRUlaUko5aWJZR0IwZit6YzdTSFMyT3JlQnlTNXp5dTNpd0RRTXZT?=
 =?utf-8?B?MTZaTDBPS093TG9hVmR2YmhFeXA5alNOQ3g5bWFVc21TVlp6eUJycmd4ZVFH?=
 =?utf-8?B?RW5XOTNZTmpOMUZSbDIwcTkyWjBnZ21wTXM0OEdQYkt3Qy9ObVBaekFwMTNz?=
 =?utf-8?B?aHVndnZOQTIyUFhZdEZ5S2V1b3Z3NHd6NjQ4QWROUUNYUjc5dGlBcE5iZGV2?=
 =?utf-8?B?Mm9udWZ6bnVuVHNrZWNMODhOYjNLc21YaGx3aHYrQzlEREUyN1YwTFVLMFo0?=
 =?utf-8?B?c3RIMXJiREdiOG9ydFE4Q1VQMlNTNUpHTU51VGtuUkMwVE8zcmZQcytoYVRl?=
 =?utf-8?B?dFpETHVQR21uMHpJdFBDeGhlMEs5dkxEeHBaTzhOOThLTWZIQklCazMybllm?=
 =?utf-8?B?OTN1SkVUb3l2enRQeDFTcitCalFZNy9TYkcyUWNZQmdUZVdhdWJnb05SbjFD?=
 =?utf-8?B?K0JEVXpJTlYybW1nUUNqUVh3Q0VRWXNGYStEcHJzLzdjNkdkYk1uK0l1QXVP?=
 =?utf-8?B?MFhJNE9FZXM3cllsQ1N2MmpiUTFKdHM3eTZEYXFUaldsNUdxL2pEMW01Wk92?=
 =?utf-8?B?M1lGd2NOMVVJY1ZYN0RHNXg0SlFGZVVuOHpVMnhiQVY3NFd5QXBTS2FKUHhu?=
 =?utf-8?B?N1hCNnZaVFgzV0V0cHczOXBPSDdOVFh5eWIrUTk5TDM1OXM1RmhrRTJHb2tS?=
 =?utf-8?B?aWRMTEdyV002WUZ1aUVtbjNuc3p2K3ViN3BBdlVySC9yZ09xYU1MdEZNTUtY?=
 =?utf-8?B?UkVZMXY3QjMrMEp4SFY5QzdPemZORk9Ta2R4ZjFlZmxwYW5nd2k5Zmpidm9G?=
 =?utf-8?B?YWZqa0JWZHRQa0xMajNPYzBpM004STVyZE9WSGNrNUozSWNHdUxoanUveWxy?=
 =?utf-8?B?WjBVQi8rSkJ1UGQ3eC9mRWVHUVMrK1Q2TVE1aWR3WDVpQXpTUCtmSUx3MDhx?=
 =?utf-8?B?UGpsc3ZvTTM1SkpQaXE2R0NBbTd5WGZacjRyVk54U1h6WXgrdWtoRHgxVmJO?=
 =?utf-8?B?bXRNZ0cxcU5IaFRoL0VpdDY2dWkrTVBkYVM3bkpaem5LcExCUlBFUUN6YytK?=
 =?utf-8?B?TVhZT25mMm82YUVzTmIwaTMzTnFzcWZoMDFDMkM3ayttYVZJYzl4VWlINDV6?=
 =?utf-8?B?M3VVWmcrbjMwQTlCTDdySlJwRDFjT1BrVy9qZHdza0xtZE1lYUp2OGRYTmJj?=
 =?utf-8?B?cE5SaWQ2Z3Z3elZmdXFFWlZXNmk4aXYvd0o2cEFHNU52Zmd5VWo5ZkNkOGdp?=
 =?utf-8?B?cEcwQWQyc2NrT3YyRkI5ZGhDRVFCYWI5RnhsSzc0QWF2b0lHVlZrN3JjdWJE?=
 =?utf-8?B?WXJhVE9Sa2ordjV0aE5mWGdoZXRxbWYydGV3SUUzRjU0SXI5ZStRTTc4NnFv?=
 =?utf-8?B?d01DR3haeUlQM1BsME0vV0F4VHppSnorZUdDaGErZEUwV0ZHWUMwMGFrVnJy?=
 =?utf-8?B?MWJDQlVRc0pKNnV0NGppM2ZhKzcwZnNUcGNuNEh3bzUzOVR6T3ljY3JHQ2pO?=
 =?utf-8?B?ZkxiV0hOdmhBR1FrcEJZNWJSMDRGcEZtd2NoVmFYUFdsS254bHRaS0Y5dzNI?=
 =?utf-8?B?OHR0Nk51VUlFQjRzUW40ZkZudW1sZUEzRVM0R2N3eitvamRSeE5HODRHeW9C?=
 =?utf-8?B?SFZncEZCeDZzS1RZWFM2ZitqclA2MWZNRWN2c09VOXVpenFEQWlReEFhMmU3?=
 =?utf-8?B?dEZCWDRVSGpzUXhKeWFHUytwWDZ4SGNVbmNhUmpWN2RKQWgxS1FFQnVYWWha?=
 =?utf-8?B?MmlaVjgrNFMvWGhjQS8vRzJLRUsxWXBEeWlRUFlBY1RqMVVZM3M2RFpGeGY5?=
 =?utf-8?B?YkNDTlR4S0ZzQmpRNXhMKzZCNnZVMkNBZG5PdUswMmp6STByUElXVXNwRm5j?=
 =?utf-8?Q?JpUZAD8xx9GkPs0cFLGaD0bZh?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-OriginatorOrg: starfivetech.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
X-MS-Exchange-CrossTenant-Network-Message-Id: 7c3e553a-3110-4ade-f573-08de25a634c7
X-MS-Exchange-CrossTenant-originalarrivaltime: 17 Nov 2025 06:54:51.3245
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 06fe3fa3-1221-43d3-861b-5a4ee687a85c
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: JL8Z3dQmKcPFHc3KgmwGXPJMlYAWBKiHSsl0HnKfZpherZXQov/izULyJIeZjooXmoO5SGaLKVAFt0r1C6UtUszMGwfZPPzz2DKTiFiLjv4=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: ZQ2PR01MB1145

PiBPbiAxNi4xMS4yNSAwMDoyOSwgRW1pbCBSZW5uZXIgQmVydGhpbmcgd3JvdGU6DQo+IFF1b3Rp
bmcgRSBTaGF0dG93ICgyMDI1LTExLTEzIDE2OjE2OjEyKQ0KPiA+DQo+ID4NCj4gPiBPbiAxMS8x
My8yNSAwMjo0MiwgRW1pbCBSZW5uZXIgQmVydGhpbmcgd3JvdGU6DQo+ID4gPiBRdW90aW5nIEhh
bCBGZW5nICgyMDI1LTExLTEzIDA0OjQyOjA1KQ0KPiA+ID4+PiBPbiAxMi4xMS4yNSAyMTo1NCwg
RW1pbCBSZW5uZXIgQmVydGhpbmcgd3JvdGU6DQo+ID4gPj4+IFF1b3RpbmcgSGFsIEZlbmcgKDIw
MjUtMTEtMDcgMTA6NTU6MjIpDQo+ID4gPj4+PiBWaXNpb25GaXZlIDIgTGl0ZSBpcyBhIG1pbmkg
U0JDIGJhc2VkIG9uIHRoZSBTdGFyRml2ZSBKSDcxMTBTDQo+ID4gPj4+PiBpbmR1c3RyaWFsIFNv
QyB3aGljaCBjYW4gcnVuIGF0IC00MH44NSBkZWdyZWVzIGNlbnRpZ3JhZGUgYW5kIHVwDQo+ID4g
Pj4+PiB0byAxLjI1R0h6Lg0KPiA+ID4gWy4uLl0NCj4gPiA+Pj4gQ3VycmVudGx5IHRoZSBKSDcx
MTAgZGV2aWNlIHRyZWVzIGFyZSBsYXllZCBvdXQgbGlrZSB0aGlzLCB3aXRoIGENCj4gPiA+Pj4g
bmljZSBzZXBhcmF0aW9uIGJldHdlZW4gdGhlIFNvQyBkZXNjcmlwdGlvbiBhbmQgYm9hcmQgZGVz
Y3JpcHRpb25zOg0KPiA+ID4+Pg0KPiA+ID4+PiBqaDcxMTAuZHRzaSAgICAgICAgICAgICAgICMg
Skg3MTEwIFNvQyBkZXNjcmlwdGlvbg0KPiA+ID4+PiB8LSBqaDcxMTAtY29tbW9uLmR0c2kgICAg
ICMgUGVyaXBoZXJhbHMgY29tbW9uIHRvIGFsbCBKSDcxMTAgYm9hcmRzDQo+ID4gPj4+ICAgIHwt
IGpoNzExMC1zdGFyZml2ZS12aXNpb25maXZlLTIuZHRzaSAjIFBlcmlwaGVyYWxzIGNvbW1vbiB0
byBWRjINCj4gYm9hcmRzDQo+ID4gPj4+ICAgIHwgIHwtIDxWRjIgYm9hcmRzPiAgICAgIyBGaW5h
bCBWRjIgYm9hcmQgZGVzY3JpcHRpb25zDQo+ID4gPj4+ICAgIHwtIGpoNzExMC1taWxrdi1tYXJz
Y20uZHRzaSAjIFBlcmlwaGVyYWxzIGNvbW1vbiB0byBNYXJzIENNDQo+IGJvYXJkcw0KPiA+ID4+
PiAgICB8ICB8LSA8TWFycyBDTSBib2FyZHM+ICMgRmluYWwgTWFycyBDTSBib2FyZCBkZXNjcmlw
dGlvbnMNCj4gPiA+Pj4gICAgfC0gPG90aGVyIGJvYXJkcz4gICAgICAjIE90aGVyIEpINzExMCBi
b2FyZCBkZXNjcmlwdGlvbnMNCj4gPiA+Pj4NCj4gPiA+Pj4gV2l0aCB0aGlzIHNlcmllcyBpdCBt
b3ZlcyB0bw0KPiA+ID4+Pg0KPiA+ID4+PiBqaDcxMXguZHRzaQ0KPiA+ID4+PiB8LSBqaDcxMXgt
Y29tbW9uLmR0c2kNCj4gPiA+Pj4gICAgfC0gamg3MTEwLWNvbW1vbi5kdHNpDQo+ID4gPj4+ICAg
IHwgIHwtIDxqaDcxMTAgYm9hcmRzPg0KPiA+ID4+PiAgICB8LSBqaDcxMTBzLWNvbW1vbi5kdHNp
DQo+ID4gPj4+ICAgICAgIHwtIDxqaDcxMTBzIGJvYXJkcz4NCj4gPiA+Pj4NCj4gPiA+Pj4gLi53
aGljaCBJIGNhbid0IGV2ZW4gZ2l2ZSBjbGVhciBsYWJlbHMgbGlrZSBhYm92ZS4gSW4gb3RoZXIg
d29yZHMNCj4gPiA+Pj4gd2hlbiBuZXcgcGF0Y2hlcyBhcmUgc2VudCBpbiBpdCB3b3VsZCBub3Qg
YmUgZWFzeSB0byBleHBsYWluDQo+ID4gPj4+IGV4YWN0bHkgd2hlcmUgZWFjaCBjaGFuZ2Ugc2hv
dWxkIGdvIGFuZCB3aHkuDQo+ID4gPj4+IEknbSBhbHNvIHdvcnJpZWQgdGhhdCB5b3UnbGwgZmlu
ZCB0aGF0IG1vcmUgb2YgdGhlIHBlcmlwaGVyYWxzIG9uDQo+ID4gPj4+IHRoZSBKSDcxMTBTIG5l
ZWQgc3BlY2lhbCBoYW5kbGluZyBhbmQgYSBuZXcgamg3MTEwcy0uLi4gY29tcGF0aWJsZQ0KPiA+
ID4+PiBzdHJpbmcuIFRoZW4gSSBndWVzcyB0aGV5J2xsIG5lZWQgdG8ganVtcCBmcm9tIGpoNzEx
MHguZHRzaSB0d28NCj4gPiA+Pj4gbGV2ZWxzIGRvd24gdG8gamg3MTEweyxzfS0gY29tbW9uLmR0
c2kgd2hpY2ggdGhlbiBib3RoIGRlc2NyaWJlIFNvQw0KPiBhbmQgYm9hcmQgcHJvcGVydGllcy4N
Cj4gPiA+Pj4NCj4gPiA+Pj4gSWYgeW91J3JlIHNlcmlvdXMgYWJvdXQgY2FsbGluZyB0aGlzIGEg
bmV3IFNvQyB0aGVuIEknZCBleHBlY3QNCj4gPiA+Pj4gc29tZXRoaW5nIG1vcmUgbGlrZSB0aGlz
Og0KPiA+ID4+Pg0KPiA+ID4+PiBqaDcxMXguZHRzaSAgICAgICAgICAgICAgICAgICMgUGVyaXBo
ZXJhbHMgY29tbW9uIHRvIGJvdGggU29Dcw0KPiA+ID4+PiB8LSBqaDcxMTAuZHRzaSAgICAgICAg
ICAgICAgICMgSkg3MTEwIFNvQyBkZXNjcmlwdGlvbg0KPiA+ID4+PiB8ICB8LSBqaDcxMTAtY29t
bW9uLmR0c2kgICAgICMgUGVyaXBoZXJhbHMgY29tbW9uIHRvIGFsbCBKSDcxMTAgYm9hcmRzDQo+
ID4gPj4+IHwgICAgIHwtIGpoNzExMC1zdGFyZml2ZS12aXNpb25maXZlLTIuZHRzaSAjIFBlcmlw
aGVyYWxzIGNvbW1vbiB0byBWRjINCj4gYm9hcmRzDQo+ID4gPj4+IHwgICAgIHwgIHwtIDxWRjIg
Ym9hcmRzPiAgICAgIyBGaW5hbCBWRjIgYm9hcmQgZGVzY3JpcHRpb25zDQo+ID4gPj4+IHwgICAg
IHwtIGpoNzExMC1taWxrdi1tYXJzY20uZHRzaSAjIFBlcmlwaGVyYWxzIGNvbW1vbiB0byBNYXJz
IENNDQo+IGJvYXJkcw0KPiA+ID4+PiB8ICAgICB8ICB8LSA8TWFycyBDTSBib2FyZHM+ICMgRmlu
YWwgTWFycyBDTSBib2FyZCBkZXNjcmlwdGlvbnMNCj4gPiA+Pj4gfCAgICAgfC0gPG90aGVyIGJv
YXJkcz4gICAgICAjIE90aGVyIEpINzExMCBib2FyZCBkZXNjcmlwdGlvbnMNCj4gPiA+Pj4gfC0g
amg3MTEwcy5kdHNpICAgICAgICAgICAgICAjIEpINzExMFMgU29DIGRlc2NyaXB0aW9uDQo+ID4g
Pj4+ICAgIHwtIGpoNzExMHMtY29tbW9uLmR0c2kgICAgIyBQZXJpcGhlcmFscyBjb21tb24gdG8g
YWxsIEpINzExMFMNCj4gYm9hcmRzDQo+ID4gPj4+ICAgICAgIHwtIDxKSDcxMTBTIGJvYXJkcz4g
ICAgIyBGaW5hbCBKSDcxMTBTIGJvYXJkIGRlc2NyaXB0aW9ucw0KPiA+ID4+Pg0KPiA+ID4+PiBJ
IGtub3cgdGhpcyB3aWxsIG1lYW4gc29tZSBkdXBsaWNhdGlvbiBpbiBqaDcxMTB7LHN9LWNvbW1v
bi5kdHNpLA0KPiA+ID4+PiBidXQgSSB3b3VsZCBwcmVmZXIgdGhhdCB0byBub3QgaGF2aW5nIGEg
Y2xlYXIgZXhwbGFuYXRpb24gb2Ygd2hhdCBlYWNoIGZpbGUNCj4gZGVzY3JpYmVzLg0KPiA+ID4+
Pg0KPiA+ID4+PiBEbyB5b3UgdGhpbmsgdGhpcyBsYXlvdXQgY291bGQgd29yayBmb3IgeW91Pw0K
PiA+ID4+DQo+ID4gPj4gWWVhaCwgaXQgaXMgY2xlYXJlciBmb3IgZGV2ZWxvcGVycyBhbmQgbWFp
bnRhaW5lcnMuDQo+ID4gPj4NCj4gPiA+PiBDb25zaWRlcmluZyBDb25vcidzIHN1Z2dlc3Rpb24s
IHdoYXQgYWJvdXQ6DQo+ID4gPj4NCj4gPiA+PiBqaDcxMTAuZHRzaSAgICAgICAgICAgICAgICMg
Skg3MTEwIFNvQyBkZXNjcmlwdGlvbg0KPiA+ID4+IHwtIGpoNzExMC1jb21tb24uZHRzaSAgICAg
IyBQZXJpcGhlcmFscyBjb21tb24gdG8gYWxsIEpINzExMCBib2FyZHMNCj4gPiA+PiAgICB8LSBq
aDcxMTAtc3RhcmZpdmUtdmlzaW9uZml2ZS0yLmR0c2kgIyBQZXJpcGhlcmFscyBjb21tb24gdG8g
VkYyIGJvYXJkcw0KPiA+ID4+ICAgIHwgIHwtIDxWRjIgYm9hcmRzPiAgICAgIyBGaW5hbCBWRjIg
Ym9hcmQgZGVzY3JpcHRpb25zDQo+ID4gPj4gICAgfC0gamg3MTEwLW1pbGt2LW1hcnNjbS5kdHNp
ICMgUGVyaXBoZXJhbHMgY29tbW9uIHRvIE1hcnMgQ00gYm9hcmRzDQo+ID4gPj4gICAgfCAgfC0g
PE1hcnMgQ00gYm9hcmRzPiAjIEZpbmFsIE1hcnMgQ00gYm9hcmQgZGVzY3JpcHRpb25zDQo+ID4g
Pj4gICAgfC0gPG90aGVyIGJvYXJkcz4gICAgICAjIE90aGVyIEpINzExMCBib2FyZCBkZXNjcmlw
dGlvbnMNCj4gPiA+PiB8LSA8Skg3MTEwUyBib2FyZHM+DQo+ID4gPj4NCj4gPg0KPiA+IEpILTcx
MTAgYW5kIEpILTcxMTBJIHJlZmVyZW5jZSBkb2NzIGFyZSBsaXN0ZWQgKG5vdCBhbnkgSkgtNzEx
MFMpIGF0Og0KPiA+IGh0dHBzOi8vZG9jLWVuLnJ2c3BhY2Uub3JnL0RvY19DZW50ZXIvZGF0YXNo
ZWV0XzAuaHRtbA0KPiA+DQo+ID4gRG9lcyB0aGUgSkgtNzExMEkgdXNlIHRoZSBPUFAgdGFibGUg
Zm9yIEpILTcxMTAgb3IgSkgtNzExMFM/DQo+ID4NCj4gPiA+PiBNb3ZlIHRoZSBvcHAgdGFibGUg
ZnJvbSBqaDcxMTAuZHRzaSB0byBqaDcxMTAtY29tbW9uLmR0c2kuDQo+ID4gPj4gUmVtb3ZlIGpo
NzExMHMtY29tbW9uLmR0c2ksIGJlY2F1c2Ugb25seSBvbmUgYm9hcmQgdXNlcyBKSDcxMTBTDQo+
IG5vdy4NCj4gPiA+DQo+ID4gPiBUaGlzIHBhdGNoc2V0IGFkZHMgMiBkaWZmZXJlbnQgYm9hcmRz
LiBIYXMgdGhpcyBjaGFuZ2VkPw0KPiA+ID4NCj4gPiA+IEFsc28gdGhpcyB3b3VsZCBtZWFuIHRo
YXQgeW91J3JlIG5vdCB1c2luZyB0aGUgc3RhcmZpdmUsamg3MTEwcw0KPiA+ID4gY29tcGF0aWJs
ZSBvciBhbnkgb3RoZXIgc3RhcmZpdmUsamg3MTEwcy0uLiBjb21wYXRpYmxlIHN0cmluZ3MsIHNv
DQo+ID4gPiBlZmZlY3RpdmVseSB5b3UncmUgbm90IHRyZWF0aW5nIGl0IGFzIGEgbmV3IGNoaXAs
IGJ1dCBqdXN0IGEgYm9hcmQgdGhhdCBuZWVkcyBhDQo+IGRpZmZlcmVudCBvcHAgdGFibGUuDQo+
ID4gPg0KPiA+ID4gSSBzZWUgbm93IHRoYXQgdGhlIG9wcCB0YWJsZSBpcyBlZmZlY3RpdmVseSB0
aGUgb25seSBkaWZmZXJlbmNlDQo+ID4gPiBiZXR3ZWVuIHRoZSB0d28gY2hpcHMgaW4gdGhpcyBw
YXRjaHNldCwgc28gaWYgdGhhdCdzIGNsb3NlciB0bw0KPiA+ID4gcmVhbGl0eSB0aGVuIHdoYXQg
eW91IHN1Z2dlc3QgaXMgZmluZSB3aXRoIG1lLg0KPiA+ID4NCj4gPiA+IC9FbWlsDQo+ID4NCj4g
PiBBcmUgd2Ugbm93IHJlLXZpc2l0aW5nIEhhbCdzIHN1Z2dlc3Rpb24gdGhlbiAoZHVyaW5nIGNv
ZGUgcmV2aWV3IGZvcg0KPiA+IE1pbGstViBNYXJzIENNIGFuZCBNYXJzIENNIExpdGUpIHRvIHNw
bGl0IG91dCB0aGUgT1BQIHRhYmxlcyBhbmQgbWFrZQ0KPiA+IHRoZW0gcGVyLWJvYXJkLCBhcyBi
ZWZvcmUgaW50cm9kdWN0aW9uIG9mIHRoZSBTdGFyRml2ZSBWaXNpb25GaXZlIDINCj4gPiBMaXRl
DQo+ID4gYm9hcmQocykgPw0KPiA+DQo+ID4gQ2FuIHdlIHRoZW4gZG8gYXMgZnJvbSB3aGVyZSB3
ZSBhcmUgbm93IGJlZm9yZSB0aGlzIHNlcmllczoNCj4gPg0KPiA+IC0gTW92ZSAidGhlIEpILTcx
MTAiIE9QUCB0YWJsZSBpbnRvIGpoNzExMC1jb21tb24tb3BwLTE1MDAuZHRzaQ0KPiA+DQo+ID4g
LSBFYWNoIGJvYXJkIGpoNzExMC17ZGVlcGNvbXB1dGluZyxtaWxrdixwaW5lNjQsc3RhcmZpdmV9
Ki5kdHMNCj4gPiBpbmNsdWRlcyBzYWlkIE9QUCBkdHNpIGZpbGUuDQo+ID4NCj4gPiBhbmQgZm9y
IHRoaXMgc2VyaWVzOg0KPiA+DQo+ID4gLSBEcm9wIHRoZSBhZGRpbmcgb2YgYSBuZXcgY29tcGF0
aWJsZQ0KPiA+DQo+ID4gLSBBZGQgInRoZSBKSC03MTEwUyIgT1BQIHRhYmxlIGludG8gamg3MTEw
LWNvbW1vbi1vcHAtMTI1MC5kdHNpDQo+ID4NCj4gPiAtIFVzZSBleGlzdGluZyBqaDcxMTAtKiBw
cmVmaXggZm9yICJKSC03MTEwUyIgYm9hcmQgZHRzaSBhbmQgZHRzLA0KPiA+IGluY2x1ZGUgamg3
MTEwLWNvbW1vbi5kdHNpIGFzIHVzdWFsLCBhbmQgaW5jbHVkZQ0KPiA+IGpoNzExMC1jb21tb24t
b3BwLTEyNTAuZHRzaQ0KPiA+DQo+ID4gVGhlIGV4YWN0IGZpbGVuYW1lIHBhdHRlcm4gZm9yIHRo
ZSBPUFAgdGFibGVzIEkgc3VnZ2VzdCBoZXJlIGFyZQ0KPiA+IGFwcHJveGltYXRpb25zLCBob3dl
dmVyIHRoYXQgaWRlYSBpcyBteSBzdWdnZXN0aW9uIGlmIHdlJ3JlIGp1c3QgZG9pbmcNCj4gPiBh
IGJyZWFrb3V0IG9mIHRoZSB0YWJsZXMgYW5kIG5vdCBhIG5ldyBjb21wYXRpYmxlLg0KPiA+DQo+
ID4gSSBhbSBwb3NpdGl2ZSBvbiBoYXZpbmcgdGhlIDEyNTBNSHogT1BQIHRhYmxlcyBzcGxpdCBv
dXQgaW50byBkdHNpDQo+ID4gaW5zdGVhZCBvZiBzdHVmZmluZyB0aGVtIGludG8gdGhlIFZpc2lv
bkZpdmUgMiBMaXRlIGNvbW1vbiBkdHNpLg0KPiA+IFRoYXQncyBhbGwgaXQgaXM/DQo+IA0KPiBJ
IHRoaW5rIHRoaXMgc3VnZ2VzdGlvbiBtYWtlcyBzZW5zZSBpZiB3ZSdyZSAxMDAlIHN1cmUgdGhl
IEpINzExMCBhbmQNCj4gSkg3MTEwUyB3aWxsIG9ubHkgZXZlciBkaWZmZXIgYnkgdGhlIG9wcCB0
YWJsZS4gSWYgdGhlcmUgaXMgYW55IGNoYW5jZSB3ZSdsbCBuZWVkDQo+IHRvIGFkZCBkaWZmZXJl
bnQgY29tcGF0aWJsZSBzdHJpbmcgZm9yIHNvbWUgcGVyaXBoZXJhbCB0aGVuIEkgdGhpbmsgSGFs
J3MNCj4gc3VnZ2VzdGlvbiB3aWxsIGJlIGVhc2llciB1bnRhbmdsZS4gV2UnbGwgZXZlbiBiZSBh
YmxlIHRvIGRvIGl0IHdpdGhvdXQgdG91Y2hpbmcNCj4gYWxsIHRoZSBib2FyZCBkdHMgZmlsZXMg
b25jZSBhZ2Fpbi4NCj4gDQo+IEknbSBpbnRlcmVzdGVkIHRvIGhlYXIgSGFsJ3Mgb3BpbmlvbiBv
biB0aGlzLiBIb3BlZnVsbHkgdGhleSdsbCBoYXZlIG1vcmUgZGV0YWlscw0KPiBvbiB0aGUgdHdv
IHZlcnNpb24gb2YgdGhlIEpINzExMC4NCg0KSGVyZSBhcmUgdGhlIGRpZmZlcmVuY2VzIGJldHdl
ZW4gSkg3MTEwIGFuZCBKSDcxMTBTOiANCkpINzExMCBzdXBwb3J0cyAwfjcwIGRlZ3JlZXMgY2Vu
dGlncmFkZSBhbmQgdXAgdG8gMS41R0h6Lg0KSkg3MTEwUyBzdXBwb3J0cyAtNDB+ODUgZGVncmVl
cyBjZW50aWdyYWRlIGFuZCB1cCB0byAxLjI1R0h6Lg0KDQpJIHByZWZlciB0byBrZWVwICJzdGFy
Zml2ZSxqaDcxMTBzIiBjb21wYXRpYmxlLCBiZWNhdXNlICJKSDcxMTBTIiBpcyB0aGUgY2hpcCBu
YW1lDQppbiBTdGFyRml2ZSBkb2N1bWVudHMgYW5kIHRoZSBuYW1lIHByaW50ZWQgb24gdGhlIGNo
aXAuIEl0IGlzIGVhc2llciBmb3IgdGhlIHVzZXJzIHRvDQprbm93IHdoaWNoIGNoaXAgdGhleSBh
cmUgdXNpbmcgYW5kIHNlbGVjdCB0aGUgY29ycmVjdCBkZXZpY2UgdHJlZS4NCg0KQW5kIHBhdGNo
IFsxXSBhbmQgWzJdIGhhZCBhY2NlcHRlZCB0aGUgInN0YXJmaXZlLGpoNzExMHMiIGNvbXBhdGli
bGUuDQpbMV0gaHR0cHM6Ly9sb3JlLmtlcm5lbC5vcmcvYWxsL2p1cm5mcHVmbGw0dHd2MmhmcDJk
djZxazZkM2dyN2dmbWVrNWN6aWdiNWJjb242MzZxQG9wYjZocmRiNDI0cC8NClsyXSBodHRwczov
L2xvcmUua2VybmVsLm9yZy9hbGwvQ0FBaFNkeTJKcitFb1c5QVpvb1JEYTEyS3g5TVNTYUJhRFhi
SlVvVnltMXFUdDNyMC1RQG1haWwuZ21haWwuY29tLw0KDQpCZXN0IHJlZ2FyZHMsDQpIYWwNCg==

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from freeshell.de (freeshell.de [116.202.128.144])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 78F5731A810;
	Mon, 17 Nov 2025 21:56:02 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=116.202.128.144
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1763416569; cv=none; b=uTAJLlvMgfHinhb5Oiri+pqAut6ddyzStHhg2xJDJ3jO7nRNWdu0gN7uK95R47VKhmqdeoHCKIMtgnEH83c2vUOW3P2letJYFX873nNfgCvsbJOi89apUaJonhYKLjqxhUAkQYQkMOTZz11PsOfxuc5ZUP9VbV7VFRrRsKsuts4=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1763416569; c=relaxed/simple;
	bh=s6kJrYx04y6Bt4h00Na+MNqvCST619vg6nBWvj5QXFU=;
	h=Message-ID:Date:MIME-Version:Subject:To:Cc:References:From:
	 In-Reply-To:Content-Type; b=PM+usQlfL3h8u8CghyOvv4KaphpsEuQQ64sPMXEv6cUWxCShCQmMkrFvIVGEs8VuTdqZOWfcOaMjZE/tesRsdoJeTWdapkkFSlF0r7+/YmI7zcp/uH67QxoUazhlR4nNrLWqJI1AIvCczJSATjj9QYScS2gBvs07Gr2jAZb+VPc=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=freeshell.de; spf=pass smtp.mailfrom=freeshell.de; dkim=pass (2048-bit key) header.d=freeshell.de header.i=@freeshell.de header.b=ACnituW5; arc=none smtp.client-ip=116.202.128.144
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=freeshell.de
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=freeshell.de
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=freeshell.de header.i=@freeshell.de header.b="ACnituW5"
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=freeshell.de;
	s=s2025; t=1763416502;
	bh=8MP+ohbjpzWqDDplARlqKxte/5mjGTVGQt7b/ZV67b8=;
	h=Date:Subject:To:Cc:References:From:In-Reply-To:From;
	b=ACnituW5RTw/m6wGLI4bMmm3px6/WXWT+mCv/T+4D9FMjDg0VE7r2AJ/8eGyOB+gZ
	 JPLWj33LO4H5Rxd7ZE41ex9AR5QfPOCWtKLeV9fZeHumT8aX3DD7JL365ni7tK45Ly
	 /1ktXtneNZByq62h8AQfziZcgmXiGAYhfRtj4+GwmB0/UzpZBT+WoA0Em0xH87Jrde
	 VSebe0Mr9pUpHNItrWDMc5HOK5w9LLn2VyVpbGQbz8tqy57bjC7vYxuMHwrKEHeGMg
	 Z9Fh4/Asabv5gdE26qjI+aUpppCOsfu6NsQT72BHigxwm7tr4ODS+FVz44BCxJRGhk
	 JzUSVQklqeQZQ==
Received: from [192.168.2.54] (unknown [98.97.26.103])
	(Authenticated sender: e)
	by freeshell.de (Postfix) with ESMTPSA id D5163B2201A3;
	Mon, 17 Nov 2025 22:54:58 +0100 (CET)
Message-ID: <b33919e9-e100-4629-92cb-d1ec3dd756a7@freeshell.de>
Date: Mon, 17 Nov 2025 13:54:56 -0800
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
User-Agent: Mozilla Thunderbird
Subject: Re: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
To: Hal Feng <hal.feng@starfivetech.com>,
 Emil Renner Berthing <emil.renner.berthing@canonical.com>,
 Albert Ou <aou@eecs.berkeley.edu>, Bjorn Helgaas <bhelgaas@google.com>,
 Conor Dooley <conor+dt@kernel.org>,
 Heinrich Schuchardt <heinrich.schuchardt@canonical.com>,
 Krzysztof Kozlowski <krzk+dt@kernel.org>,
 =?UTF-8?Q?Krzysztof_Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
 Lorenzo Pieralisi <lpieralisi@kernel.org>,
 Manivannan Sadhasivam <mani@kernel.org>, Palmer Dabbelt
 <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>,
 "Rafael J . Wysocki" <rafael@kernel.org>, Rob Herring <robh@kernel.org>,
 Viresh Kumar <viresh.kumar@linaro.org>
Cc: "devicetree@vger.kernel.org" <devicetree@vger.kernel.org>,
 "linux-riscv@lists.infradead.org" <linux-riscv@lists.infradead.org>,
 "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <CAJM55Z_rczBo4D3HsC90QW1=fp3NWgK-tsEo6LHTZNXEBHTDqA@mail.gmail.com>
 <ZQ2PR01MB13076544E2136E7E7C2EEDA1E6CD2@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <CAJM55Z9KyNK1n4i9FxbLor4HTQKqK8WKA2svjPVvKXihw_E+sg@mail.gmail.com>
 <4a55301a-ef7e-4b47-8151-621cfba36ddd@freeshell.de>
 <CAJM55Z-bRdNmnRZ7wi3PMOkzGYrxQEGk+7F67Pdu4WXwKmTjCQ@mail.gmail.com>
 <ZQ2PR01MB13075CDDEFC2F03C837E1B31E6C92@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
Content-Language: en-US
From: E Shattow <e@freeshell.de>
In-Reply-To: <ZQ2PR01MB13075CDDEFC2F03C837E1B31E6C92@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit



On 11/16/25 22:54, Hal Feng wrote:
>> On 16.11.25 00:29, Emil Renner Berthing wrote:
>> Quoting E Shattow (2025-11-13 16:16:12)
>>>
>>>
>>> On 11/13/25 02:42, Emil Renner Berthing wrote:
>>>> Quoting Hal Feng (2025-11-13 04:42:05)
>>>>>> On 12.11.25 21:54, Emil Renner Berthing wrote:
>>>>>> Quoting Hal Feng (2025-11-07 10:55:22)
>>>>>>> VisionFive 2 Lite is a mini SBC based on the StarFive JH7110S
>>>>>>> industrial SoC which can run at -40~85 degrees centigrade and up
>>>>>>> to 1.25GHz.
>>>> [...]
>>>>>> Currently the JH7110 device trees are layed out like this, with a
>>>>>> nice separation between the SoC description and board descriptions:
>>>>>>
>>>>>> jh7110.dtsi               # JH7110 SoC description
>>>>>> |- jh7110-common.dtsi     # Peripherals common to all JH7110 boards
>>>>>>    |- jh7110-starfive-visionfive-2.dtsi # Peripherals common to VF2
>> boards
>>>>>>    |  |- <VF2 boards>     # Final VF2 board descriptions
>>>>>>    |- jh7110-milkv-marscm.dtsi # Peripherals common to Mars CM
>> boards
>>>>>>    |  |- <Mars CM boards> # Final Mars CM board descriptions
>>>>>>    |- <other boards>      # Other JH7110 board descriptions
>>>>>>
>>>>>> With this series it moves to
>>>>>>
>>>>>> jh711x.dtsi
>>>>>> |- jh711x-common.dtsi
>>>>>>    |- jh7110-common.dtsi
>>>>>>    |  |- <jh7110 boards>
>>>>>>    |- jh7110s-common.dtsi
>>>>>>       |- <jh7110s boards>
>>>>>>
>>>>>> ..which I can't even give clear labels like above. In other words
>>>>>> when new patches are sent in it would not be easy to explain
>>>>>> exactly where each change should go and why.
>>>>>> I'm also worried that you'll find that more of the peripherals on
>>>>>> the JH7110S need special handling and a new jh7110s-... compatible
>>>>>> string. Then I guess they'll need to jump from jh7110x.dtsi two
>>>>>> levels down to jh7110{,s}- common.dtsi which then both describe SoC
>> and board properties.
>>>>>>
>>>>>> If you're serious about calling this a new SoC then I'd expect
>>>>>> something more like this:
>>>>>>
>>>>>> jh711x.dtsi                  # Peripherals common to both SoCs
>>>>>> |- jh7110.dtsi               # JH7110 SoC description
>>>>>> |  |- jh7110-common.dtsi     # Peripherals common to all JH7110 boards
>>>>>> |     |- jh7110-starfive-visionfive-2.dtsi # Peripherals common to VF2
>> boards
>>>>>> |     |  |- <VF2 boards>     # Final VF2 board descriptions
>>>>>> |     |- jh7110-milkv-marscm.dtsi # Peripherals common to Mars CM
>> boards
>>>>>> |     |  |- <Mars CM boards> # Final Mars CM board descriptions
>>>>>> |     |- <other boards>      # Other JH7110 board descriptions
>>>>>> |- jh7110s.dtsi              # JH7110S SoC description
>>>>>>    |- jh7110s-common.dtsi    # Peripherals common to all JH7110S
>> boards
>>>>>>       |- <JH7110S boards>    # Final JH7110S board descriptions
>>>>>>
>>>>>> I know this will mean some duplication in jh7110{,s}-common.dtsi,
>>>>>> but I would prefer that to not having a clear explanation of what each file
>> describes.
>>>>>>
>>>>>> Do you think this layout could work for you?
>>>>>
>>>>> Yeah, it is clearer for developers and maintainers.
>>>>>
>>>>> Considering Conor's suggestion, what about:
>>>>>
>>>>> jh7110.dtsi               # JH7110 SoC description
>>>>> |- jh7110-common.dtsi     # Peripherals common to all JH7110 boards
>>>>>    |- jh7110-starfive-visionfive-2.dtsi # Peripherals common to VF2 boards
>>>>>    |  |- <VF2 boards>     # Final VF2 board descriptions
>>>>>    |- jh7110-milkv-marscm.dtsi # Peripherals common to Mars CM boards
>>>>>    |  |- <Mars CM boards> # Final Mars CM board descriptions
>>>>>    |- <other boards>      # Other JH7110 board descriptions
>>>>> |- <JH7110S boards>
>>>>>
>>>
>>> JH-7110 and JH-7110I reference docs are listed (not any JH-7110S) at:
>>> https://doc-en.rvspace.org/Doc_Center/datasheet_0.html
>>>
>>> Does the JH-7110I use the OPP table for JH-7110 or JH-7110S?
>>>
>>>>> Move the opp table from jh7110.dtsi to jh7110-common.dtsi.
>>>>> Remove jh7110s-common.dtsi, because only one board uses JH7110S
>> now.
>>>>
>>>> This patchset adds 2 different boards. Has this changed?
>>>>
>>>> Also this would mean that you're not using the starfive,jh7110s
>>>> compatible or any other starfive,jh7110s-.. compatible strings, so
>>>> effectively you're not treating it as a new chip, but just a board that needs a
>> different opp table.
>>>>
>>>> I see now that the opp table is effectively the only difference
>>>> between the two chips in this patchset, so if that's closer to
>>>> reality then what you suggest is fine with me.
>>>>
>>>> /Emil
>>>
>>> Are we now re-visiting Hal's suggestion then (during code review for
>>> Milk-V Mars CM and Mars CM Lite) to split out the OPP tables and make
>>> them per-board, as before introduction of the StarFive VisionFive 2
>>> Lite
>>> board(s) ?
>>>
>>> Can we then do as from where we are now before this series:
>>>
>>> - Move "the JH-7110" OPP table into jh7110-common-opp-1500.dtsi
>>>
>>> - Each board jh7110-{deepcomputing,milkv,pine64,starfive}*.dts
>>> includes said OPP dtsi file.
>>>
>>> and for this series:
>>>
>>> - Drop the adding of a new compatible
>>>
>>> - Add "the JH-7110S" OPP table into jh7110-common-opp-1250.dtsi
>>>
>>> - Use existing jh7110-* prefix for "JH-7110S" board dtsi and dts,
>>> include jh7110-common.dtsi as usual, and include
>>> jh7110-common-opp-1250.dtsi
>>>
>>> The exact filename pattern for the OPP tables I suggest here are
>>> approximations, however that idea is my suggestion if we're just doing
>>> a breakout of the tables and not a new compatible.
>>>
>>> I am positive on having the 1250MHz OPP tables split out into dtsi
>>> instead of stuffing them into the VisionFive 2 Lite common dtsi.
>>> That's all it is?
>>
>> I think this suggestion makes sense if we're 100% sure the JH7110 and
>> JH7110S will only ever differ by the opp table. If there is any chance we'll need
>> to add different compatible string for some peripheral then I think Hal's
>> suggestion will be easier untangle. We'll even be able to do it without touching
>> all the board dts files once again.
>>
>> I'm interested to hear Hal's opinion on this. Hopefully they'll have more details
>> on the two version of the JH7110.
> 
> Here are the differences between JH7110 and JH7110S: 
> JH7110 supports 0~70 degrees centigrade and up to 1.5GHz.
> JH7110S supports -40~85 degrees centigrade and up to 1.25GHz.
> 
> I prefer to keep "starfive,jh7110s" compatible, because "JH7110S" is the chip name
> in StarFive documents and the name printed on the chip. It is easier for the users to
> know which chip they are using and select the correct device tree.
> 
> And patch [1] and [2] had accepted the "starfive,jh7110s" compatible.
> [1] https://lore.kernel.org/all/jurnfpufll4twv2hfp2dv6qk6d3gr7gfmek5czigb5bcon636q@opb6hrdb424p/
> [2] https://lore.kernel.org/all/CAAhSdy2Jr+EoW9AZooRDa12Kx9MSSaBaDXbJUoVym1qTt3r0-Q@mail.gmail.com/
> 
> Best regards,
> Hal

Hal,

OpenSBI development can accept a revert for that 1-liner of code if
needed, and anyways that new compatible was not tagged in any release
yet while also being moot because if you do use it somewhere else and
OpenSBI keeps this around it has no effect on upstream Linux using the
compatible for JH7110.

Devicetree in Linux describes hardware not related to the feelings of
customers so that should not be a concern here.

The data given for JH7110 and JH7110S does not make sense from what can
be found in published technical documentation. The technical
documentation is however lacking a chart for JH7110 from which to derive
any useful comment here.

All,

I repeat that the suggestion was made months ago (by Hal) to split out
the OPP tables per-board from the period of time when I was complaining
about 1.5GHz JH-7110 operation pushing TDP into over-temperature thermal
limit on Milk-V Mars CM SoM.

Whether or not JH7110S is a new compatible should follow precedence in
Linux development. JH-7110S is evidently the same tape-out as JH-7110
and however you deal with that in Linux is the appropriate way to deal
with that here. Selection of OPP table for correct operation will be
determined by bootloader, where, it is demonstrated by patch series sent
to U-Boot upstream to be selected ** per-board ** based on EEPROM
content as if it was any other JH-7110 board deciding dts based on
EEPROM content. Given that it is the same tape-out I do not find a valid
justification for a new compatible in the stack of adjacent software
besides going along with some kind of marketing-driven answer about
whether or not this is a new SoC.

What I care about now is that the VisionFive 2 Lite series is in good
enough shape and there's a possibility to act on this months-old
suggestion to split out the OPP tables which as we have confirmed the
JH7110S is the same SoC as JH7110 it makes a lot of sense to do.

How is it supposed to work for binned silicon in Linux?

-E

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from CHN02-SH0-obe.outbound.protection.partner.outlook.cn (mail-sh0chn02on2126.outbound.protection.partner.outlook.cn [139.219.146.126])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 41F643207;
	Tue, 18 Nov 2025 05:47:35 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=fail smtp.client-ip=139.219.146.126
ARC-Seal:i=2; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1763444860; cv=fail; b=Lpypn9goIMDxuExBzQikF3NgiYpxC8YXDQKgwAxzRrlEd3CQAJgwCuyExXIMFnlwBFw2anTg/P1oxljkgR8It7Om9/290JV2OulkiQ+ac2aW5h8WmV8+1nEyD1spVvgqiarP5lhmrx/Apz0FpQVLCVXpBNQAsd/NeZNBe27Dz2s=
ARC-Message-Signature:i=2; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1763444860; c=relaxed/simple;
	bh=jQ1BbK4AXCrOkOpm3WpAtNdV4OEjPDvIz4Sz8PCC7LQ=;
	h=From:To:CC:Subject:Date:Message-ID:References:In-Reply-To:
	 Content-Type:MIME-Version; b=XxuUDROWtxHyUjstj6yfRbjFiYANbGhSSSZwXli4c8+yWhl3InreaY7WuxHzshzAb29x8HWkegY+/pPhJi4mGlX0LndtMNoTlmG6e7q1zJrJkvC4iMahiDC/qBl4wVjFUR4PqnpczAfIblyDXpJT697Hz1pM70r0vaWOAb5z1pI=
ARC-Authentication-Results:i=2; smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com; spf=pass smtp.mailfrom=starfivetech.com; arc=fail smtp.client-ip=139.219.146.126
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=starfivetech.com
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=GhJfQXP+uRcJ8ZpQuqljRG0nm9mbwrKnYGKRyJcdHgUfmOxAn/7hZ+g8512kyAxKLdWz9Z/rEuOaWU+JP8lezEVNEz2yV6AovvdJj6ww3Q6vWRecRg9g1CWyfYguyXHgeHBv6IdSGaJki+P3aaQh8mOz4XMkH+ch+oRcpkXqrSO5RRGrCo2IlDQ+ykGo3oYwXl8sMD1SVjvt5maYiIj/lTThzg1UlCiCoCUMKk1vduX+WmbbUoWL7Ev92wGZNisPYIoIZ65f1de1o/lmv7IZikCtYf0khLgLtdwjJUXIVCaYqXZQ/TFJdriZ+eMvTQmuXlv769HWT77iMK/r6h3SqA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=jQ1BbK4AXCrOkOpm3WpAtNdV4OEjPDvIz4Sz8PCC7LQ=;
 b=L869s5RirJMCNsVoGYBCsXhfeqV7LwrCBpwEcnDDqpiDboZA1ZlhczViYlTlwv7/A1soQVOQMgfXTJgC7jFdUZu+Vp8z5v+aPnKK8UMeeKIR5+lQ+OV38ivszUzMKoPABkprMGryuMd6WKe2sbQufcX7C6UyrY8EL8say45xpgiORPrW/S5BWKKPqhvjvVrL2IRh5cn+Nw+I4ptXHBK9WAQNg3CYjfe2/c+LXmcQQKGEG+3YdPetBzLC6a/vacOXRquz+mbI0ncjIZVhdk3h+XlM0DPlJKZFgG5FeOLruvZlhkvJ2c/Fg/4ZC90FiKrIOFqJjFDZA2ejJYQuKa1gzA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=starfivetech.com; dmarc=pass action=none
 header.from=starfivetech.com; dkim=pass header.d=starfivetech.com; arc=none
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:7::14) by ZQ2PR01MB1321.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:6::8) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9228.18; Tue, 18 Nov
 2025 02:12:58 +0000
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7]) by ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7%6]) with mapi id 15.20.9320.021; Tue, 18 Nov 2025
 02:12:58 +0000
From: Hal Feng <hal.feng@starfivetech.com>
To: E Shattow <e@freeshell.de>, Emil Renner Berthing
	<emil.renner.berthing@canonical.com>, Albert Ou <aou@eecs.berkeley.edu>,
	Bjorn Helgaas <bhelgaas@google.com>, Conor Dooley <conor+dt@kernel.org>,
	Heinrich Schuchardt <heinrich.schuchardt@canonical.com>, Krzysztof Kozlowski
	<krzk+dt@kernel.org>, =?utf-8?B?S3J6eXN6dG9mIFdpbGN6ecWEc2tp?=
	<kwilczynski@kernel.org>, Lorenzo Pieralisi <lpieralisi@kernel.org>,
	Manivannan Sadhasivam <mani@kernel.org>, Palmer Dabbelt <palmer@dabbelt.com>,
	Paul Walmsley <pjw@kernel.org>, "Rafael J . Wysocki" <rafael@kernel.org>, Rob
 Herring <robh@kernel.org>, Viresh Kumar <viresh.kumar@linaro.org>
CC: "devicetree@vger.kernel.org" <devicetree@vger.kernel.org>,
	"linux-riscv@lists.infradead.org" <linux-riscv@lists.infradead.org>,
	"linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
Subject: RE: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
Thread-Topic: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
Thread-Index:
 AQHcT8yr76WB0y2LYU6wjdN+ecXGd7TvGAmAgADiXSCAAHpnAIAATH0AgAM44ACAAnXysIABCekAgABDeoA=
Date: Tue, 18 Nov 2025 02:12:58 +0000
Message-ID:
 <ZQ2PR01MB1307DADE17FFEFCE70C3F391E6D62@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <CAJM55Z_rczBo4D3HsC90QW1=fp3NWgK-tsEo6LHTZNXEBHTDqA@mail.gmail.com>
 <ZQ2PR01MB13076544E2136E7E7C2EEDA1E6CD2@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <CAJM55Z9KyNK1n4i9FxbLor4HTQKqK8WKA2svjPVvKXihw_E+sg@mail.gmail.com>
 <4a55301a-ef7e-4b47-8151-621cfba36ddd@freeshell.de>
 <CAJM55Z-bRdNmnRZ7wi3PMOkzGYrxQEGk+7F67Pdu4WXwKmTjCQ@mail.gmail.com>
 <ZQ2PR01MB13075CDDEFC2F03C837E1B31E6C92@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <b33919e9-e100-4629-92cb-d1ec3dd756a7@freeshell.de>
In-Reply-To: <b33919e9-e100-4629-92cb-d1ec3dd756a7@freeshell.de>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=starfivetech.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: ZQ2PR01MB1307:EE_|ZQ2PR01MB1321:EE_
x-ms-office365-filtering-correlation-id: e1875e15-d007-4b99-2ec8-08de2647fe43
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam:
 BCL:0;ARA:13230040|366016|41320700013|7416014|1800799024|38070700021|921020;
x-microsoft-antispam-message-info:
 TA6BLyTFUoZcnqjz6tbeP8lxyv03mP2QMcoO0+LeZJp2yR/dJyifvub88GPQDqkfYyfgWrBmUriaM7CrpNtADpLEQAPidmA8xTXS/4bDf9YGi1y0ca8DXzMXxx5Vejx5uxLYqjEWaVTYHCbzNkVWAF+5I25FHmmouMRRUWFR5u3iW2kuKjBrxhKF4W5tl0Grl4nfe8T2nAXNbsL+pQ2GPUjhDjYvoRWpbGL94gRJ5/dYKcnTph1bX6nACfYHLMZJWMMi0+KRbG4wvh4S38Zhe3gcPQLm1/f8Azzm7Nw7zAkNKuyJDOr+Yf1LAWzYrCmfe47EhsgAIbUbDG+2fRTKflmmjqeluGoHSw1/s+8rA6LLzRee9vt0jrul81hQVtr61OMgDOjDaVRK3Zp2AqDWTyCrX+hOIoIJff/56KwQoIyE8oX/kPMSluDJUOodokmrSvUWXIGKlcAGAFVMB+s8tXIXBl0T37KBYwu3qRwRKMgC7aHOm5FpvJERkYdn8KfljqDkhseU1awlRhrlk/8NneSPeY4Lu1rnK77930jjNrODNL9wdXlcJPUYoleHiSlGE+OxH1u10jM43/4O2jnKskc0/ZY8zgfPNjTTGl2b+eI=
x-forefront-antispam-report:
 CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn;PTR:;CAT:NONE;SFS:(13230040)(366016)(41320700013)(7416014)(1800799024)(38070700021)(921020);DIR:OUT;SFP:1102;
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0:
 =?utf-8?B?SWhKSFd4Uk13RkZCRVZaTXphZVRqVk1RZHFhS0RzclJHUUpsWEhtOVFnazRv?=
 =?utf-8?B?S0tkc0lNdE9TWi9NQUNsMldFZk1aTktWN1p2U2crS1JqdHIxUmtaMkdyT284?=
 =?utf-8?B?VzNlVktOcjYyNlpyWnN2VWJzS1llNzVpMk5pNG9yQzBiT2p3NnhTWkxlTExw?=
 =?utf-8?B?bmFROFNTVUJiVHdnOWdua2NkTm05UlFGSm9MRG9qV0JQdnpoaGZVMGtsRDlM?=
 =?utf-8?B?RDJmS0VpNllVN1owVjl5OFM2R0JxUFd0TTZVMDNWLzJVK0l0d0FVd3doK2Iy?=
 =?utf-8?B?dzlzQnhYT3ZGUmtXRDQ4MjJ6dkNMVDNCSkdQVjFxYXdIbkovWUkxZy9hU0NS?=
 =?utf-8?B?YVlYdVM2WlZsdGRNZTVEK0x0NWNNemlzK0FlUG5IOTUvclU0ZUNOL2FWL3NG?=
 =?utf-8?B?c29BU2JQeEE3czJsVFhHaWtMelM2ajNZQkRWaHBxOXozVGc3Q1VybHJBSml0?=
 =?utf-8?B?UUNYOGlMSzJHdFVsMi9mbExiaWNKeDZBOG1xSVErQVNPQjhDaW1nOEpBb21Q?=
 =?utf-8?B?RlRPN0xnbXVENmhVNUFSaGtDdTJXMVVXWDl5YTRoQ0tZZE16UmI4Vm5STlpz?=
 =?utf-8?B?TE1ZTFZNRTBsSW84ZTZ4c1g1NWU4ME9RNnlmZUZFZFpVanFYVGVrMGFPeEpy?=
 =?utf-8?B?Qk1JazM2T3J1ZldSNWNrT20wdi9VajhISWg2VmplUnF5R2ZZZlBMc1ZTZ3J5?=
 =?utf-8?B?R2Fvck5CaUxWZHBSenNrUC9GOU5nMTBnVlg0ZllDRWx0NjAxaUtSZUFoNk4z?=
 =?utf-8?B?azA5Y0d4WEpHQkVxUXorakQyTU9YZjN2TTFmR0RxbWw4YXgwV0Fpd21lT0J2?=
 =?utf-8?B?THBTK1N6MEtlYmE3UFNtZ0Y1WjJBRTVrSGlRWlk4Tk9ueHJrVktIN0lWQy8z?=
 =?utf-8?B?c2JXcC9iR0V1clVxek1GOW5hTjZuam5mbGpnbTBMN1AyeG90YlRFdXVCR0dT?=
 =?utf-8?B?MTRCT3hPSjRTdWZMQ2ZjN0paaXV3VHNBd1BmZVZmdWhtd1pqem84VlU3d2kv?=
 =?utf-8?B?TDZYZGNXL3AzWUlDdjV2YVJUUTR6TnNidFk1K2xoYTNYNWZYeWlwemZvRFRo?=
 =?utf-8?B?YTRKWHYvQnpqKy9KTzdLWE0xOWYrbFFDdllhZTh6WmRIMlpHMmJLOExuVTlo?=
 =?utf-8?B?SUJzMEphQStkVXQvSTZyd243NkZ6YXZVa0FrTnpBZDBMcS9BMFhUc1VPMWNu?=
 =?utf-8?B?K1EzTVEwRVhpektiak13K2VUTlhJL1R5WGpBYVJ6R09QaUM1UGJaUEhjS211?=
 =?utf-8?B?cUxFeVpNR250bXZxR3p2c1JiQkl4MVdyczByc1Z1YUEwRWd3Vk9nTHI0dDZO?=
 =?utf-8?B?d0RqSlpCa2lWMnBGMWNyMHlVWEdONWlYcHppczJDWHkvUW1hMFc4bFZKR1pB?=
 =?utf-8?B?em03ZTFVV3g3cTdvOGJMVERoWlNDZHYwQmZKS29CVWZGZzlXWHIvR1lZQVlq?=
 =?utf-8?B?MUxDMTRkTkhndHRZUDAvei9yZUpKT3dQS2dmUGFVQUlkMXpaeDJNc1ZLQjZK?=
 =?utf-8?B?UEJDUWRxRW84MW9FQ0E2L0dxWTFJcitLM1V2QXg3M3FyUy9PVXFoOTZKTnRP?=
 =?utf-8?B?SlhNM0NHNWR4eXo5TGFublR4MDNvVldldElSYmh4TE1Fd2t3eVcwNU5Pdk1u?=
 =?utf-8?B?MnpuUUlIYWZxYStmWktta3NrWHc1Y3BUZENBNFdscVpHamRUYXNya1NVcWFi?=
 =?utf-8?B?eWVzOThrMGM0d2lyVzgrYjluWFhiOUdDNHZOY0Ewdk95TDlYSFJKMjdYc3p1?=
 =?utf-8?B?NDk4R2JVN2c0Zk1sVzQyQVJLZlhxSXkyYXFVSlNDZFh4aTRzNW5KZy84UXNN?=
 =?utf-8?B?NmVmcGh0RzJmdGVBZzVOMmJmU2FyWDdDaU94UURhbmI5aCtDWTNaL3JVbHlR?=
 =?utf-8?B?Q1dlTkVpTUxsRWZVNlRDN21pN3lwZFBhYjJHd2JQSDBSWVhJeSsrZkZCUHBE?=
 =?utf-8?B?Vm9Lb2h3Ym92bGpqREpxWVh5ZmFOYU12UGFGR3AzRU04cjlNaDQzRldDcHVO?=
 =?utf-8?B?VC9pLzIyYlU2b2hBeXI2TlloRjNyMWswbnFhLzBKYmoxZ1Fucm9Wenp1bEJi?=
 =?utf-8?B?OHhZUHk2UWNYc2VDSDVRMzJFNDJZZnBhQlIwOVBDZVZ1L3VmckFTWWdvSHhR?=
 =?utf-8?B?Zzd6T3Fud21NQjFlaE5VSysrT1RBQ0NHaUVmV21WRFltRStpajI3WnFiS1d3?=
 =?utf-8?B?aXc9PQ==?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-OriginatorOrg: starfivetech.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
X-MS-Exchange-CrossTenant-Network-Message-Id: e1875e15-d007-4b99-2ec8-08de2647fe43
X-MS-Exchange-CrossTenant-originalarrivaltime: 18 Nov 2025 02:12:58.3263
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 06fe3fa3-1221-43d3-861b-5a4ee687a85c
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: Mtr1K6MRyKTnR5Cl6lv584lrEleYQePJ+0zgeWg+WFV3RB6nx8sNL/VfiZN+igvd+nHsx1uwnBVjGbwLklbBKZhkqsSV32XGEGkOEceQLl0=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: ZQ2PR01MB1321

PiBPbiAxOC4xMS4yNSAwNTo1NSwgRSBTaGF0dG93IHdyb3RlOg0KPiBPbiAxMS8xNi8yNSAyMjo1
NCwgSGFsIEZlbmcgd3JvdGU6DQo+ID4+IE9uIDE2LjExLjI1IDAwOjI5LCBFbWlsIFJlbm5lciBC
ZXJ0aGluZyB3cm90ZToNCj4gPj4gUXVvdGluZyBFIFNoYXR0b3cgKDIwMjUtMTEtMTMgMTY6MTY6
MTIpDQo+ID4+Pg0KPiA+Pj4NCj4gPj4+IE9uIDExLzEzLzI1IDAyOjQyLCBFbWlsIFJlbm5lciBC
ZXJ0aGluZyB3cm90ZToNCj4gPj4+PiBRdW90aW5nIEhhbCBGZW5nICgyMDI1LTExLTEzIDA0OjQy
OjA1KQ0KPiA+Pj4+Pj4gT24gMTIuMTEuMjUgMjE6NTQsIEVtaWwgUmVubmVyIEJlcnRoaW5nIHdy
b3RlOg0KPiA+Pj4+Pj4gUXVvdGluZyBIYWwgRmVuZyAoMjAyNS0xMS0wNyAxMDo1NToyMikNCj4g
Pj4+Pj4+PiBWaXNpb25GaXZlIDIgTGl0ZSBpcyBhIG1pbmkgU0JDIGJhc2VkIG9uIHRoZSBTdGFy
Rml2ZSBKSDcxMTBTDQo+ID4+Pj4+Pj4gaW5kdXN0cmlhbCBTb0Mgd2hpY2ggY2FuIHJ1biBhdCAt
NDB+ODUgZGVncmVlcyBjZW50aWdyYWRlIGFuZCB1cA0KPiA+Pj4+Pj4+IHRvIDEuMjVHSHouDQo+
ID4+Pj4gWy4uLl0NCj4gPj4+Pj4+IEN1cnJlbnRseSB0aGUgSkg3MTEwIGRldmljZSB0cmVlcyBh
cmUgbGF5ZWQgb3V0IGxpa2UgdGhpcywgd2l0aCBhDQo+ID4+Pj4+PiBuaWNlIHNlcGFyYXRpb24g
YmV0d2VlbiB0aGUgU29DIGRlc2NyaXB0aW9uIGFuZCBib2FyZCBkZXNjcmlwdGlvbnM6DQo+ID4+
Pj4+Pg0KPiA+Pj4+Pj4gamg3MTEwLmR0c2kgICAgICAgICAgICAgICAjIEpINzExMCBTb0MgZGVz
Y3JpcHRpb24NCj4gPj4+Pj4+IHwtIGpoNzExMC1jb21tb24uZHRzaSAgICAgIyBQZXJpcGhlcmFs
cyBjb21tb24gdG8gYWxsIEpINzExMCBib2FyZHMNCj4gPj4+Pj4+ICAgIHwtIGpoNzExMC1zdGFy
Zml2ZS12aXNpb25maXZlLTIuZHRzaSAjIFBlcmlwaGVyYWxzIGNvbW1vbiB0bw0KPiA+Pj4+Pj4g
VkYyDQo+ID4+IGJvYXJkcw0KPiA+Pj4+Pj4gICAgfCAgfC0gPFZGMiBib2FyZHM+ICAgICAjIEZp
bmFsIFZGMiBib2FyZCBkZXNjcmlwdGlvbnMNCj4gPj4+Pj4+ICAgIHwtIGpoNzExMC1taWxrdi1t
YXJzY20uZHRzaSAjIFBlcmlwaGVyYWxzIGNvbW1vbiB0byBNYXJzIENNDQo+ID4+IGJvYXJkcw0K
PiA+Pj4+Pj4gICAgfCAgfC0gPE1hcnMgQ00gYm9hcmRzPiAjIEZpbmFsIE1hcnMgQ00gYm9hcmQg
ZGVzY3JpcHRpb25zDQo+ID4+Pj4+PiAgICB8LSA8b3RoZXIgYm9hcmRzPiAgICAgICMgT3RoZXIg
Skg3MTEwIGJvYXJkIGRlc2NyaXB0aW9ucw0KPiA+Pj4+Pj4NCj4gPj4+Pj4+IFdpdGggdGhpcyBz
ZXJpZXMgaXQgbW92ZXMgdG8NCj4gPj4+Pj4+DQo+ID4+Pj4+PiBqaDcxMXguZHRzaQ0KPiA+Pj4+
Pj4gfC0gamg3MTF4LWNvbW1vbi5kdHNpDQo+ID4+Pj4+PiAgICB8LSBqaDcxMTAtY29tbW9uLmR0
c2kNCj4gPj4+Pj4+ICAgIHwgIHwtIDxqaDcxMTAgYm9hcmRzPg0KPiA+Pj4+Pj4gICAgfC0gamg3
MTEwcy1jb21tb24uZHRzaQ0KPiA+Pj4+Pj4gICAgICAgfC0gPGpoNzExMHMgYm9hcmRzPg0KPiA+
Pj4+Pj4NCj4gPj4+Pj4+IC4ud2hpY2ggSSBjYW4ndCBldmVuIGdpdmUgY2xlYXIgbGFiZWxzIGxp
a2UgYWJvdmUuIEluIG90aGVyIHdvcmRzDQo+ID4+Pj4+PiB3aGVuIG5ldyBwYXRjaGVzIGFyZSBz
ZW50IGluIGl0IHdvdWxkIG5vdCBiZSBlYXN5IHRvIGV4cGxhaW4NCj4gPj4+Pj4+IGV4YWN0bHkg
d2hlcmUgZWFjaCBjaGFuZ2Ugc2hvdWxkIGdvIGFuZCB3aHkuDQo+ID4+Pj4+PiBJJ20gYWxzbyB3
b3JyaWVkIHRoYXQgeW91J2xsIGZpbmQgdGhhdCBtb3JlIG9mIHRoZSBwZXJpcGhlcmFscyBvbg0K
PiA+Pj4+Pj4gdGhlIEpINzExMFMgbmVlZCBzcGVjaWFsIGhhbmRsaW5nIGFuZCBhIG5ldyBqaDcx
MTBzLS4uLg0KPiA+Pj4+Pj4gY29tcGF0aWJsZSBzdHJpbmcuIFRoZW4gSSBndWVzcyB0aGV5J2xs
IG5lZWQgdG8ganVtcCBmcm9tDQo+ID4+Pj4+PiBqaDcxMTB4LmR0c2kgdHdvIGxldmVscyBkb3du
IHRvIGpoNzExMHssc30tIGNvbW1vbi5kdHNpIHdoaWNoDQo+ID4+Pj4+PiB0aGVuIGJvdGggZGVz
Y3JpYmUgU29DDQo+ID4+IGFuZCBib2FyZCBwcm9wZXJ0aWVzLg0KPiA+Pj4+Pj4NCj4gPj4+Pj4+
IElmIHlvdSdyZSBzZXJpb3VzIGFib3V0IGNhbGxpbmcgdGhpcyBhIG5ldyBTb0MgdGhlbiBJJ2Qg
ZXhwZWN0DQo+ID4+Pj4+PiBzb21ldGhpbmcgbW9yZSBsaWtlIHRoaXM6DQo+ID4+Pj4+Pg0KPiA+
Pj4+Pj4gamg3MTF4LmR0c2kgICAgICAgICAgICAgICAgICAjIFBlcmlwaGVyYWxzIGNvbW1vbiB0
byBib3RoIFNvQ3MNCj4gPj4+Pj4+IHwtIGpoNzExMC5kdHNpICAgICAgICAgICAgICAgIyBKSDcx
MTAgU29DIGRlc2NyaXB0aW9uDQo+ID4+Pj4+PiB8ICB8LSBqaDcxMTAtY29tbW9uLmR0c2kgICAg
ICMgUGVyaXBoZXJhbHMgY29tbW9uIHRvIGFsbCBKSDcxMTANCj4gYm9hcmRzDQo+ID4+Pj4+PiB8
ICAgICB8LSBqaDcxMTAtc3RhcmZpdmUtdmlzaW9uZml2ZS0yLmR0c2kgIyBQZXJpcGhlcmFscyBj
b21tb24NCj4gPj4+Pj4+IHx0byBWRjINCj4gPj4gYm9hcmRzDQo+ID4+Pj4+PiB8ICAgICB8ICB8
LSA8VkYyIGJvYXJkcz4gICAgICMgRmluYWwgVkYyIGJvYXJkIGRlc2NyaXB0aW9ucw0KPiA+Pj4+
Pj4gfCAgICAgfC0gamg3MTEwLW1pbGt2LW1hcnNjbS5kdHNpICMgUGVyaXBoZXJhbHMgY29tbW9u
IHRvIE1hcnMgQ00NCj4gPj4gYm9hcmRzDQo+ID4+Pj4+PiB8ICAgICB8ICB8LSA8TWFycyBDTSBi
b2FyZHM+ICMgRmluYWwgTWFycyBDTSBib2FyZCBkZXNjcmlwdGlvbnMNCj4gPj4+Pj4+IHwgICAg
IHwtIDxvdGhlciBib2FyZHM+ICAgICAgIyBPdGhlciBKSDcxMTAgYm9hcmQgZGVzY3JpcHRpb25z
DQo+ID4+Pj4+PiB8LSBqaDcxMTBzLmR0c2kgICAgICAgICAgICAgICMgSkg3MTEwUyBTb0MgZGVz
Y3JpcHRpb24NCj4gPj4+Pj4+ICAgIHwtIGpoNzExMHMtY29tbW9uLmR0c2kgICAgIyBQZXJpcGhl
cmFscyBjb21tb24gdG8gYWxsIEpINzExMFMNCj4gPj4gYm9hcmRzDQo+ID4+Pj4+PiAgICAgICB8
LSA8Skg3MTEwUyBib2FyZHM+ICAgICMgRmluYWwgSkg3MTEwUyBib2FyZCBkZXNjcmlwdGlvbnMN
Cj4gPj4+Pj4+DQo+ID4+Pj4+PiBJIGtub3cgdGhpcyB3aWxsIG1lYW4gc29tZSBkdXBsaWNhdGlv
biBpbiBqaDcxMTB7LHN9LWNvbW1vbi5kdHNpLA0KPiA+Pj4+Pj4gYnV0IEkgd291bGQgcHJlZmVy
IHRoYXQgdG8gbm90IGhhdmluZyBhIGNsZWFyIGV4cGxhbmF0aW9uIG9mIHdoYXQNCj4gPj4+Pj4+
IGVhY2ggZmlsZQ0KPiA+PiBkZXNjcmliZXMuDQo+ID4+Pj4+Pg0KPiA+Pj4+Pj4gRG8geW91IHRo
aW5rIHRoaXMgbGF5b3V0IGNvdWxkIHdvcmsgZm9yIHlvdT8NCj4gPj4+Pj4NCj4gPj4+Pj4gWWVh
aCwgaXQgaXMgY2xlYXJlciBmb3IgZGV2ZWxvcGVycyBhbmQgbWFpbnRhaW5lcnMuDQo+ID4+Pj4+
DQo+ID4+Pj4+IENvbnNpZGVyaW5nIENvbm9yJ3Mgc3VnZ2VzdGlvbiwgd2hhdCBhYm91dDoNCj4g
Pj4+Pj4NCj4gPj4+Pj4gamg3MTEwLmR0c2kgICAgICAgICAgICAgICAjIEpINzExMCBTb0MgZGVz
Y3JpcHRpb24NCj4gPj4+Pj4gfC0gamg3MTEwLWNvbW1vbi5kdHNpICAgICAjIFBlcmlwaGVyYWxz
IGNvbW1vbiB0byBhbGwgSkg3MTEwIGJvYXJkcw0KPiA+Pj4+PiAgICB8LSBqaDcxMTAtc3RhcmZp
dmUtdmlzaW9uZml2ZS0yLmR0c2kgIyBQZXJpcGhlcmFscyBjb21tb24gdG8gVkYyDQo+IGJvYXJk
cw0KPiA+Pj4+PiAgICB8ICB8LSA8VkYyIGJvYXJkcz4gICAgICMgRmluYWwgVkYyIGJvYXJkIGRl
c2NyaXB0aW9ucw0KPiA+Pj4+PiAgICB8LSBqaDcxMTAtbWlsa3YtbWFyc2NtLmR0c2kgIyBQZXJp
cGhlcmFscyBjb21tb24gdG8gTWFycyBDTQ0KPiBib2FyZHMNCj4gPj4+Pj4gICAgfCAgfC0gPE1h
cnMgQ00gYm9hcmRzPiAjIEZpbmFsIE1hcnMgQ00gYm9hcmQgZGVzY3JpcHRpb25zDQo+ID4+Pj4+
ICAgIHwtIDxvdGhlciBib2FyZHM+ICAgICAgIyBPdGhlciBKSDcxMTAgYm9hcmQgZGVzY3JpcHRp
b25zDQo+ID4+Pj4+IHwtIDxKSDcxMTBTIGJvYXJkcz4NCj4gPj4+Pj4NCj4gPj4+DQo+ID4+PiBK
SC03MTEwIGFuZCBKSC03MTEwSSByZWZlcmVuY2UgZG9jcyBhcmUgbGlzdGVkIChub3QgYW55IEpI
LTcxMTBTKSBhdDoNCj4gPj4+IGh0dHBzOi8vZG9jLWVuLnJ2c3BhY2Uub3JnL0RvY19DZW50ZXIv
ZGF0YXNoZWV0XzAuaHRtbA0KPiA+Pj4NCj4gPj4+IERvZXMgdGhlIEpILTcxMTBJIHVzZSB0aGUg
T1BQIHRhYmxlIGZvciBKSC03MTEwIG9yIEpILTcxMTBTPw0KPiA+Pj4NCj4gPj4+Pj4gTW92ZSB0
aGUgb3BwIHRhYmxlIGZyb20gamg3MTEwLmR0c2kgdG8gamg3MTEwLWNvbW1vbi5kdHNpLg0KPiA+
Pj4+PiBSZW1vdmUgamg3MTEwcy1jb21tb24uZHRzaSwgYmVjYXVzZSBvbmx5IG9uZSBib2FyZCB1
c2VzIEpINzExMFMNCj4gPj4gbm93Lg0KPiA+Pj4+DQo+ID4+Pj4gVGhpcyBwYXRjaHNldCBhZGRz
IDIgZGlmZmVyZW50IGJvYXJkcy4gSGFzIHRoaXMgY2hhbmdlZD8NCj4gPj4+Pg0KPiA+Pj4+IEFs
c28gdGhpcyB3b3VsZCBtZWFuIHRoYXQgeW91J3JlIG5vdCB1c2luZyB0aGUgc3RhcmZpdmUsamg3
MTEwcw0KPiA+Pj4+IGNvbXBhdGlibGUgb3IgYW55IG90aGVyIHN0YXJmaXZlLGpoNzExMHMtLi4g
Y29tcGF0aWJsZSBzdHJpbmdzLCBzbw0KPiA+Pj4+IGVmZmVjdGl2ZWx5IHlvdSdyZSBub3QgdHJl
YXRpbmcgaXQgYXMgYSBuZXcgY2hpcCwgYnV0IGp1c3QgYSBib2FyZA0KPiA+Pj4+IHRoYXQgbmVl
ZHMgYQ0KPiA+PiBkaWZmZXJlbnQgb3BwIHRhYmxlLg0KPiA+Pj4+DQo+ID4+Pj4gSSBzZWUgbm93
IHRoYXQgdGhlIG9wcCB0YWJsZSBpcyBlZmZlY3RpdmVseSB0aGUgb25seSBkaWZmZXJlbmNlDQo+
ID4+Pj4gYmV0d2VlbiB0aGUgdHdvIGNoaXBzIGluIHRoaXMgcGF0Y2hzZXQsIHNvIGlmIHRoYXQn
cyBjbG9zZXIgdG8NCj4gPj4+PiByZWFsaXR5IHRoZW4gd2hhdCB5b3Ugc3VnZ2VzdCBpcyBmaW5l
IHdpdGggbWUuDQo+ID4+Pj4NCj4gPj4+PiAvRW1pbA0KPiA+Pj4NCj4gPj4+IEFyZSB3ZSBub3cg
cmUtdmlzaXRpbmcgSGFsJ3Mgc3VnZ2VzdGlvbiB0aGVuIChkdXJpbmcgY29kZSByZXZpZXcgZm9y
DQo+ID4+PiBNaWxrLVYgTWFycyBDTSBhbmQgTWFycyBDTSBMaXRlKSB0byBzcGxpdCBvdXQgdGhl
IE9QUCB0YWJsZXMgYW5kDQo+ID4+PiBtYWtlIHRoZW0gcGVyLWJvYXJkLCBhcyBiZWZvcmUgaW50
cm9kdWN0aW9uIG9mIHRoZSBTdGFyRml2ZQ0KPiA+Pj4gVmlzaW9uRml2ZSAyIExpdGUNCj4gPj4+
IGJvYXJkKHMpID8NCj4gPj4+DQo+ID4+PiBDYW4gd2UgdGhlbiBkbyBhcyBmcm9tIHdoZXJlIHdl
IGFyZSBub3cgYmVmb3JlIHRoaXMgc2VyaWVzOg0KPiA+Pj4NCj4gPj4+IC0gTW92ZSAidGhlIEpI
LTcxMTAiIE9QUCB0YWJsZSBpbnRvIGpoNzExMC1jb21tb24tb3BwLTE1MDAuZHRzaQ0KPiA+Pj4N
Cj4gPj4+IC0gRWFjaCBib2FyZCBqaDcxMTAte2RlZXBjb21wdXRpbmcsbWlsa3YscGluZTY0LHN0
YXJmaXZlfSouZHRzDQo+ID4+PiBpbmNsdWRlcyBzYWlkIE9QUCBkdHNpIGZpbGUuDQo+ID4+Pg0K
PiA+Pj4gYW5kIGZvciB0aGlzIHNlcmllczoNCj4gPj4+DQo+ID4+PiAtIERyb3AgdGhlIGFkZGlu
ZyBvZiBhIG5ldyBjb21wYXRpYmxlDQo+ID4+Pg0KPiA+Pj4gLSBBZGQgInRoZSBKSC03MTEwUyIg
T1BQIHRhYmxlIGludG8gamg3MTEwLWNvbW1vbi1vcHAtMTI1MC5kdHNpDQo+ID4+Pg0KPiA+Pj4g
LSBVc2UgZXhpc3Rpbmcgamg3MTEwLSogcHJlZml4IGZvciAiSkgtNzExMFMiIGJvYXJkIGR0c2kg
YW5kIGR0cywNCj4gPj4+IGluY2x1ZGUgamg3MTEwLWNvbW1vbi5kdHNpIGFzIHVzdWFsLCBhbmQg
aW5jbHVkZQ0KPiA+Pj4gamg3MTEwLWNvbW1vbi1vcHAtMTI1MC5kdHNpDQo+ID4+Pg0KPiA+Pj4g
VGhlIGV4YWN0IGZpbGVuYW1lIHBhdHRlcm4gZm9yIHRoZSBPUFAgdGFibGVzIEkgc3VnZ2VzdCBo
ZXJlIGFyZQ0KPiA+Pj4gYXBwcm94aW1hdGlvbnMsIGhvd2V2ZXIgdGhhdCBpZGVhIGlzIG15IHN1
Z2dlc3Rpb24gaWYgd2UncmUganVzdA0KPiA+Pj4gZG9pbmcgYSBicmVha291dCBvZiB0aGUgdGFi
bGVzIGFuZCBub3QgYSBuZXcgY29tcGF0aWJsZS4NCj4gPj4+DQo+ID4+PiBJIGFtIHBvc2l0aXZl
IG9uIGhhdmluZyB0aGUgMTI1ME1IeiBPUFAgdGFibGVzIHNwbGl0IG91dCBpbnRvIGR0c2kNCj4g
Pj4+IGluc3RlYWQgb2Ygc3R1ZmZpbmcgdGhlbSBpbnRvIHRoZSBWaXNpb25GaXZlIDIgTGl0ZSBj
b21tb24gZHRzaS4NCj4gPj4+IFRoYXQncyBhbGwgaXQgaXM/DQo+ID4+DQo+ID4+IEkgdGhpbmsg
dGhpcyBzdWdnZXN0aW9uIG1ha2VzIHNlbnNlIGlmIHdlJ3JlIDEwMCUgc3VyZSB0aGUgSkg3MTEw
IGFuZA0KPiA+PiBKSDcxMTBTIHdpbGwgb25seSBldmVyIGRpZmZlciBieSB0aGUgb3BwIHRhYmxl
LiBJZiB0aGVyZSBpcyBhbnkNCj4gPj4gY2hhbmNlIHdlJ2xsIG5lZWQgdG8gYWRkIGRpZmZlcmVu
dCBjb21wYXRpYmxlIHN0cmluZyBmb3Igc29tZQ0KPiA+PiBwZXJpcGhlcmFsIHRoZW4gSSB0aGlu
ayBIYWwncyBzdWdnZXN0aW9uIHdpbGwgYmUgZWFzaWVyIHVudGFuZ2xlLg0KPiA+PiBXZSdsbCBl
dmVuIGJlIGFibGUgdG8gZG8gaXQgd2l0aG91dCB0b3VjaGluZyBhbGwgdGhlIGJvYXJkIGR0cyBm
aWxlcyBvbmNlDQo+IGFnYWluLg0KPiA+Pg0KPiA+PiBJJ20gaW50ZXJlc3RlZCB0byBoZWFyIEhh
bCdzIG9waW5pb24gb24gdGhpcy4gSG9wZWZ1bGx5IHRoZXknbGwgaGF2ZQ0KPiA+PiBtb3JlIGRl
dGFpbHMgb24gdGhlIHR3byB2ZXJzaW9uIG9mIHRoZSBKSDcxMTAuDQo+ID4NCj4gPiBIZXJlIGFy
ZSB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBKSDcxMTAgYW5kIEpINzExMFM6DQo+ID4gSkg3MTEw
IHN1cHBvcnRzIDB+NzAgZGVncmVlcyBjZW50aWdyYWRlIGFuZCB1cCB0byAxLjVHSHouDQo+ID4g
Skg3MTEwUyBzdXBwb3J0cyAtNDB+ODUgZGVncmVlcyBjZW50aWdyYWRlIGFuZCB1cCB0byAxLjI1
R0h6Lg0KPiA+DQo+ID4gSSBwcmVmZXIgdG8ga2VlcCAic3RhcmZpdmUsamg3MTEwcyIgY29tcGF0
aWJsZSwgYmVjYXVzZSAiSkg3MTEwUyIgaXMNCj4gPiB0aGUgY2hpcCBuYW1lIGluIFN0YXJGaXZl
IGRvY3VtZW50cyBhbmQgdGhlIG5hbWUgcHJpbnRlZCBvbiB0aGUgY2hpcC4NCj4gPiBJdCBpcyBl
YXNpZXIgZm9yIHRoZSB1c2VycyB0byBrbm93IHdoaWNoIGNoaXAgdGhleSBhcmUgdXNpbmcgYW5k
IHNlbGVjdCB0aGUNCj4gY29ycmVjdCBkZXZpY2UgdHJlZS4NCj4gPg0KPiA+IEFuZCBwYXRjaCBb
MV0gYW5kIFsyXSBoYWQgYWNjZXB0ZWQgdGhlICJzdGFyZml2ZSxqaDcxMTBzIiBjb21wYXRpYmxl
Lg0KPiA+IFsxXQ0KPiA+IGh0dHBzOi8vbG9yZS5rZXJuZWwub3JnL2FsbC9qdXJuZnB1ZmxsNHR3
djJoZnAyZHY2cWs2ZDNncjdnZm1lazVjemlnYjUNCj4gPiBiY29uNjM2cUBvcGI2aHJkYjQyNHAv
IFsyXQ0KPiA+DQo+IGh0dHBzOi8vbG9yZS5rZXJuZWwub3JnL2FsbC9DQUFoU2R5MkpyK0VvVzlB
Wm9vUkRhMTJLeDlNU1NhQmFEWGJKVW8NCj4gVnltDQo+ID4gMXFUdDNyMC1RQG1haWwuZ21haWwu
Y29tLw0KPiA+DQo+ID4gQmVzdCByZWdhcmRzLA0KPiA+IEhhbA0KPiANCj4gSGFsLA0KPiANCj4g
T3BlblNCSSBkZXZlbG9wbWVudCBjYW4gYWNjZXB0IGEgcmV2ZXJ0IGZvciB0aGF0IDEtbGluZXIg
b2YgY29kZSBpZiBuZWVkZWQsDQo+IGFuZCBhbnl3YXlzIHRoYXQgbmV3IGNvbXBhdGlibGUgd2Fz
IG5vdCB0YWdnZWQgaW4gYW55IHJlbGVhc2UgeWV0IHdoaWxlIGFsc28NCj4gYmVpbmcgbW9vdCBi
ZWNhdXNlIGlmIHlvdSBkbyB1c2UgaXQgc29tZXdoZXJlIGVsc2UgYW5kIE9wZW5TQkkga2VlcHMg
dGhpcw0KPiBhcm91bmQgaXQgaGFzIG5vIGVmZmVjdCBvbiB1cHN0cmVhbSBMaW51eCB1c2luZyB0
aGUgY29tcGF0aWJsZSBmb3IgSkg3MTEwLg0KPiANCj4gRGV2aWNldHJlZSBpbiBMaW51eCBkZXNj
cmliZXMgaGFyZHdhcmUgbm90IHJlbGF0ZWQgdG8gdGhlIGZlZWxpbmdzIG9mIGN1c3RvbWVycw0K
PiBzbyB0aGF0IHNob3VsZCBub3QgYmUgYSBjb25jZXJuIGhlcmUuDQo+IA0KPiBUaGUgZGF0YSBn
aXZlbiBmb3IgSkg3MTEwIGFuZCBKSDcxMTBTIGRvZXMgbm90IG1ha2Ugc2Vuc2UgZnJvbSB3aGF0
IGNhbg0KPiBiZSBmb3VuZCBpbiBwdWJsaXNoZWQgdGVjaG5pY2FsIGRvY3VtZW50YXRpb24uIFRo
ZSB0ZWNobmljYWwgZG9jdW1lbnRhdGlvbg0KPiBpcyBob3dldmVyIGxhY2tpbmcgYSBjaGFydCBm
b3IgSkg3MTEwIGZyb20gd2hpY2ggdG8gZGVyaXZlIGFueSB1c2VmdWwNCj4gY29tbWVudCBoZXJl
Lg0KPiANCj4gQWxsLA0KPiANCj4gSSByZXBlYXQgdGhhdCB0aGUgc3VnZ2VzdGlvbiB3YXMgbWFk
ZSBtb250aHMgYWdvIChieSBIYWwpIHRvIHNwbGl0IG91dCB0aGUNCj4gT1BQIHRhYmxlcyBwZXIt
Ym9hcmQgZnJvbSB0aGUgcGVyaW9kIG9mIHRpbWUgd2hlbiBJIHdhcyBjb21wbGFpbmluZyBhYm91
dA0KPiAxLjVHSHogSkgtNzExMCBvcGVyYXRpb24gcHVzaGluZyBURFAgaW50byBvdmVyLXRlbXBl
cmF0dXJlIHRoZXJtYWwgbGltaXQNCj4gb24gTWlsay1WIE1hcnMgQ00gU29NLg0KPiANCj4gV2hl
dGhlciBvciBub3QgSkg3MTEwUyBpcyBhIG5ldyBjb21wYXRpYmxlIHNob3VsZCBmb2xsb3cgcHJl
Y2VkZW5jZSBpbg0KPiBMaW51eCBkZXZlbG9wbWVudC4gSkgtNzExMFMgaXMgZXZpZGVudGx5IHRo
ZSBzYW1lIHRhcGUtb3V0IGFzIEpILTcxMTAgYW5kDQo+IGhvd2V2ZXIgeW91IGRlYWwgd2l0aCB0
aGF0IGluIExpbnV4IGlzIHRoZSBhcHByb3ByaWF0ZSB3YXkgdG8gZGVhbCB3aXRoIHRoYXQNCj4g
aGVyZS4gU2VsZWN0aW9uIG9mIE9QUCB0YWJsZSBmb3IgY29ycmVjdCBvcGVyYXRpb24gd2lsbCBi
ZSBkZXRlcm1pbmVkIGJ5DQo+IGJvb3Rsb2FkZXIsIHdoZXJlLCBpdCBpcyBkZW1vbnN0cmF0ZWQg
YnkgcGF0Y2ggc2VyaWVzIHNlbnQgdG8gVS1Cb290DQo+IHVwc3RyZWFtIHRvIGJlIHNlbGVjdGVk
ICoqIHBlci1ib2FyZCAqKiBiYXNlZCBvbiBFRVBST00gY29udGVudCBhcyBpZiBpdA0KPiB3YXMg
YW55IG90aGVyIEpILTcxMTAgYm9hcmQgZGVjaWRpbmcgZHRzIGJhc2VkIG9uIEVFUFJPTSBjb250
ZW50LiBHaXZlbg0KPiB0aGF0IGl0IGlzIHRoZSBzYW1lIHRhcGUtb3V0IEkgZG8gbm90IGZpbmQg
YSB2YWxpZCBqdXN0aWZpY2F0aW9uIGZvciBhIG5ldw0KPiBjb21wYXRpYmxlIGluIHRoZSBzdGFj
ayBvZiBhZGphY2VudCBzb2Z0d2FyZSBiZXNpZGVzIGdvaW5nIGFsb25nIHdpdGggc29tZQ0KPiBr
aW5kIG9mIG1hcmtldGluZy1kcml2ZW4gYW5zd2VyIGFib3V0IHdoZXRoZXIgb3Igbm90IHRoaXMg
aXMgYSBuZXcgU29DLg0KPiANCj4gV2hhdCBJIGNhcmUgYWJvdXQgbm93IGlzIHRoYXQgdGhlIFZp
c2lvbkZpdmUgMiBMaXRlIHNlcmllcyBpcyBpbiBnb29kIGVub3VnaA0KPiBzaGFwZSBhbmQgdGhl
cmUncyBhIHBvc3NpYmlsaXR5IHRvIGFjdCBvbiB0aGlzIG1vbnRocy1vbGQgc3VnZ2VzdGlvbiB0
byBzcGxpdCBvdXQNCj4gdGhlIE9QUCB0YWJsZXMgd2hpY2ggYXMgd2UgaGF2ZSBjb25maXJtZWQg
dGhlIEpINzExMFMgaXMgdGhlIHNhbWUgU29DIGFzDQo+IEpINzExMCBpdCBtYWtlcyBhIGxvdCBv
ZiBzZW5zZSB0byBkby4NCj4gDQo+IEhvdyBpcyBpdCBzdXBwb3NlZCB0byB3b3JrIGZvciBiaW5u
ZWQgc2lsaWNvbiBpbiBMaW51eD8NCg0KSGksIENvbm9yLCAgRW1pbCwgDQoNCldoYXQgZG8geW91
IHRoaW5rIGFib3V0IHRoaXM/IEhvcGUgdG8gaGVhciBmcm9tIHlvdS4NCg0KQmVzdCByZWdhcmRz
LA0KSGFsDQo=

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from smtp-relay-internal-0.canonical.com (smtp-relay-internal-0.canonical.com [185.125.188.122])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 014A3357A2A
	for <linux-kernel@vger.kernel.org>; Tue, 18 Nov 2025 15:12:51 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=185.125.188.122
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1763478774; cv=none; b=aNVBNsDU4T/hxD/JlJaEetMLYD8dNMKPrnmcm5euLcs0g1S5cVSd/MOBZYZn4DJaftLWv/JcE1afbEXRFIv0plu68ySmjJUOCUfA0Alz4lZiADXeDIyZzwzJ9j1JPurQhd8dR67Ujb9DrUe2lV3K9n+S6jmyRYFEuBMoUsBbtTg=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1763478774; c=relaxed/simple;
	bh=as+/Bjx47SbHNdoTillJHqEh8Q2g6MXvxmxfhNESGUs=;
	h=Message-ID:Date:MIME-Version:Subject:To:Cc:References:From:
	 In-Reply-To:Content-Type; b=n8dOFmvU5HJXuK31utKD6qG+Rs6rPEiMBLfyGjbu1JmunJWFvv9FqPi35C/UflgpYEaHIZ18zQnVHbnDvSG7FM27B2qhK09jygDQ5/vZsby+8LUQYiQKyfh32kh4RTiI50NG+BFv3XS6PcLVH3g8Z8+JLkuJMzIHyCDt0rz4y0Q=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=canonical.com; spf=pass smtp.mailfrom=canonical.com; dkim=pass (4096-bit key) header.d=canonical.com header.i=@canonical.com header.b=JhCnuLLi; arc=none smtp.client-ip=185.125.188.122
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=canonical.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=canonical.com
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (4096-bit key) header.d=canonical.com header.i=@canonical.com header.b="JhCnuLLi"
Received: from mail-wm1-f72.google.com (mail-wm1-f72.google.com [209.85.128.72])
	(using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
	 key-exchange X25519 server-signature RSA-PSS (2048 bits) server-digest SHA256)
	(No client certificate requested)
	by smtp-relay-internal-0.canonical.com (Postfix) with ESMTPS id E363C3F59A
	for <linux-kernel@vger.kernel.org>; Tue, 18 Nov 2025 15:12:39 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=canonical.com;
	s=20251003; t=1763478759;
	bh=QYW084xRPtrHcS9BFdMg3li+ldeYqP8F4NisC2kwgpU=;
	h=Message-ID:Date:MIME-Version:Subject:To:Cc:References:From:
	 In-Reply-To:Content-Type;
	b=JhCnuLLi37iB8Ym180EpKIr9baK38eBpZvayrAXG/nWwpEz/mInWNfaTWLh92p+XY
	 fzHtKekiRxIH7+e3/cY89o/q9LSzRktzIG8mqLpf65Y/qrre/upD+OG1r8RYUT1JT0
	 Vchsg4q0YsWA+jib/ruLlOFPGaEcYSppn494n23Jysmoq5ys1sieSfj+t3z2DvuNxn
	 xqdUV4InNdhcJBzHOGlKedLpD+DwvH7N6080RGvE0Iwf4EGm5yJCMYh9d4IIBUDkzS
	 K+BKRlJ/fnERGvMqx17SFHt9I1n/uD/xIfFYrg0M2BSlf8aERe+oJ6PnDVPikFXGng
	 KT+QpPZHnaGL+y49U2PNsL7kjBdO94Arh+V1HlGX1BNHirXL2BCLS78YjFdMobBzrX
	 JGgIgsZDBaDaFJkF1YxB/NYFeNIwAcpysnIF9za/Le0P21aYvBg5Y25Czf07JcOVUD
	 1MTEoMZUTVscSHw/eofvF/HroYmdT0yXPb9WdiN1WnrnOHBBiLyQwNiX8W+i8z+CTJ
	 2rPhuhAuYX7zu3IzSVMjy09vaZjyG+gGbR7v2UoTSVOl3ebSiXhawuie9h557hRFI7
	 PUxvGcm2x07nkZqFABbWg12JewCbgE6W6agxOa6RtE1Re9BHi92cw27tPB7dwmWoZK
	 JnveQLYwHpY8UEba373Yqh7o=
Received: by mail-wm1-f72.google.com with SMTP id 5b1f17b1804b1-4779c35a66bso21759005e9.2
        for <linux-kernel@vger.kernel.org>; Tue, 18 Nov 2025 07:12:39 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20230601; t=1763478759; x=1764083559;
        h=content-transfer-encoding:in-reply-to:from:content-language
         :references:cc:to:subject:user-agent:mime-version:date:message-id
         :x-gm-gg:x-gm-message-state:from:to:cc:subject:date:message-id
         :reply-to;
        bh=QYW084xRPtrHcS9BFdMg3li+ldeYqP8F4NisC2kwgpU=;
        b=P9fPLveJfgaG3zWNsYpuuXaAPu/4mkpUtSqhFzPocG6pYd4AkQ/JYPOwD0QTKO638f
         zn98XmpnknhsBoj0wW1/ASRNOecuhIPxoqUCH0g0o01vxrHL3eNjleAoiIVWTcJav/On
         7g1URyTnbZ993dQlqKQI54BhfLA2ANFCHKZRKICO7d7Pu8LOOHAdQoNYZz85k28YTazH
         cW4oMyln4Zn5vnA1aXuf2l9Lh2ktzr2pnyBKhHxgnybZ+qVMPkSsYzwXvjeWKsaF0fQU
         BDyWoZgx0/6rmZUrbwSIAidSXwBV1ClX9sdrptkItjecnL9ckmoxeM5vggKtqlZa/4wY
         5Y/A==
X-Forwarded-Encrypted: i=1; AJvYcCWaz97wHPn85jWXXpTnCvDdXPt1W/KlBbJnZ3co0itfkb4z527JvXPiHanzItNI+WulLKl1oROmrNXnufA=@vger.kernel.org
X-Gm-Message-State: AOJu0YxRUD5HxjbhR3IDYB2/uwI5JTYomomqvHVhrFOz/7awDCwalfV8
	GE3az1TA1wdDQ2zKK/1VnMElJLxR9PfTp/RJgT9Wg68TcMCRRIQiogIbvt91KM3yERdJnSu57iv
	xR/aRBeATaEkNUijXDQLnYDzWVy62cEzxTy72dypEyfPIRguEgWvy41fU56sdmTn/CYaBwrfdJ3
	BfX2ua4JZvTOPQrBBZ
X-Gm-Gg: ASbGncuoRyK8UKcYbojT6/yJvvtfu3Q0HlNoOk3FlQjj2P56q5oZ98QqC/5x7V8/lrN
	aY2ZInTbCp6ufWfArgcavYyKTfR7PFHdns7bC8507lNScwV8lzZsNAOL2ntGxTx1UZ8CuSHaFsg
	jQGKcAVQM5JeXPp/AnAQ+Yn4n96d+DnXXrYOnEWiUhqU0LrsQXXJ2vgBk7J3uJ57yajBQ8/zshX
	vnSPJzsHF0XpuQJaCdt7IAkKGpsiS5QeHyaHUkAzXJQPiNfesZxwbfljLCd+70WYtDfAbNJCPPD
	1XejlAKKsHXlA3vLRCHCimAxHBGLFXdrk0lVzSr5DoLGjmDzjFUcLJJnhW3qaNE+RqkE5K3K61y
	s4pIonkb0RGUMIB5GfujWHkYjKfNOWeOKYGdtXfIqBGBdw1N1RExTcKcCKp0ISuU94qSbIxy0Yv
	BVKpBOBQI=
X-Received: by 2002:a05:600c:a47:b0:477:7a53:f493 with SMTP id 5b1f17b1804b1-4778fe78b15mr169656065e9.23.1763478758463;
        Tue, 18 Nov 2025 07:12:38 -0800 (PST)
X-Google-Smtp-Source: AGHT+IE9nR6zrXV9uSL6xlJiS/ofCjZNxePLdcNBepG1KcjfIHFcnQEuUiye7UVgA/UkolEiTj0s+Q==
X-Received: by 2002:a05:600c:a47:b0:477:7a53:f493 with SMTP id 5b1f17b1804b1-4778fe78b15mr169655645e9.23.1763478757841;
        Tue, 18 Nov 2025 07:12:37 -0800 (PST)
Received: from [192.168.103.118] (ip-005-147-080-091.um06.pools.vodafone-ip.de. [5.147.80.91])
        by smtp.gmail.com with ESMTPSA id 5b1f17b1804b1-477a04157c2sm143361745e9.1.2025.11.18.07.12.36
        (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
        Tue, 18 Nov 2025 07:12:37 -0800 (PST)
Message-ID: <ffdfc550-559b-4c59-9873-3f040fc3bb0e@canonical.com>
Date: Tue, 18 Nov 2025 16:12:35 +0100
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
User-Agent: Mozilla Thunderbird
Subject: Re: [PATCH v2 4/8] riscv: dts: starfive: Split jh7110-common.dtsi and
 move opp table to it
To: Hal Feng <hal.feng@starfivetech.com>
Cc: devicetree@vger.kernel.org, linux-riscv@lists.infradead.org,
 linux-kernel@vger.kernel.org, Conor Dooley <conor+dt@kernel.org>,
 Rob Herring <robh@kernel.org>, Krzysztof Kozlowski <krzk+dt@kernel.org>,
 Palmer Dabbelt <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>,
 Albert Ou <aou@eecs.berkeley.edu>, "Rafael J . Wysocki" <rafael@kernel.org>,
 Viresh Kumar <viresh.kumar@linaro.org>, Bjorn Helgaas <bhelgaas@google.com>,
 Lorenzo Pieralisi <lpieralisi@kernel.org>,
 =?UTF-8?Q?Krzysztof_Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
 Manivannan Sadhasivam <mani@kernel.org>,
 Emil Renner Berthing <emil.renner.berthing@canonical.com>,
 E Shattow <e@freeshell.de>, Yao Zi <ziyao@disroot.org>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <20251107095530.114775-5-hal.feng@starfivetech.com>
Content-Language: en-US
From: Heinrich Schuchardt <heinrich.schuchardt@canonical.com>
In-Reply-To: <20251107095530.114775-5-hal.feng@starfivetech.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

On 11/7/25 10:55, Hal Feng wrote:
> Preparing to add JH7110S based board device trees, move the content of
> jh7110-common.dtsi to the new file jh711x-common.dtsi and move opp table
> to jh7110-common.dtsi.
> 
> Signed-off-by: Hal Feng <hal.feng@starfivetech.com>
> ---
>   .../boot/dts/starfive/jh7110-common.dtsi      | 665 +-----------------
>   .../boot/dts/starfive/jh711x-common.dtsi      | 664 +++++++++++++++++
>   arch/riscv/boot/dts/starfive/jh711x.dtsi      |  16 -
>   3 files changed, 678 insertions(+), 667 deletions(-)
>   create mode 100644 arch/riscv/boot/dts/starfive/jh711x-common.dtsi
> 
> diff --git a/arch/riscv/boot/dts/starfive/jh7110-common.dtsi b/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
> index 809274625615..dd5805ef70a1 100644
> --- a/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
> +++ b/arch/riscv/boot/dts/starfive/jh7110-common.dtsi
> @@ -5,660 +5,23 @@
>    */
>   
>   /dts-v1/;
> -#include "jh711x.dtsi"
> -#include "jh7110-pinfunc.h"
> -#include <dt-bindings/gpio/gpio.h>
> -#include <dt-bindings/leds/common.h>
> -#include <dt-bindings/pinctrl/starfive,jh7110-pinctrl.h>
> +#include "jh711x-common.dtsi"
>   
> -/ {
> -	aliases {
> -		ethernet0 = &gmac0;
> -		i2c0 = &i2c0;
> -		i2c2 = &i2c2;
> -		i2c5 = &i2c5;
> -		i2c6 = &i2c6;
> -		mmc0 = &mmc0;
> -		mmc1 = &mmc1;
> -		serial0 = &uart0;
> +&cpu_opp {
> +	opp-375000000 {
> +		opp-hz = /bits/ 64 <375000000>;
> +		opp-microvolt = <800000>;
>   	};
> -
> -	chosen {
> -		stdout-path = "serial0:115200n8";
> -	};
> -
> -	memory@40000000 {
> -		device_type = "memory";
> -		reg = <0x0 0x40000000 0x1 0x0>;
> -		bootph-pre-ram;
> -	};
> -
> -	gpio-restart {
> -		compatible = "gpio-restart";
> -		gpios = <&sysgpio 35 GPIO_ACTIVE_HIGH>;
> -		priority = <224>;
> -	};
> -
> -	leds {
> -		compatible = "gpio-leds";
> -
> -		led_status_power: led-0 {
> -			gpios = <&aongpio 3 GPIO_ACTIVE_HIGH>;
> -		};
> -	};
> -
> -	pwmdac_codec: audio-codec {
> -		compatible = "linux,spdif-dit";
> -		#sound-dai-cells = <0>;
> -	};
> -
> -	sound {
> -		compatible = "simple-audio-card";
> -		simple-audio-card,name = "StarFive-PWMDAC-Sound-Card";
> -		#address-cells = <1>;
> -		#size-cells = <0>;
> -
> -		simple-audio-card,dai-link@0 {
> -			reg = <0>;
> -			format = "left_j";
> -			bitclock-master = <&sndcpu0>;
> -			frame-master = <&sndcpu0>;
> -
> -			sndcpu0: cpu {
> -				sound-dai = <&pwmdac>;
> -			};
> -
> -			codec {
> -				sound-dai = <&pwmdac_codec>;
> -			};
> -		};
> -	};
> -};
> -
> -&cpus {
> -	timebase-frequency = <4000000>;
> -};
> -
> -&dvp_clk {
> -	clock-frequency = <74250000>;
> -};
> -
> -&gmac0_rgmii_rxin {
> -	clock-frequency = <125000000>;
> -};
> -
> -&gmac0_rmii_refin {
> -	clock-frequency = <50000000>;
> -};
> -
> -&gmac1_rgmii_rxin {
> -	clock-frequency = <125000000>;
> -};
> -
> -&gmac1_rmii_refin {
> -	clock-frequency = <50000000>;
> -};
> -
> -&hdmitx0_pixelclk {
> -	clock-frequency = <297000000>;
> -};
> -
> -&i2srx_bclk_ext {
> -	clock-frequency = <12288000>;
> -};
> -
> -&i2srx_lrck_ext {
> -	clock-frequency = <192000>;
> -};
> -
> -&i2stx_bclk_ext {
> -	clock-frequency = <12288000>;
> -};
> -
> -&i2stx_lrck_ext {
> -	clock-frequency = <192000>;
> -};
> -
> -&mclk_ext {
> -	clock-frequency = <12288000>;
> -};
> -
> -&osc {
> -	clock-frequency = <24000000>;
> -};
> -
> -&rtc_osc {
> -	clock-frequency = <32768>;
> -};
> -
> -&tdm_ext {
> -	clock-frequency = <49152000>;
> -};
> -
> -&camss {
> -	assigned-clocks = <&ispcrg JH7110_ISPCLK_DOM4_APB_FUNC>,
> -			  <&ispcrg JH7110_ISPCLK_MIPI_RX0_PXL>;
> -	assigned-clock-rates = <49500000>, <198000000>;
> -
> -	ports {
> -		#address-cells = <1>;
> -		#size-cells = <0>;
> -
> -		port@0 {
> -			reg = <0>;
> -		};
> -
> -		port@1 {
> -			reg = <1>;
> -
> -			camss_from_csi2rx: endpoint {
> -				remote-endpoint = <&csi2rx_to_camss>;
> -			};
> -		};
> +	opp-500000000 {
> +		opp-hz = /bits/ 64 <500000000>;
> +		opp-microvolt = <800000>;
>   	};
> -};
> -
> -&csi2rx {
> -	assigned-clocks = <&ispcrg JH7110_ISPCLK_VIN_SYS>;
> -	assigned-clock-rates = <297000000>;
> -
> -	ports {
> -		#address-cells = <1>;
> -		#size-cells = <0>;
> -
> -		port@0 {
> -			reg = <0>;
> -
> -			/* remote MIPI sensor endpoint */
> -		};
> -
> -		port@1 {
> -			reg = <1>;
> -
> -			csi2rx_to_camss: endpoint {
> -				remote-endpoint = <&camss_from_csi2rx>;
> -			};
> -		};
> +	opp-750000000 {
> +		opp-hz = /bits/ 64 <750000000>;
> +		opp-microvolt = <800000>;
>   	};
> -};
> -
> -&gmac0 {
> -	phy-handle = <&phy0>;
> -	phy-mode = "rgmii-id";
> -
> -	mdio {
> -		#address-cells = <1>;
> -		#size-cells = <0>;
> -		compatible = "snps,dwmac-mdio";
> -
> -		phy0: ethernet-phy@0 {
> -			reg = <0>;
> -		};
> +	opp-1500000000 {
> +		opp-hz = /bits/ 64 <1500000000>;
> +		opp-microvolt = <1040000>;
>   	};
>   };
> -
> -&i2c0 {
> -	clock-frequency = <100000>;
> -	i2c-sda-hold-time-ns = <300>;
> -	i2c-sda-falling-time-ns = <510>;
> -	i2c-scl-falling-time-ns = <510>;
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&i2c0_pins>;
> -};
> -
> -&i2c2 {
> -	clock-frequency = <100000>;
> -	i2c-sda-hold-time-ns = <300>;
> -	i2c-sda-falling-time-ns = <510>;
> -	i2c-scl-falling-time-ns = <510>;
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&i2c2_pins>;
> -	status = "okay";
> -};
> -
> -&i2c5 {
> -	clock-frequency = <100000>;
> -	i2c-sda-hold-time-ns = <300>;
> -	i2c-sda-falling-time-ns = <510>;
> -	i2c-scl-falling-time-ns = <510>;
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&i2c5_pins>;
> -	status = "okay";
> -
> -	axp15060: pmic@36 {
> -		compatible = "x-powers,axp15060";
> -		reg = <0x36>;
> -		interrupt-controller;
> -		#interrupt-cells = <1>;
> -
> -		regulators {
> -			vcc_3v3: dcdc1 {
> -				regulator-boot-on;
> -				regulator-always-on;
> -				regulator-min-microvolt = <3300000>;
> -				regulator-max-microvolt = <3300000>;
> -				regulator-name = "vcc_3v3";
> -			};
> -
> -			vdd_cpu: dcdc2 {
> -				regulator-always-on;
> -				regulator-min-microvolt = <500000>;
> -				regulator-max-microvolt = <1540000>;
> -				regulator-name = "vdd_cpu";
> -			};
> -
> -			emmc_vdd: aldo4 {
> -				regulator-boot-on;
> -				regulator-always-on;
> -				regulator-min-microvolt = <1800000>;
> -				regulator-max-microvolt = <3300000>;
> -				regulator-name = "emmc_vdd";
> -			};
> -		};
> -	};
> -
> -	eeprom@50 {
> -		compatible = "atmel,24c04";
> -		reg = <0x50>;
> -		bootph-pre-ram;
> -		pagesize = <16>;
> -	};
> -};
> -
> -&i2c6 {
> -	clock-frequency = <100000>;
> -	i2c-sda-hold-time-ns = <300>;
> -	i2c-sda-falling-time-ns = <510>;
> -	i2c-scl-falling-time-ns = <510>;
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&i2c6_pins>;
> -	status = "okay";
> -};
> -
> -&mmc0 {
> -	max-frequency = <100000000>;
> -	assigned-clocks = <&syscrg JH7110_SYSCLK_SDIO0_SDCARD>;
> -	assigned-clock-rates = <50000000>;
> -	bus-width = <8>;
> -	bootph-pre-ram;
> -	cap-mmc-highspeed;
> -	mmc-ddr-1_8v;
> -	mmc-hs200-1_8v;
> -	cap-mmc-hw-reset;
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&mmc0_pins>;
> -	vmmc-supply = <&vcc_3v3>;
> -	vqmmc-supply = <&emmc_vdd>;
> -	status = "okay";
> -};
> -
> -&mmc1 {
> -	max-frequency = <100000000>;
> -	assigned-clocks = <&syscrg JH7110_SYSCLK_SDIO1_SDCARD>;
> -	assigned-clock-rates = <50000000>;
> -	bus-width = <4>;
> -	bootph-pre-ram;
> -	cd-gpios = <&sysgpio 41 GPIO_ACTIVE_LOW>;
> -	disable-wp;
> -	cap-sd-highspeed;
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&mmc1_pins>;
> -	status = "okay";
> -};
> -
> -&pcie0 {
> -	perst-gpios = <&sysgpio 26 GPIO_ACTIVE_LOW>;
> -	phys = <&pciephy0>;
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&pcie0_pins>;
> -};
> -
> -&pcie1 {
> -	perst-gpios = <&sysgpio 28 GPIO_ACTIVE_LOW>;
> -	phys = <&pciephy1>;
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&pcie1_pins>;
> -};
> -
> -&pwmdac {
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&pwmdac_pins>;
> -};
> -
> -&qspi {
> -	#address-cells = <1>;
> -	#size-cells = <0>;
> -	status = "okay";
> -
> -	nor_flash: flash@0 {
> -		compatible = "jedec,spi-nor";
> -		reg = <0>;
> -		bootph-pre-ram;
> -		cdns,read-delay = <2>;
> -		spi-max-frequency = <100000000>;
> -		cdns,tshsl-ns = <1>;
> -		cdns,tsd2d-ns = <1>;
> -		cdns,tchsh-ns = <1>;
> -		cdns,tslch-ns = <1>;
> -
> -		partitions {
> -			compatible = "fixed-partitions";
> -			#address-cells = <1>;
> -			#size-cells = <1>;
> -
> -			spl@0 {
> -				reg = <0x0 0xf0000>;
> -			};
> -			uboot-env@f0000 {
> -				reg = <0xf0000 0x10000>;
> -			};
> -			uboot@100000 {
> -				reg = <0x100000 0xf00000>;
> -			};
> -		};
> -	};
> -};
> -
> -&pwm {
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&pwm_pins>;
> -};
> -
> -&spi0 {
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&spi0_pins>;
> -};
> -
> -&syscrg {
> -	assigned-clocks = <&syscrg JH7110_SYSCLK_CPU_ROOT>,
> -			  <&syscrg JH7110_SYSCLK_BUS_ROOT>,
> -			  <&syscrg JH7110_SYSCLK_PERH_ROOT>,
> -			  <&syscrg JH7110_SYSCLK_QSPI_REF>,
> -			  <&syscrg JH7110_SYSCLK_CPU_CORE>,
> -			  <&pllclk JH7110_PLLCLK_PLL0_OUT>;
> -	assigned-clock-parents = <&pllclk JH7110_PLLCLK_PLL0_OUT>,
> -				 <&pllclk JH7110_PLLCLK_PLL2_OUT>,
> -				 <&pllclk JH7110_PLLCLK_PLL2_OUT>,
> -				 <&syscrg JH7110_SYSCLK_QSPI_REF_SRC>;
> -	assigned-clock-rates = <0>, <0>, <0>, <0>, <500000000>, <1500000000>;
> -};
> -
> -&sysgpio {
> -	i2c0_pins: i2c0-0 {
> -		i2c-pins {
> -			pinmux = <GPIOMUX(57, GPOUT_LOW,
> -					      GPOEN_SYS_I2C0_CLK,
> -					      GPI_SYS_I2C0_CLK)>,
> -				 <GPIOMUX(58, GPOUT_LOW,
> -					      GPOEN_SYS_I2C0_DATA,
> -					      GPI_SYS_I2C0_DATA)>;
> -			bias-disable; /* external pull-up */
> -			input-enable;
> -			input-schmitt-enable;
> -		};
> -	};
> -
> -	i2c2_pins: i2c2-0 {
> -		i2c-pins {
> -			pinmux = <GPIOMUX(3, GPOUT_LOW,
> -					     GPOEN_SYS_I2C2_CLK,
> -					     GPI_SYS_I2C2_CLK)>,
> -				 <GPIOMUX(2, GPOUT_LOW,
> -					     GPOEN_SYS_I2C2_DATA,
> -					     GPI_SYS_I2C2_DATA)>;
> -			bias-disable; /* external pull-up */
> -			input-enable;
> -			input-schmitt-enable;
> -		};
> -	};
> -
> -	i2c5_pins: i2c5-0 {
> -		bootph-pre-ram;
> -
> -		i2c-pins {
> -			pinmux = <GPIOMUX(19, GPOUT_LOW,
> -					      GPOEN_SYS_I2C5_CLK,
> -					      GPI_SYS_I2C5_CLK)>,
> -				 <GPIOMUX(20, GPOUT_LOW,
> -					      GPOEN_SYS_I2C5_DATA,
> -					      GPI_SYS_I2C5_DATA)>;
> -			bias-disable; /* external pull-up */
> -			bootph-pre-ram;
> -			input-enable;
> -			input-schmitt-enable;
> -		};
> -	};
> -
> -	i2c6_pins: i2c6-0 {
> -		i2c-pins {
> -			pinmux = <GPIOMUX(16, GPOUT_LOW,
> -					      GPOEN_SYS_I2C6_CLK,
> -					      GPI_SYS_I2C6_CLK)>,
> -				 <GPIOMUX(17, GPOUT_LOW,
> -					      GPOEN_SYS_I2C6_DATA,
> -					      GPI_SYS_I2C6_DATA)>;
> -			bias-disable; /* external pull-up */
> -			input-enable;
> -			input-schmitt-enable;
> -		};
> -	};
> -
> -	mmc0_pins: mmc0-0 {
> -		mmc-pins {
> -			pinmux = <PINMUX(PAD_SD0_CLK, 0)>,
> -				 <PINMUX(PAD_SD0_CMD, 0)>,
> -				 <PINMUX(PAD_SD0_DATA0, 0)>,
> -				 <PINMUX(PAD_SD0_DATA1, 0)>,
> -				 <PINMUX(PAD_SD0_DATA2, 0)>,
> -				 <PINMUX(PAD_SD0_DATA3, 0)>,
> -				 <PINMUX(PAD_SD0_DATA4, 0)>,
> -				 <PINMUX(PAD_SD0_DATA5, 0)>,
> -				 <PINMUX(PAD_SD0_DATA6, 0)>,
> -				 <PINMUX(PAD_SD0_DATA7, 0)>;
> -			bias-pull-up;
> -			drive-strength = <12>;
> -			input-enable;
> -		};
> -	};
> -
> -	mmc1_pins: mmc1-0 {
> -		clk-pins {
> -			pinmux = <GPIOMUX(10, GPOUT_SYS_SDIO1_CLK,
> -					      GPOEN_ENABLE,
> -					      GPI_NONE)>;
> -			bias-pull-up;
> -			drive-strength = <12>;
> -			input-disable;
> -			input-schmitt-disable;
> -			slew-rate = <0>;
> -		};
> -
> -		mmc-pins {
> -			pinmux = <GPIOMUX(9, GPOUT_SYS_SDIO1_CMD,
> -					     GPOEN_SYS_SDIO1_CMD,
> -					     GPI_SYS_SDIO1_CMD)>,
> -				 <GPIOMUX(11, GPOUT_SYS_SDIO1_DATA0,
> -					      GPOEN_SYS_SDIO1_DATA0,
> -					      GPI_SYS_SDIO1_DATA0)>,
> -				 <GPIOMUX(12, GPOUT_SYS_SDIO1_DATA1,
> -					      GPOEN_SYS_SDIO1_DATA1,
> -					      GPI_SYS_SDIO1_DATA1)>,
> -				 <GPIOMUX(7, GPOUT_SYS_SDIO1_DATA2,
> -					     GPOEN_SYS_SDIO1_DATA2,
> -					     GPI_SYS_SDIO1_DATA2)>,
> -				 <GPIOMUX(8, GPOUT_SYS_SDIO1_DATA3,
> -					     GPOEN_SYS_SDIO1_DATA3,
> -					     GPI_SYS_SDIO1_DATA3)>;
> -			bias-pull-up;
> -			drive-strength = <12>;
> -			input-enable;
> -			input-schmitt-enable;
> -			slew-rate = <0>;
> -		};
> -	};
> -
> -	pcie0_pins: pcie0-0 {
> -		clkreq-pins {
> -			pinmux = <GPIOMUX(27, GPOUT_LOW,
> -					      GPOEN_DISABLE,
> -					      GPI_NONE)>;
> -			bias-pull-down;
> -			drive-strength = <2>;
> -			input-enable;
> -			input-schmitt-disable;
> -			slew-rate = <0>;
> -		};
> -
> -		wake-pins {
> -			pinmux = <GPIOMUX(32, GPOUT_LOW,
> -					      GPOEN_DISABLE,
> -					      GPI_NONE)>;
> -			bias-pull-up;
> -			drive-strength = <2>;
> -			input-enable;
> -			input-schmitt-disable;
> -			slew-rate = <0>;
> -		};
> -	};
> -
> -	pcie1_pins: pcie1-0 {
> -		clkreq-pins {
> -			pinmux = <GPIOMUX(29, GPOUT_LOW,
> -					      GPOEN_DISABLE,
> -					      GPI_NONE)>;
> -			bias-pull-down;
> -			drive-strength = <2>;
> -			input-enable;
> -			input-schmitt-disable;
> -			slew-rate = <0>;
> -		};
> -
> -		wake-pins {
> -			pinmux = <GPIOMUX(21, GPOUT_LOW,
> -				      GPOEN_DISABLE,
> -					      GPI_NONE)>;
> -			bias-pull-up;
> -			drive-strength = <2>;
> -			input-enable;
> -			input-schmitt-disable;
> -			slew-rate = <0>;
> -		};
> -	};
> -
> -	pwmdac_pins: pwmdac-0 {
> -		pwmdac-pins {
> -			pinmux = <GPIOMUX(33, GPOUT_SYS_PWMDAC_LEFT,
> -					      GPOEN_ENABLE,
> -					      GPI_NONE)>,
> -				 <GPIOMUX(34, GPOUT_SYS_PWMDAC_RIGHT,
> -					      GPOEN_ENABLE,
> -					      GPI_NONE)>;
> -			bias-disable;
> -			drive-strength = <2>;
> -			input-disable;
> -			input-schmitt-disable;
> -			slew-rate = <0>;
> -		};
> -	};
> -
> -	pwm_pins: pwm-0 {
> -		pwm-pins {
> -			pinmux = <GPIOMUX(46, GPOUT_SYS_PWM_CHANNEL0,
> -					      GPOEN_SYS_PWM0_CHANNEL0,
> -					      GPI_NONE)>,
> -				 <GPIOMUX(59, GPOUT_SYS_PWM_CHANNEL1,
> -					      GPOEN_SYS_PWM0_CHANNEL1,
> -					      GPI_NONE)>;
> -			bias-disable;
> -			drive-strength = <12>;
> -			input-disable;
> -			input-schmitt-disable;
> -			slew-rate = <0>;
> -		};
> -	};
> -
> -	spi0_pins: spi0-0 {
> -		mosi-pins {
> -			pinmux = <GPIOMUX(52, GPOUT_SYS_SPI0_TXD,
> -					      GPOEN_ENABLE,
> -					      GPI_NONE)>;
> -			bias-disable;
> -			input-disable;
> -			input-schmitt-disable;
> -		};
> -
> -		miso-pins {
> -			pinmux = <GPIOMUX(53, GPOUT_LOW,
> -					      GPOEN_DISABLE,
> -					      GPI_SYS_SPI0_RXD)>;
> -			bias-pull-up;
> -			input-enable;
> -			input-schmitt-enable;
> -		};
> -
> -		sck-pins {
> -			pinmux = <GPIOMUX(48, GPOUT_SYS_SPI0_CLK,
> -					      GPOEN_ENABLE,
> -					      GPI_SYS_SPI0_CLK)>;
> -			bias-disable;
> -			input-disable;
> -			input-schmitt-disable;
> -		};
> -
> -		ss-pins {
> -			pinmux = <GPIOMUX(49, GPOUT_SYS_SPI0_FSS,
> -					      GPOEN_ENABLE,
> -					      GPI_SYS_SPI0_FSS)>;
> -			bias-disable;
> -			input-disable;
> -			input-schmitt-disable;
> -		};
> -	};
> -
> -	uart0_pins: uart0-0 {
> -		tx-pins {
> -			pinmux = <GPIOMUX(5, GPOUT_SYS_UART0_TX,
> -					     GPOEN_ENABLE,
> -					     GPI_NONE)>;
> -			bias-disable;
> -			drive-strength = <12>;
> -			input-disable;
> -			input-schmitt-disable;
> -			slew-rate = <0>;
> -		};
> -
> -		rx-pins {
> -			pinmux = <GPIOMUX(6, GPOUT_LOW,
> -					     GPOEN_DISABLE,
> -					     GPI_SYS_UART0_RX)>;
> -			bias-disable; /* external pull-up */
> -			drive-strength = <2>;
> -			input-enable;
> -			input-schmitt-enable;
> -			slew-rate = <0>;
> -		};
> -	};
> -};
> -
> -&uart0 {
> -	bootph-pre-ram;
> -	pinctrl-names = "default";
> -	pinctrl-0 = <&uart0_pins>;
> -	status = "okay";
> -};
> -
> -&U74_1 {
> -	cpu-supply = <&vdd_cpu>;
> -};
> -
> -&U74_2 {
> -	cpu-supply = <&vdd_cpu>;
> -};
> -
> -&U74_3 {
> -	cpu-supply = <&vdd_cpu>;
> -};
> -
> -&U74_4 {
> -	cpu-supply = <&vdd_cpu>;
> -};
> diff --git a/arch/riscv/boot/dts/starfive/jh711x-common.dtsi b/arch/riscv/boot/dts/starfive/jh711x-common.dtsi
> new file mode 100644
> index 000000000000..809274625615
> --- /dev/null
> +++ b/arch/riscv/boot/dts/starfive/jh711x-common.dtsi
> @@ -0,0 +1,664 @@
> +// SPDX-License-Identifier: GPL-2.0 OR MIT
> +/*
> + * Copyright (C) 2022 StarFive Technology Co., Ltd.
> + * Copyright (C) 2022 Emil Renner Berthing <kernel@esmil.dk>
> + */
> +
> +/dts-v1/;
> +#include "jh711x.dtsi"
> +#include "jh7110-pinfunc.h"
> +#include <dt-bindings/gpio/gpio.h>
> +#include <dt-bindings/leds/common.h>
> +#include <dt-bindings/pinctrl/starfive,jh7110-pinctrl.h>
> +
> +/ {
> +	aliases {
> +		ethernet0 = &gmac0;
> +		i2c0 = &i2c0;
> +		i2c2 = &i2c2;
> +		i2c5 = &i2c5;
> +		i2c6 = &i2c6;
> +		mmc0 = &mmc0;
> +		mmc1 = &mmc1;
> +		serial0 = &uart0;
> +	};
> +
> +	chosen {
> +		stdout-path = "serial0:115200n8";
> +	};
> +
> +	memory@40000000 {
> +		device_type = "memory";
> +		reg = <0x0 0x40000000 0x1 0x0>;
> +		bootph-pre-ram;
> +	};
> +
> +	gpio-restart {
> +		compatible = "gpio-restart";
> +		gpios = <&sysgpio 35 GPIO_ACTIVE_HIGH>;
> +		priority = <224>;
> +	};
> +
> +	leds {
> +		compatible = "gpio-leds";
> +
> +		led_status_power: led-0 {
> +			gpios = <&aongpio 3 GPIO_ACTIVE_HIGH>;
> +		};
> +	};
> +
> +	pwmdac_codec: audio-codec {
> +		compatible = "linux,spdif-dit";
> +		#sound-dai-cells = <0>;
> +	};
> +
> +	sound {
> +		compatible = "simple-audio-card";
> +		simple-audio-card,name = "StarFive-PWMDAC-Sound-Card";
> +		#address-cells = <1>;
> +		#size-cells = <0>;
> +
> +		simple-audio-card,dai-link@0 {
> +			reg = <0>;
> +			format = "left_j";
> +			bitclock-master = <&sndcpu0>;
> +			frame-master = <&sndcpu0>;
> +
> +			sndcpu0: cpu {
> +				sound-dai = <&pwmdac>;
> +			};
> +
> +			codec {
> +				sound-dai = <&pwmdac_codec>;
> +			};
> +		};
> +	};
> +};
> +
> +&cpus {
> +	timebase-frequency = <4000000>;
> +};
> +
> +&dvp_clk {
> +	clock-frequency = <74250000>;
> +};
> +
> +&gmac0_rgmii_rxin {
> +	clock-frequency = <125000000>;
> +};
> +
> +&gmac0_rmii_refin {
> +	clock-frequency = <50000000>;
> +};
> +
> +&gmac1_rgmii_rxin {
> +	clock-frequency = <125000000>;
> +};
> +
> +&gmac1_rmii_refin {
> +	clock-frequency = <50000000>;
> +};
> +
> +&hdmitx0_pixelclk {
> +	clock-frequency = <297000000>;
> +};
> +
> +&i2srx_bclk_ext {
> +	clock-frequency = <12288000>;
> +};
> +
> +&i2srx_lrck_ext {
> +	clock-frequency = <192000>;
> +};
> +
> +&i2stx_bclk_ext {
> +	clock-frequency = <12288000>;
> +};
> +
> +&i2stx_lrck_ext {
> +	clock-frequency = <192000>;
> +};
> +
> +&mclk_ext {
> +	clock-frequency = <12288000>;
> +};
> +
> +&osc {
> +	clock-frequency = <24000000>;
> +};
> +
> +&rtc_osc {
> +	clock-frequency = <32768>;
> +};
> +
> +&tdm_ext {
> +	clock-frequency = <49152000>;
> +};
> +
> +&camss {
> +	assigned-clocks = <&ispcrg JH7110_ISPCLK_DOM4_APB_FUNC>,
> +			  <&ispcrg JH7110_ISPCLK_MIPI_RX0_PXL>;
> +	assigned-clock-rates = <49500000>, <198000000>;
> +
> +	ports {
> +		#address-cells = <1>;
> +		#size-cells = <0>;
> +
> +		port@0 {
> +			reg = <0>;
> +		};
> +
> +		port@1 {
> +			reg = <1>;
> +
> +			camss_from_csi2rx: endpoint {
> +				remote-endpoint = <&csi2rx_to_camss>;
> +			};
> +		};
> +	};
> +};
> +
> +&csi2rx {
> +	assigned-clocks = <&ispcrg JH7110_ISPCLK_VIN_SYS>;
> +	assigned-clock-rates = <297000000>;
> +
> +	ports {
> +		#address-cells = <1>;
> +		#size-cells = <0>;
> +
> +		port@0 {
> +			reg = <0>;
> +
> +			/* remote MIPI sensor endpoint */
> +		};
> +
> +		port@1 {
> +			reg = <1>;
> +
> +			csi2rx_to_camss: endpoint {
> +				remote-endpoint = <&camss_from_csi2rx>;
> +			};
> +		};
> +	};
> +};
> +
> +&gmac0 {
> +	phy-handle = <&phy0>;
> +	phy-mode = "rgmii-id";
> +
> +	mdio {
> +		#address-cells = <1>;
> +		#size-cells = <0>;
> +		compatible = "snps,dwmac-mdio";
> +
> +		phy0: ethernet-phy@0 {
> +			reg = <0>;
> +		};
> +	};
> +};
> +
> +&i2c0 {
> +	clock-frequency = <100000>;
> +	i2c-sda-hold-time-ns = <300>;
> +	i2c-sda-falling-time-ns = <510>;
> +	i2c-scl-falling-time-ns = <510>;
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&i2c0_pins>;
> +};
> +
> +&i2c2 {
> +	clock-frequency = <100000>;
> +	i2c-sda-hold-time-ns = <300>;
> +	i2c-sda-falling-time-ns = <510>;
> +	i2c-scl-falling-time-ns = <510>;
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&i2c2_pins>;
> +	status = "okay";
> +};
> +
> +&i2c5 {
> +	clock-frequency = <100000>;
> +	i2c-sda-hold-time-ns = <300>;
> +	i2c-sda-falling-time-ns = <510>;
> +	i2c-scl-falling-time-ns = <510>;
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&i2c5_pins>;
> +	status = "okay";
> +
> +	axp15060: pmic@36 {
> +		compatible = "x-powers,axp15060";
> +		reg = <0x36>;
> +		interrupt-controller;
> +		#interrupt-cells = <1>;
> +
> +		regulators {
> +			vcc_3v3: dcdc1 {
> +				regulator-boot-on;
> +				regulator-always-on;
> +				regulator-min-microvolt = <3300000>;
> +				regulator-max-microvolt = <3300000>;
> +				regulator-name = "vcc_3v3";
> +			};
> +
> +			vdd_cpu: dcdc2 {
> +				regulator-always-on;
> +				regulator-min-microvolt = <500000>;
> +				regulator-max-microvolt = <1540000>;
> +				regulator-name = "vdd_cpu";
> +			};
> +
> +			emmc_vdd: aldo4 {
> +				regulator-boot-on;
> +				regulator-always-on;
> +				regulator-min-microvolt = <1800000>;
> +				regulator-max-microvolt = <3300000>;
> +				regulator-name = "emmc_vdd";
> +			};
> +		};
> +	};
> +
> +	eeprom@50 {
> +		compatible = "atmel,24c04";
> +		reg = <0x50>;
> +		bootph-pre-ram;
> +		pagesize = <16>;
> +	};
> +};
> +
> +&i2c6 {
> +	clock-frequency = <100000>;
> +	i2c-sda-hold-time-ns = <300>;
> +	i2c-sda-falling-time-ns = <510>;
> +	i2c-scl-falling-time-ns = <510>;
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&i2c6_pins>;
> +	status = "okay";
> +};
> +
> +&mmc0 {
> +	max-frequency = <100000000>;
> +	assigned-clocks = <&syscrg JH7110_SYSCLK_SDIO0_SDCARD>;
> +	assigned-clock-rates = <50000000>;
> +	bus-width = <8>;
> +	bootph-pre-ram;
> +	cap-mmc-highspeed;
> +	mmc-ddr-1_8v;
> +	mmc-hs200-1_8v;
> +	cap-mmc-hw-reset;
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&mmc0_pins>;
> +	vmmc-supply = <&vcc_3v3>;
> +	vqmmc-supply = <&emmc_vdd>;
> +	status = "okay";
> +};
> +
> +&mmc1 {
> +	max-frequency = <100000000>;
> +	assigned-clocks = <&syscrg JH7110_SYSCLK_SDIO1_SDCARD>;
> +	assigned-clock-rates = <50000000>;
> +	bus-width = <4>;
> +	bootph-pre-ram;
> +	cd-gpios = <&sysgpio 41 GPIO_ACTIVE_LOW>;
> +	disable-wp;
> +	cap-sd-highspeed;
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&mmc1_pins>;
> +	status = "okay";
> +};
> +
> +&pcie0 {
> +	perst-gpios = <&sysgpio 26 GPIO_ACTIVE_LOW>;
> +	phys = <&pciephy0>;
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&pcie0_pins>;
> +};
> +
> +&pcie1 {
> +	perst-gpios = <&sysgpio 28 GPIO_ACTIVE_LOW>;
> +	phys = <&pciephy1>;
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&pcie1_pins>;
> +};
> +
> +&pwmdac {
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&pwmdac_pins>;
> +};
> +
> +&qspi {
> +	#address-cells = <1>;
> +	#size-cells = <0>;
> +	status = "okay";
> +
> +	nor_flash: flash@0 {
> +		compatible = "jedec,spi-nor";
> +		reg = <0>;
> +		bootph-pre-ram;
> +		cdns,read-delay = <2>;
> +		spi-max-frequency = <100000000>;
> +		cdns,tshsl-ns = <1>;
> +		cdns,tsd2d-ns = <1>;
> +		cdns,tchsh-ns = <1>;
> +		cdns,tslch-ns = <1>;
> +
> +		partitions {
> +			compatible = "fixed-partitions";
> +			#address-cells = <1>;
> +			#size-cells = <1>;
> +
> +			spl@0 {
> +				reg = <0x0 0xf0000>;
> +			};
> +			uboot-env@f0000 {
> +				reg = <0xf0000 0x10000>;
> +			};
> +			uboot@100000 {
> +				reg = <0x100000 0xf00000>;
> +			};
> +		};
> +	};
> +};
> +
> +&pwm {
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&pwm_pins>;
> +};
> +
> +&spi0 {
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&spi0_pins>;
> +};
> +
> +&syscrg {
> +	assigned-clocks = <&syscrg JH7110_SYSCLK_CPU_ROOT>,
> +			  <&syscrg JH7110_SYSCLK_BUS_ROOT>,
> +			  <&syscrg JH7110_SYSCLK_PERH_ROOT>,
> +			  <&syscrg JH7110_SYSCLK_QSPI_REF>,
> +			  <&syscrg JH7110_SYSCLK_CPU_CORE>,
> +			  <&pllclk JH7110_PLLCLK_PLL0_OUT>;
> +	assigned-clock-parents = <&pllclk JH7110_PLLCLK_PLL0_OUT>,
> +				 <&pllclk JH7110_PLLCLK_PLL2_OUT>,
> +				 <&pllclk JH7110_PLLCLK_PLL2_OUT>,
> +				 <&syscrg JH7110_SYSCLK_QSPI_REF_SRC>;
> +	assigned-clock-rates = <0>, <0>, <0>, <0>, <500000000>, <1500000000>;
> +};
> +
> +&sysgpio {
> +	i2c0_pins: i2c0-0 {
> +		i2c-pins {
> +			pinmux = <GPIOMUX(57, GPOUT_LOW,
> +					      GPOEN_SYS_I2C0_CLK,
> +					      GPI_SYS_I2C0_CLK)>,
> +				 <GPIOMUX(58, GPOUT_LOW,
> +					      GPOEN_SYS_I2C0_DATA,
> +					      GPI_SYS_I2C0_DATA)>;
> +			bias-disable; /* external pull-up */
> +			input-enable;
> +			input-schmitt-enable;
> +		};
> +	};
> +
> +	i2c2_pins: i2c2-0 {
> +		i2c-pins {
> +			pinmux = <GPIOMUX(3, GPOUT_LOW,
> +					     GPOEN_SYS_I2C2_CLK,
> +					     GPI_SYS_I2C2_CLK)>,
> +				 <GPIOMUX(2, GPOUT_LOW,
> +					     GPOEN_SYS_I2C2_DATA,
> +					     GPI_SYS_I2C2_DATA)>;
> +			bias-disable; /* external pull-up */
> +			input-enable;
> +			input-schmitt-enable;
> +		};
> +	};
> +
> +	i2c5_pins: i2c5-0 {
> +		bootph-pre-ram;
> +
> +		i2c-pins {
> +			pinmux = <GPIOMUX(19, GPOUT_LOW,
> +					      GPOEN_SYS_I2C5_CLK,
> +					      GPI_SYS_I2C5_CLK)>,
> +				 <GPIOMUX(20, GPOUT_LOW,
> +					      GPOEN_SYS_I2C5_DATA,
> +					      GPI_SYS_I2C5_DATA)>;
> +			bias-disable; /* external pull-up */
> +			bootph-pre-ram;
> +			input-enable;
> +			input-schmitt-enable;
> +		};
> +	};
> +
> +	i2c6_pins: i2c6-0 {
> +		i2c-pins {
> +			pinmux = <GPIOMUX(16, GPOUT_LOW,
> +					      GPOEN_SYS_I2C6_CLK,
> +					      GPI_SYS_I2C6_CLK)>,
> +				 <GPIOMUX(17, GPOUT_LOW,
> +					      GPOEN_SYS_I2C6_DATA,
> +					      GPI_SYS_I2C6_DATA)>;
> +			bias-disable; /* external pull-up */
> +			input-enable;
> +			input-schmitt-enable;
> +		};
> +	};
> +
> +	mmc0_pins: mmc0-0 {
> +		mmc-pins {
> +			pinmux = <PINMUX(PAD_SD0_CLK, 0)>,
> +				 <PINMUX(PAD_SD0_CMD, 0)>,
> +				 <PINMUX(PAD_SD0_DATA0, 0)>,
> +				 <PINMUX(PAD_SD0_DATA1, 0)>,
> +				 <PINMUX(PAD_SD0_DATA2, 0)>,
> +				 <PINMUX(PAD_SD0_DATA3, 0)>,
> +				 <PINMUX(PAD_SD0_DATA4, 0)>,
> +				 <PINMUX(PAD_SD0_DATA5, 0)>,
> +				 <PINMUX(PAD_SD0_DATA6, 0)>,
> +				 <PINMUX(PAD_SD0_DATA7, 0)>;
> +			bias-pull-up;
> +			drive-strength = <12>;
> +			input-enable;
> +		};
> +	};
> +
> +	mmc1_pins: mmc1-0 {
> +		clk-pins {
> +			pinmux = <GPIOMUX(10, GPOUT_SYS_SDIO1_CLK,
> +					      GPOEN_ENABLE,
> +					      GPI_NONE)>;
> +			bias-pull-up;
> +			drive-strength = <12>;
> +			input-disable;
> +			input-schmitt-disable;
> +			slew-rate = <0>;

Please, add

			bootph-pre-ram;

to allow U-Boot to boot from SD-card. Maybe in a separate patch.

Best regards

Heinrich

> +		};
> +
> +		mmc-pins {
> +			pinmux = <GPIOMUX(9, GPOUT_SYS_SDIO1_CMD,
> +					     GPOEN_SYS_SDIO1_CMD,
> +					     GPI_SYS_SDIO1_CMD)>,
> +				 <GPIOMUX(11, GPOUT_SYS_SDIO1_DATA0,
> +					      GPOEN_SYS_SDIO1_DATA0,
> +					      GPI_SYS_SDIO1_DATA0)>,
> +				 <GPIOMUX(12, GPOUT_SYS_SDIO1_DATA1,
> +					      GPOEN_SYS_SDIO1_DATA1,
> +					      GPI_SYS_SDIO1_DATA1)>,
> +				 <GPIOMUX(7, GPOUT_SYS_SDIO1_DATA2,
> +					     GPOEN_SYS_SDIO1_DATA2,
> +					     GPI_SYS_SDIO1_DATA2)>,
> +				 <GPIOMUX(8, GPOUT_SYS_SDIO1_DATA3,
> +					     GPOEN_SYS_SDIO1_DATA3,
> +					     GPI_SYS_SDIO1_DATA3)>;
> +			bias-pull-up;
> +			drive-strength = <12>;
> +			input-enable;
> +			input-schmitt-enable;
> +			slew-rate = <0>;
> +		};
> +	};
> +
> +	pcie0_pins: pcie0-0 {
> +		clkreq-pins {
> +			pinmux = <GPIOMUX(27, GPOUT_LOW,
> +					      GPOEN_DISABLE,
> +					      GPI_NONE)>;
> +			bias-pull-down;
> +			drive-strength = <2>;
> +			input-enable;
> +			input-schmitt-disable;
> +			slew-rate = <0>;
> +		};
> +
> +		wake-pins {
> +			pinmux = <GPIOMUX(32, GPOUT_LOW,
> +					      GPOEN_DISABLE,
> +					      GPI_NONE)>;
> +			bias-pull-up;
> +			drive-strength = <2>;
> +			input-enable;
> +			input-schmitt-disable;
> +			slew-rate = <0>;
> +		};
> +	};
> +
> +	pcie1_pins: pcie1-0 {
> +		clkreq-pins {
> +			pinmux = <GPIOMUX(29, GPOUT_LOW,
> +					      GPOEN_DISABLE,
> +					      GPI_NONE)>;
> +			bias-pull-down;
> +			drive-strength = <2>;
> +			input-enable;
> +			input-schmitt-disable;
> +			slew-rate = <0>;
> +		};
> +
> +		wake-pins {
> +			pinmux = <GPIOMUX(21, GPOUT_LOW,
> +				      GPOEN_DISABLE,
> +					      GPI_NONE)>;
> +			bias-pull-up;
> +			drive-strength = <2>;
> +			input-enable;
> +			input-schmitt-disable;
> +			slew-rate = <0>;
> +		};
> +	};
> +
> +	pwmdac_pins: pwmdac-0 {
> +		pwmdac-pins {
> +			pinmux = <GPIOMUX(33, GPOUT_SYS_PWMDAC_LEFT,
> +					      GPOEN_ENABLE,
> +					      GPI_NONE)>,
> +				 <GPIOMUX(34, GPOUT_SYS_PWMDAC_RIGHT,
> +					      GPOEN_ENABLE,
> +					      GPI_NONE)>;
> +			bias-disable;
> +			drive-strength = <2>;
> +			input-disable;
> +			input-schmitt-disable;
> +			slew-rate = <0>;
> +		};
> +	};
> +
> +	pwm_pins: pwm-0 {
> +		pwm-pins {
> +			pinmux = <GPIOMUX(46, GPOUT_SYS_PWM_CHANNEL0,
> +					      GPOEN_SYS_PWM0_CHANNEL0,
> +					      GPI_NONE)>,
> +				 <GPIOMUX(59, GPOUT_SYS_PWM_CHANNEL1,
> +					      GPOEN_SYS_PWM0_CHANNEL1,
> +					      GPI_NONE)>;
> +			bias-disable;
> +			drive-strength = <12>;
> +			input-disable;
> +			input-schmitt-disable;
> +			slew-rate = <0>;
> +		};
> +	};
> +
> +	spi0_pins: spi0-0 {
> +		mosi-pins {
> +			pinmux = <GPIOMUX(52, GPOUT_SYS_SPI0_TXD,
> +					      GPOEN_ENABLE,
> +					      GPI_NONE)>;
> +			bias-disable;
> +			input-disable;
> +			input-schmitt-disable;
> +		};
> +
> +		miso-pins {
> +			pinmux = <GPIOMUX(53, GPOUT_LOW,
> +					      GPOEN_DISABLE,
> +					      GPI_SYS_SPI0_RXD)>;
> +			bias-pull-up;
> +			input-enable;
> +			input-schmitt-enable;
> +		};
> +
> +		sck-pins {
> +			pinmux = <GPIOMUX(48, GPOUT_SYS_SPI0_CLK,
> +					      GPOEN_ENABLE,
> +					      GPI_SYS_SPI0_CLK)>;
> +			bias-disable;
> +			input-disable;
> +			input-schmitt-disable;
> +		};
> +
> +		ss-pins {
> +			pinmux = <GPIOMUX(49, GPOUT_SYS_SPI0_FSS,
> +					      GPOEN_ENABLE,
> +					      GPI_SYS_SPI0_FSS)>;
> +			bias-disable;
> +			input-disable;
> +			input-schmitt-disable;
> +		};
> +	};
> +
> +	uart0_pins: uart0-0 {
> +		tx-pins {
> +			pinmux = <GPIOMUX(5, GPOUT_SYS_UART0_TX,
> +					     GPOEN_ENABLE,
> +					     GPI_NONE)>;
> +			bias-disable;
> +			drive-strength = <12>;
> +			input-disable;
> +			input-schmitt-disable;
> +			slew-rate = <0>;
> +		};
> +
> +		rx-pins {
> +			pinmux = <GPIOMUX(6, GPOUT_LOW,
> +					     GPOEN_DISABLE,
> +					     GPI_SYS_UART0_RX)>;
> +			bias-disable; /* external pull-up */
> +			drive-strength = <2>;
> +			input-enable;
> +			input-schmitt-enable;
> +			slew-rate = <0>;
> +		};
> +	};
> +};
> +
> +&uart0 {
> +	bootph-pre-ram;
> +	pinctrl-names = "default";
> +	pinctrl-0 = <&uart0_pins>;
> +	status = "okay";
> +};
> +
> +&U74_1 {
> +	cpu-supply = <&vdd_cpu>;
> +};
> +
> +&U74_2 {
> +	cpu-supply = <&vdd_cpu>;
> +};
> +
> +&U74_3 {
> +	cpu-supply = <&vdd_cpu>;
> +};
> +
> +&U74_4 {
> +	cpu-supply = <&vdd_cpu>;
> +};
> diff --git a/arch/riscv/boot/dts/starfive/jh711x.dtsi b/arch/riscv/boot/dts/starfive/jh711x.dtsi
> index 6e56e9d20bb0..a380d3dabedd 100644
> --- a/arch/riscv/boot/dts/starfive/jh711x.dtsi
> +++ b/arch/riscv/boot/dts/starfive/jh711x.dtsi
> @@ -205,22 +205,6 @@ core4 {
>   	cpu_opp: opp-table-0 {
>   			compatible = "operating-points-v2";
>   			opp-shared;
> -			opp-375000000 {
> -					opp-hz = /bits/ 64 <375000000>;
> -					opp-microvolt = <800000>;
> -			};
> -			opp-500000000 {
> -					opp-hz = /bits/ 64 <500000000>;
> -					opp-microvolt = <800000>;
> -			};
> -			opp-750000000 {
> -					opp-hz = /bits/ 64 <750000000>;
> -					opp-microvolt = <800000>;
> -			};
> -			opp-1500000000 {
> -					opp-hz = /bits/ 64 <1500000000>;
> -					opp-microvolt = <1040000>;
> -			};
>   	};
>   
>   	thermal-zones {


From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from smtp.kernel.org (aws-us-west-2-korg-mail-1.web.codeaurora.org [10.30.226.201])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id B43221A0B15;
	Tue, 18 Nov 2025 23:10:16 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=10.30.226.201
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1763507416; cv=none; b=bcRjj4Kx9qj77LtJBDtg5jC3CJe7DOuJev4cEyjcl15tF6gtAMHtQ1LnL3PiWg1ldlaNX3miOkn2mR2caZOw+3PUgnz8nx0Fl0uTquT+/hY0hat4roh6OuQgSgjRYA3JWF2mcLPy5FTB7vJvPpkBS4pDZOKpmLELsYX7E57sXjE=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1763507416; c=relaxed/simple;
	bh=S1bbhLjv7zCClg2ZiZ70C9ZYUz8AkCF4ftWpXSr5hf4=;
	h=Date:From:To:Cc:Subject:Message-ID:References:MIME-Version:
	 Content-Type:Content-Disposition:In-Reply-To; b=g7qpk7KcDjMDibydAaudZ/yGot/x9aGkbvvugg0ufZ2u6oGd/KSif/VW7sWpANQ9TlRMUaJ7SmDeIXKu6i0Vg6Gpt3l3bziLJt1tOIPbm81kBKRHBNSTx4Mxen50GQ8BG0i1EJTJpUWLYijXO57Mynsx1zrEr6EGWyMAcgFSIYo=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b=OjNK6Q6E; arc=none smtp.client-ip=10.30.226.201
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b="OjNK6Q6E"
Received: by smtp.kernel.org (Postfix) with ESMTPSA id 8B013C19421;
	Tue, 18 Nov 2025 23:10:11 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
	s=k20201202; t=1763507415;
	bh=S1bbhLjv7zCClg2ZiZ70C9ZYUz8AkCF4ftWpXSr5hf4=;
	h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
	b=OjNK6Q6EYb4hMgKsY3JtgukkutRM0mClJp/RSLDLLLb7VY3x3V/l8wms7CaTZQZde
	 ax/ifn9A7UCSpgdB4eJBbB+1fssGtpE+DuuZPxCj74Tt5g63/s7fIzUioJTokNaDIO
	 /Tq0xIfWtNlbeBuHITQGn0cJN7SMN4ygbMFE2QQSMWMHymavDaWcD6nzeqaG+z4mzC
	 317tHm5izCI206CRL6AH7ZquW7gzTvGmfnj/rZaNeNs6Nuk+Z4J18puHSWV1ptDt3P
	 LL4FA6o6AjXCwxdVqXP+wVuX41d2jG+nH2f+61yB1+f4crSaf74ALnCjlvwpOVSMvl
	 3xqSWb6PtgF7Q==
Date: Tue, 18 Nov 2025 23:10:08 +0000
From: Conor Dooley <conor@kernel.org>
To: Hal Feng <hal.feng@starfivetech.com>
Cc: E Shattow <e@freeshell.de>,
	Emil Renner Berthing <emil.renner.berthing@canonical.com>,
	Albert Ou <aou@eecs.berkeley.edu>,
	Bjorn Helgaas <bhelgaas@google.com>,
	Conor Dooley <conor+dt@kernel.org>,
	Heinrich Schuchardt <heinrich.schuchardt@canonical.com>,
	Krzysztof Kozlowski <krzk+dt@kernel.org>,
	Krzysztof =?utf-8?Q?Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
	Lorenzo Pieralisi <lpieralisi@kernel.org>,
	Manivannan Sadhasivam <mani@kernel.org>,
	Palmer Dabbelt <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>,
	"Rafael J . Wysocki" <rafael@kernel.org>,
	Rob Herring <robh@kernel.org>,
	Viresh Kumar <viresh.kumar@linaro.org>,
	"devicetree@vger.kernel.org" <devicetree@vger.kernel.org>,
	"linux-riscv@lists.infradead.org" <linux-riscv@lists.infradead.org>,
	"linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
Subject: Re: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
Message-ID: <20251118-throwing-marina-14a87d65465a@spud>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <CAJM55Z_rczBo4D3HsC90QW1=fp3NWgK-tsEo6LHTZNXEBHTDqA@mail.gmail.com>
 <ZQ2PR01MB13076544E2136E7E7C2EEDA1E6CD2@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <CAJM55Z9KyNK1n4i9FxbLor4HTQKqK8WKA2svjPVvKXihw_E+sg@mail.gmail.com>
 <4a55301a-ef7e-4b47-8151-621cfba36ddd@freeshell.de>
 <CAJM55Z-bRdNmnRZ7wi3PMOkzGYrxQEGk+7F67Pdu4WXwKmTjCQ@mail.gmail.com>
 <ZQ2PR01MB13075CDDEFC2F03C837E1B31E6C92@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <b33919e9-e100-4629-92cb-d1ec3dd756a7@freeshell.de>
 <ZQ2PR01MB1307DADE17FFEFCE70C3F391E6D62@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha512;
	protocol="application/pgp-signature"; boundary="N4oiYSiiIoHTkUpd"
Content-Disposition: inline
In-Reply-To: <ZQ2PR01MB1307DADE17FFEFCE70C3F391E6D62@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>


--N4oiYSiiIoHTkUpd
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On Tue, Nov 18, 2025 at 02:12:58AM +0000, Hal Feng wrote:
> > All,
> >=20
> > I repeat that the suggestion was made months ago (by Hal) to split out =
the
> > OPP tables per-board from the period of time when I was complaining abo=
ut
> > 1.5GHz JH-7110 operation pushing TDP into over-temperature thermal limit
> > on Milk-V Mars CM SoM.
> >=20
> > Whether or not JH7110S is a new compatible should follow precedence in
> > Linux development. JH-7110S is evidently the same tape-out as JH-7110 a=
nd
> > however you deal with that in Linux is the appropriate way to deal with=
 that
> > here. Selection of OPP table for correct operation will be determined by
> > bootloader, where, it is demonstrated by patch series sent to U-Boot
> > upstream to be selected ** per-board ** based on EEPROM content as if it
> > was any other JH-7110 board deciding dts based on EEPROM content. Given
> > that it is the same tape-out I do not find a valid justification for a =
new
> > compatible in the stack of adjacent software besides going along with s=
ome
> > kind of marketing-driven answer about whether or not this is a new SoC.
> >=20
> > What I care about now is that the VisionFive 2 Lite series is in good e=
nough
> > shape and there's a possibility to act on this months-old suggestion to=
 split out
> > the OPP tables which as we have confirmed the JH7110S is the same SoC as
> > JH7110 it makes a lot of sense to do.
> >=20
> > How is it supposed to work for binned silicon in Linux?
>=20
> Hi, Conor,  Emil,=20
>=20
> What do you think about this? Hope to hear from you.

Can someone just give me a yes/no question out of this thread? I'm not
really immediately sure what's being asked of me. What exactly do you
want to do with the opp-tables? "Split out" isn't super clear. Does that
mean into board files? I am guessing it does, since you're saying that a
particular board cannot support the 1.5 GHz mode. It's not unusual
though to use delete node for unsupported opp-table entries, could that
be done instead?

FWIW, this weekend is -rc7, so I won't be applying any new material
after that.


--N4oiYSiiIoHTkUpd
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----

iHUEABYKAB0WIQRh246EGq/8RLhDjO14tDGHoIJi0gUCaRz80AAKCRB4tDGHoIJi
0s+FAQDMoM392mKet43CbIZa5XkVf0Nhavze4vBfQXc9CBkXkQEA7L47T/hTFt2g
lgvgkf1AKUnNOrw/Pcnu6msIEVx0fAI=
=RX+k
-----END PGP SIGNATURE-----

--N4oiYSiiIoHTkUpd--

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from smtp-relay-internal-1.canonical.com (smtp-relay-internal-1.canonical.com [185.125.188.123])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 5F24229E10B
	for <linux-kernel@vger.kernel.org>; Wed, 19 Nov 2025 07:04:53 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=185.125.188.123
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1763535896; cv=none; b=IRmm+wKfjBlZrzUKUp3BZDZy6NJRgJSjnYWfPWw6y/7oP4m15tctKu1G3L7daDOPXZTKFnpY1tklkkDamRTa35kVa+YKshHrFtQ1ZQfRJb2+eR1iC2ur6D2Vls/jHOsysUaVfhjcKiS3roKHtKZGK1pnP3Zsha/6PfVxZx11lto=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1763535896; c=relaxed/simple;
	bh=p9MgnD7JWagPo+CZ04Zw2ECvO8+TLxO2KuHDtWJ6mTs=;
	h=Message-ID:Date:MIME-Version:Subject:To:Cc:References:From:
	 In-Reply-To:Content-Type; b=UIeLrVX3RaNVYgpld/3CtzPPjxMpBRWqWsXETpoTNcZjsMMw+p4IC7QQvABOwWplLI4/bp2qJet/aRkcDDAAJKMvQ1ZNd3bxkt6FW54FH8CvOo3KGkeX3BAg3HLDBXhCgG4Vx7eFI2QGr6kI9BHiueqQzQ4C9+59Xwwy9jeV5kI=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=canonical.com; spf=pass smtp.mailfrom=canonical.com; dkim=pass (4096-bit key) header.d=canonical.com header.i=@canonical.com header.b=Tki1XztF; arc=none smtp.client-ip=185.125.188.123
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=canonical.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=canonical.com
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (4096-bit key) header.d=canonical.com header.i=@canonical.com header.b="Tki1XztF"
Received: from mail-wr1-f71.google.com (mail-wr1-f71.google.com [209.85.221.71])
	(using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
	 key-exchange X25519 server-signature RSA-PSS (2048 bits) server-digest SHA256)
	(No client certificate requested)
	by smtp-relay-internal-1.canonical.com (Postfix) with ESMTPS id DEE333F74E
	for <linux-kernel@vger.kernel.org>; Wed, 19 Nov 2025 07:04:45 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=canonical.com;
	s=20251003; t=1763535885;
	bh=HCDUZaE5+206zSZomo9Fg7tLxJqm77Cnmdl1n2fzVyI=;
	h=Message-ID:Date:MIME-Version:Subject:To:Cc:References:From:
	 In-Reply-To:Content-Type;
	b=Tki1XztFLwuzoARxvGyH5BNk+yfVC+dsm6BHI1PlcMZ8TGxUSU8yqRcE2vZJGGN/r
	 KJRy+Hdo+B9B2VJ5+ewTs7S7YKnBk2NaXeUyQXqe4yuVuwN7NteMbDoTSaZg9qjqMu
	 Cyh2aL+HJ7FotYgqFLi0CYLpzDoCEtryFo0btz623OBZP1ZtUBsmlq4P0PDsFJfU7d
	 4i7/bRQU4D0K8ob0T4W9KSpvlzosal+WNeKCIyt5LnXgYOR/s8aLTGD2NO78H8BQQ8
	 ofoQqFuGUYGUiLJNBBPHKcQs5KTGxY5fmGekJ/VIMMowocygtFAQiwVayyQEqNvwCy
	 uun5a94CpFACntNY/nZavFRe+nIW7uWyIlWaLELpNULZMTeA1F4HiwFFtsfx+c749d
	 UlOOQMpnoi+MpVYoTjyuuM10LEMvtQl/HuoIw3dJ+Tb4Ts9ePEiBrhNE6hG3kiIYbg
	 Z6V39Cl2oHmOTuKBrVfKsTpPc850lmeIYaUQekUZF4ePuP449X4IBjRVQFSLgWxGeR
	 dW6ZoGqZk9bee33iiDawel3D5FknuyLRBzgcixa+D+EE2oyHzFQ/099sbl1qK/D6CB
	 8sRKXo8kcMDMb5IXyeBkGZ6WMZtf2Md4fjK+/93/bohkPCn+YZEEv3OsXk6TL4gNtr
	 gS6DH6UTxIpcFjDfCqMQZccs=
Received: by mail-wr1-f71.google.com with SMTP id ffacd0b85a97d-429c521cf2aso5216275f8f.3
        for <linux-kernel@vger.kernel.org>; Tue, 18 Nov 2025 23:04:45 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20230601; t=1763535885; x=1764140685;
        h=content-transfer-encoding:in-reply-to:from:content-language
         :references:cc:to:subject:user-agent:mime-version:date:message-id
         :x-gm-gg:x-gm-message-state:from:to:cc:subject:date:message-id
         :reply-to;
        bh=HCDUZaE5+206zSZomo9Fg7tLxJqm77Cnmdl1n2fzVyI=;
        b=orgL7AEJRd4VVW1qnhlMAqph6FGI9KBfKpa2ZNHoMzYlF1eykwoJyI7+fq9p19RI2a
         lQDM3hY/TlSp1fbpRVTmAIAgwwhhVtKSBCGGXqqAF18UHPy9zOUOh9IHp/XZa7oqZt3l
         0dHsBrhqmddmNOJTY+ILAtc9qzXj4/hRIM73TWklFwRZQuXQmF2GcSAuHiiF8xF7iqFd
         swxoAnxVk4oxzkFs09j+WfvUIn2nilW8IIM+Hn/Kq0PJJ3+JmzBE4a73ZDDIpttaaGZ7
         0B3N1i85hblVDj5HxVIqi2pFjzW5sCGHsILvqQeUncUDucpQSvP0nFzYq5RPECTOG3rM
         J7Xw==
X-Forwarded-Encrypted: i=1; AJvYcCVYbeB+aTY8pJhfKDqPsPZSeB6X14ZOSi/hs9At1DkOX6PA8V50CkQ7txhTXqnMrXOMcBSbz4k7BnkXL14=@vger.kernel.org
X-Gm-Message-State: AOJu0Yy/xTbUfv1nnawcfTPziCz0E17WfdEnrvd8cMQ9v2qSkjJcsKNa
	t6tM2+M+OSTFeGLYzRU+rQ46KTP3a4ald5KPR43aJPl6tbOSvIaWN9eKWgIwNc/0smT9qKx84wY
	B9nANItqvk5KMDGE5Zp7iSC7l0bsYGGQKbW4/9+I0CSF28CRIA5TwehTlfKdCqEvOSJmcWEDLex
	fHnNd5fg==
X-Gm-Gg: ASbGncvFx8rNRgiOoe0SG3ASng9hSUXo/RcOBHoCRH2h6no38KD00mQApv7uaxstzt/
	uXUpZ3sRb4pko2aRDHsuh4FQz+Yd+sM9OJOMkDqnLY0qBVx727P4uYImy+++/LCgEsKG37gQZYQ
	0A3T5eCNvUb3G6hOroUUMqr2M0kVQPzz3jmikLegn2/IsLDuv4/TVkUEPYxhVeWcd0dt4Bx3QhN
	3hfybDgn+Z9BEpH10iBzfr8DTcCNC7gtR5IwTQqGAIWgOvSmKtI70+nf1oM5POPjHXO4JZQLSu4
	7PqjFmZNee3P98CypA7xDjX2koWbhd7gj04BsWWXwTe6yhBtB5iHhwekzSMTkyQfzbqea1CyMz1
	W263HWB8xfDA9yepfrt+Dcczp+6q8ACzYgDZhZoSIu7ogSpX4/TfZMIPcqolzWQhRRMcumNhcbO
	eniZoxaQk=
X-Received: by 2002:a5d:64c5:0:b0:42b:47da:c316 with SMTP id ffacd0b85a97d-42b5934afdfmr17476414f8f.26.1763535884656;
        Tue, 18 Nov 2025 23:04:44 -0800 (PST)
X-Google-Smtp-Source: AGHT+IEqVppj0kaC1T4AK8/+ki8hXQuFnAQjHrtuYAj2Vyhso+rWSDHbQHj+3SMP9d2Ef4b6qHHLeA==
X-Received: by 2002:a5d:64c5:0:b0:42b:47da:c316 with SMTP id ffacd0b85a97d-42b5934afdfmr17476387f8f.26.1763535884152;
        Tue, 18 Nov 2025 23:04:44 -0800 (PST)
Received: from [192.168.123.154] (ip-005-147-080-091.um06.pools.vodafone-ip.de. [5.147.80.91])
        by smtp.gmail.com with ESMTPSA id ffacd0b85a97d-42b53e85cc0sm37190082f8f.17.2025.11.18.23.04.42
        (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
        Tue, 18 Nov 2025 23:04:43 -0800 (PST)
Message-ID: <1f96a267-f5c6-498e-a2c4-7a47a73ea7e7@canonical.com>
Date: Wed, 19 Nov 2025 08:04:41 +0100
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
User-Agent: Mozilla Thunderbird
Subject: Re: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
To: Conor Dooley <conor@kernel.org>, Hal Feng <hal.feng@starfivetech.com>
Cc: E Shattow <e@freeshell.de>,
 Emil Renner Berthing <emil.renner.berthing@canonical.com>,
 Albert Ou <aou@eecs.berkeley.edu>, Bjorn Helgaas <bhelgaas@google.com>,
 Conor Dooley <conor+dt@kernel.org>, Krzysztof Kozlowski
 <krzk+dt@kernel.org>, =?UTF-8?Q?Krzysztof_Wilczy=C5=84ski?=
 <kwilczynski@kernel.org>, Lorenzo Pieralisi <lpieralisi@kernel.org>,
 Manivannan Sadhasivam <mani@kernel.org>, Palmer Dabbelt
 <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>,
 "Rafael J . Wysocki" <rafael@kernel.org>, Rob Herring <robh@kernel.org>,
 Viresh Kumar <viresh.kumar@linaro.org>,
 "devicetree@vger.kernel.org" <devicetree@vger.kernel.org>,
 "linux-riscv@lists.infradead.org" <linux-riscv@lists.infradead.org>,
 "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <CAJM55Z_rczBo4D3HsC90QW1=fp3NWgK-tsEo6LHTZNXEBHTDqA@mail.gmail.com>
 <ZQ2PR01MB13076544E2136E7E7C2EEDA1E6CD2@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <CAJM55Z9KyNK1n4i9FxbLor4HTQKqK8WKA2svjPVvKXihw_E+sg@mail.gmail.com>
 <4a55301a-ef7e-4b47-8151-621cfba36ddd@freeshell.de>
 <CAJM55Z-bRdNmnRZ7wi3PMOkzGYrxQEGk+7F67Pdu4WXwKmTjCQ@mail.gmail.com>
 <ZQ2PR01MB13075CDDEFC2F03C837E1B31E6C92@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <b33919e9-e100-4629-92cb-d1ec3dd756a7@freeshell.de>
 <ZQ2PR01MB1307DADE17FFEFCE70C3F391E6D62@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <20251118-throwing-marina-14a87d65465a@spud>
Content-Language: en-US
From: Heinrich Schuchardt <heinrich.schuchardt@canonical.com>
In-Reply-To: <20251118-throwing-marina-14a87d65465a@spud>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

On 11/19/25 00:10, Conor Dooley wrote:
> On Tue, Nov 18, 2025 at 02:12:58AM +0000, Hal Feng wrote:
>>> All,
>>>
>>> I repeat that the suggestion was made months ago (by Hal) to split out the
>>> OPP tables per-board from the period of time when I was complaining about
>>> 1.5GHz JH-7110 operation pushing TDP into over-temperature thermal limit
>>> on Milk-V Mars CM SoM.
>>>
>>> Whether or not JH7110S is a new compatible should follow precedence in
>>> Linux development. JH-7110S is evidently the same tape-out as JH-7110 and
>>> however you deal with that in Linux is the appropriate way to deal with that
>>> here. Selection of OPP table for correct operation will be determined by
>>> bootloader, where, it is demonstrated by patch series sent to U-Boot
>>> upstream to be selected ** per-board ** based on EEPROM content as if it
>>> was any other JH-7110 board deciding dts based on EEPROM content. Given
>>> that it is the same tape-out I do not find a valid justification for a new
>>> compatible in the stack of adjacent software besides going along with some
>>> kind of marketing-driven answer about whether or not this is a new SoC.
>>>
>>> What I care about now is that the VisionFive 2 Lite series is in good enough
>>> shape and there's a possibility to act on this months-old suggestion to split out
>>> the OPP tables which as we have confirmed the JH7110S is the same SoC as
>>> JH7110 it makes a lot of sense to do.
>>>
>>> How is it supposed to work for binned silicon in Linux?
>>
>> Hi, Conor,  Emil,
>>
>> What do you think about this? Hope to hear from you.
> 
> Can someone just give me a yes/no question out of this thread? I'm not
> really immediately sure what's being asked of me. What exactly do you
> want to do with the opp-tables? "Split out" isn't super clear. Does that
> mean into board files? I am guessing it does, since you're saying that a
> particular board cannot support the 1.5 GHz mode. It's not unusual
> though to use delete node for unsupported opp-table entries, could that
> be done instead?
> 
> FWIW, this weekend is -rc7, so I won't be applying any new material
> after that.
> 

There was agreement that the JH7110 and JH7110S need different operating 
points. This is realized via the different includes for the VisionFive 2 
Lite boards and the other boards.

Support for the new compatible string "starfive,jh7110s" used by the 
VisionFive 2 Lite is already implemented in OpenSBI where it is needed 
for platform support (specifically reboot). It is also used in tag 
next-20251119 in drivers/cpufreq/cpufreq-dt-platdev.c. There is no 
technical need to role this back.

The changes in OpenSBI and the cpu frequency driver could have been 
avoided by using

compatible = "starfive,visionfive-2-lite-emmc", "starfive,jh7110s", 
"starfive,jh7110"

to indicate that JH7110s is just a variety of JH7110. This also would 
match the best practice example in Documentation/devicetree/usage-model.rst:

     compatible = "ti,omap3-beagleboard", "ti,omap3450", "ti,omap3";

I guess we could add that third compatible value in a later patch.

As U-Boot uses the Linux device-trees too, I have built U-Boot with the 
updated device-trees and had no problem to boot all supported JH7110 and 
JH7110S devices including the StarFive VisionFive 2 Lite.

A bootph-pre-ram property for booting from SD-card that was already 
missing before the series can be added via a separate patch.

I think we should go ahead as is.

Best regards

Heinrich

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from freeshell.de (freeshell.de [116.202.128.144])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 6314427055D;
	Wed, 19 Nov 2025 08:27:30 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=116.202.128.144
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1763540854; cv=none; b=i7oUU9yU2yE0bW2/jkeKZD0zrMo6+d/pBoz27RSpN8jvge8nCaSxjnh0cI76xGx3fi1MOqqeg6Ketr+20fOKDMS6gQGrJ7ztVWunAHnfzU+ndOmlqrasEWYHRoBRZaHKXliP0541RK007AxZmOnBYbhCpQNOF0odDXUsKpG+O5c=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1763540854; c=relaxed/simple;
	bh=gXgV1F9f7b3aQdSyH4Lg8X66B80SRjzNbSIh7rT/i1E=;
	h=Message-ID:Date:MIME-Version:Subject:To:Cc:References:From:
	 In-Reply-To:Content-Type; b=d6GctTEdGbvpASgpPJ9t/CsRz50YLe7ewJkretRBi/YEc66Pe44o6FtMJs3Q+c/WSZowDxWwuKJ3cv9vpXrBowAk8Xw27oe0KxyZlH7/Jg/P8+lYTxkGIuY9DvvlrxY+4gRjNBRwhLmZiM9pzPJ1O8G7qiu31VDQMXL9ApJsfFs=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=freeshell.de; spf=pass smtp.mailfrom=freeshell.de; dkim=pass (2048-bit key) header.d=freeshell.de header.i=@freeshell.de header.b=PFuYwoll; arc=none smtp.client-ip=116.202.128.144
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=freeshell.de
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=freeshell.de
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=freeshell.de header.i=@freeshell.de header.b="PFuYwoll"
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=freeshell.de;
	s=s2025; t=1763540782;
	bh=KDATMTQASj0ogtJXDKKKoCaehevGMrQdp6yw0/i9GSk=;
	h=Date:Subject:To:Cc:References:From:In-Reply-To:From;
	b=PFuYwollG48FOfW+d84zZ37q923IyOP1r5FwLM+qn5Uhyegn00domWLOrj+GUEW5o
	 HkyYwWku3ycCa80xS6Io0GsNCw+Wsw3tnhQL0LWUsvNcY8TLrftdwbaZEZ617YLibC
	 fuiFrDhSZdctwrXGCy+QShFJPsZOqbQhvQF8kZM6oy5ZPbsXLFTX3waokFP5tfIJQx
	 /3NzjoDNXA3SCQbPBzi2eKVN1Z5T7j9yH7epxwIJgl4zghNH7T+Rm+ANQ6io3+xdM8
	 go3cBrUYOhPG+IGvTtIBijU7fETpTvRLl+/5FnPlF7S8joBS6MbA8cciV/jIxQn0ZC
	 HM85dzK71HEIA==
Received: from [192.168.2.54] (unknown [143.105.117.136])
	(Authenticated sender: e)
	by freeshell.de (Postfix) with ESMTPSA id F23AEB2201A7;
	Wed, 19 Nov 2025 09:26:18 +0100 (CET)
Message-ID: <841b4250-0ac6-4b49-8c8e-a6d6bc675a1f@freeshell.de>
Date: Wed, 19 Nov 2025 00:26:16 -0800
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
User-Agent: Mozilla Thunderbird
Subject: Re: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
To: Heinrich Schuchardt <heinrich.schuchardt@canonical.com>,
 Conor Dooley <conor@kernel.org>, Hal Feng <hal.feng@starfivetech.com>
Cc: Emil Renner Berthing <emil.renner.berthing@canonical.com>,
 Albert Ou <aou@eecs.berkeley.edu>, Bjorn Helgaas <bhelgaas@google.com>,
 Conor Dooley <conor+dt@kernel.org>, Krzysztof Kozlowski
 <krzk+dt@kernel.org>, =?UTF-8?Q?Krzysztof_Wilczy=C5=84ski?=
 <kwilczynski@kernel.org>, Lorenzo Pieralisi <lpieralisi@kernel.org>,
 Manivannan Sadhasivam <mani@kernel.org>, Palmer Dabbelt
 <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>,
 "Rafael J . Wysocki" <rafael@kernel.org>, Rob Herring <robh@kernel.org>,
 Viresh Kumar <viresh.kumar@linaro.org>,
 "devicetree@vger.kernel.org" <devicetree@vger.kernel.org>,
 "linux-riscv@lists.infradead.org" <linux-riscv@lists.infradead.org>,
 "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <CAJM55Z_rczBo4D3HsC90QW1=fp3NWgK-tsEo6LHTZNXEBHTDqA@mail.gmail.com>
 <ZQ2PR01MB13076544E2136E7E7C2EEDA1E6CD2@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <CAJM55Z9KyNK1n4i9FxbLor4HTQKqK8WKA2svjPVvKXihw_E+sg@mail.gmail.com>
 <4a55301a-ef7e-4b47-8151-621cfba36ddd@freeshell.de>
 <CAJM55Z-bRdNmnRZ7wi3PMOkzGYrxQEGk+7F67Pdu4WXwKmTjCQ@mail.gmail.com>
 <ZQ2PR01MB13075CDDEFC2F03C837E1B31E6C92@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <b33919e9-e100-4629-92cb-d1ec3dd756a7@freeshell.de>
 <ZQ2PR01MB1307DADE17FFEFCE70C3F391E6D62@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <20251118-throwing-marina-14a87d65465a@spud>
 <1f96a267-f5c6-498e-a2c4-7a47a73ea7e7@canonical.com>
Content-Language: en-US
From: E Shattow <e@freeshell.de>
In-Reply-To: <1f96a267-f5c6-498e-a2c4-7a47a73ea7e7@canonical.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit


On 11/18/25 23:04, Heinrich Schuchardt wrote:
> On 11/19/25 00:10, Conor Dooley wrote:
>> On Tue, Nov 18, 2025 at 02:12:58AM +0000, Hal Feng wrote:
>>>> All,
>>>>
>>>> I repeat that the suggestion was made months ago (by Hal) to split
>>>> out the
>>>> OPP tables per-board from the period of time when I was complaining
>>>> about
>>>> 1.5GHz JH-7110 operation pushing TDP into over-temperature thermal
>>>> limit
>>>> on Milk-V Mars CM SoM.
>>>>
>>>> Whether or not JH7110S is a new compatible should follow precedence in
>>>> Linux development. JH-7110S is evidently the same tape-out as
>>>> JH-7110 and
>>>> however you deal with that in Linux is the appropriate way to deal
>>>> with that
>>>> here. Selection of OPP table for correct operation will be
>>>> determined by
>>>> bootloader, where, it is demonstrated by patch series sent to U-Boot
>>>> upstream to be selected ** per-board ** based on EEPROM content as
>>>> if it
>>>> was any other JH-7110 board deciding dts based on EEPROM content. Given
>>>> that it is the same tape-out I do not find a valid justification for
>>>> a new
>>>> compatible in the stack of adjacent software besides going along
>>>> with some
>>>> kind of marketing-driven answer about whether or not this is a new SoC.
>>>>
>>>> What I care about now is that the VisionFive 2 Lite series is in
>>>> good enough
>>>> shape and there's a possibility to act on this months-old suggestion
>>>> to split out
>>>> the OPP tables which as we have confirmed the JH7110S is the same
>>>> SoC as
>>>> JH7110 it makes a lot of sense to do.
>>>>
>>>> How is it supposed to work for binned silicon in Linux?
>>>
>>> Hi, Conor, Emil,
>>>
>>> What do you think about this? Hope to hear from you.
>>
>> Can someone just give me a yes/no question out of this thread? I'm not
>> really immediately sure what's being asked of me. What exactly do you
>> want to do with the opp-tables? "Split out" isn't super clear. Does that
>> mean into board files? I am guessing it does, since you're saying that a
>> particular board cannot support the 1.5 GHz mode. It's not unusual
>> though to use delete node for unsupported opp-table entries, could that
>> be done instead?
>>
>> FWIW, this weekend is -rc7, so I won't be applying any new material
>> after that.
>>
> 
> There was agreement that the JH7110 and JH7110S need different operating
> points. This is realized via the different includes for the VisionFive 2
> Lite boards and the other boards.
> 
> Support for the new compatible string "starfive,jh7110s" used by the
> VisionFive 2 Lite is already implemented in OpenSBI where it is needed
> for platform support (specifically reboot). It is also used in tag
> next-20251119 in drivers/cpufreq/cpufreq-dt-platdev.c. There is no
> technical need to role this back.
> 
> The changes in OpenSBI and the cpu frequency driver could have been
> avoided by using
> 
> compatible = "starfive,visionfive-2-lite-emmc", "starfive,jh7110s",
> "starfive,jh7110"
> 
> to indicate that JH7110s is just a variety of JH7110. This also would
> match the best practice example in Documentation/devicetree/usage-
> model.rst:
> 
>  compatible = "ti,omap3-beagleboard", "ti,omap3450", "ti,omap3";
> 
> I guess we could add that third compatible value in a later patch.

No, how about doing that now instead of pushing out the wrong result?

> 
> As U-Boot uses the Linux device-trees too, I have built U-Boot with the
> updated device-trees and had no problem to boot all supported JH7110 and
> JH7110S devices including the StarFive VisionFive 2 Lite.
> 

Yes that is clear when reading the documentation, sounds good to me if
following the docs.

> A bootph-pre-ram property for booting from SD-card that was already
> missing before the series can be added via a separate patch.

You are referring to booting U-Boot SPL from SD-card. The supported
method for new designs (StarFive VisionFive 2 Lite is a new design) is
to boot U-Boot SPL from UART serial or SPI Flash. U-Boot Main has the
full unfiltered devicetree available and does in fact boot Linux from
SD-card as-is without what you refer to.

How then is U-Boot SPL boot from SD-card possible on StarFive VisionFive
2 Lite? There is only a boot button (serial or spi flash select). Is
this for a developer board with MSEL DIP, or some other boot selection
in hardware not mentioned?

> 
> I think we should go ahead as is.

This is the review feedback I wish we'd had for Hal with the RFC and v1
of this series. I would now like the identified changes to be applied to
the devicetree. It says right there in the documentation how to do it,
thank you.

> 
> Best regards
> 
> Heinrich

B.R.,

-E

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from smtp-relay-internal-1.canonical.com (smtp-relay-internal-1.canonical.com [185.125.188.123])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 6803F347BA3
	for <linux-kernel@vger.kernel.org>; Wed, 19 Nov 2025 13:27:34 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=185.125.188.123
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1763558857; cv=none; b=uoTZVofS2kkZ/rr++BNSJe3ru03b80b2lZTxNSEy5+rWdDQLZy3uMCTIgTsbpqpriL6VFvoz6ijH0NzDGIyEv0dsOQ4tv3HdL40n2ddoZlwq+Za0X2W3Pni0/eX45N5WvKxKH/r3qob3ymhg2TByQU9HA8L9x9V9Bl90qvYGTWQ=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1763558857; c=relaxed/simple;
	bh=6rsSfWyVnaU5/X11J4qai299yHBsXVwzci2eXOoVEtc=;
	h=MIME-Version:In-Reply-To:References:From:Date:Message-ID:Subject:
	 To:Cc:Content-Type; b=pQITX0mDL81lUp4tGlKFS2my1v9D31mAer2lHRLb5v4RinTQOwPyJeqxHvRn9HZI2aw5p5Xw67jpm/UJ9gVdsQP1iJGzEEVAwarDHuSbOsezPG39/WoNvQdiEGz+oxKwuuRkVUqdSk9I7iGIz7j4t0kozUYz7Wu4sqPo0tQxpGA=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=canonical.com; spf=pass smtp.mailfrom=canonical.com; dkim=pass (4096-bit key) header.d=canonical.com header.i=@canonical.com header.b=etfWme76; arc=none smtp.client-ip=185.125.188.123
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=reject dis=none) header.from=canonical.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=canonical.com
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (4096-bit key) header.d=canonical.com header.i=@canonical.com header.b="etfWme76"
Received: from mail-ej1-f71.google.com (mail-ej1-f71.google.com [209.85.218.71])
	(using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
	 key-exchange X25519 server-signature RSA-PSS (2048 bits) server-digest SHA256)
	(No client certificate requested)
	by smtp-relay-internal-1.canonical.com (Postfix) with ESMTPS id 59D133F71B
	for <linux-kernel@vger.kernel.org>; Wed, 19 Nov 2025 13:27:32 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=canonical.com;
	s=20251003; t=1763558852;
	bh=Zf71PPi80OPlEx8Il95aFJzJcBxtZN/TTdL1nSo4eyc=;
	h=MIME-Version:In-Reply-To:References:From:Date:Message-ID:Subject:
	 To:Cc:Content-Type;
	b=etfWme76pbWblOsGe8O3tz4NBNcCaBE6D2txsWt+2ORnnGnEsJugjNyuPO+yTKulz
	 5Wtp715L+LcHhReQxspHQR9feRDN0YrzOUhv1P/nq5fpkaUOdBXckxl6KUh79Yg2Ic
	 fbXny/dwcpPTsRtGvkapOIf/SkH6YAunx0kb/dwaSURL9OJbpLHoVkuztCHRlz+5KZ
	 KcpFrA0U1wV0obR16R+A4AyBtrkCe9o+iv2iPeKXaOF2DDB8wDcw0t5OVsf8Q4jVEu
	 umotyAXZBN1OAyWA2JGZSSeeV2qUMTUVT71E1TCv5sD+BECNu8RqJisEOkWsO3k8xv
	 D3se1cVFTzjue2pG6mcgh+eRs8ucnOnTIZk9y1uWCYxvFLKgpRbRxyTBXE1JgTikta
	 w31zxs1lwT1GSkBF5vPvA5n4nR8764+VGAacE2h00953P1D1JuRW9DbDpjHiT1aS+t
	 xHhPZdRrqKnDxIaqm1YXO5fuJQf4WIgmCJtiqW7s3lVCPqcDizJ+ZhUfJnp5iJseWs
	 OM9ebyjEy0FE+VNVOoLnLg2ohKR/SRAdLviKufVPo4YnUCro2kyOXxsMJ5N6MfNUdc
	 z7wuRJaSK/MWjD3y6OOJX9Y1y1ClzdwRG6J8HcWXOdB1AAAaFxa9Wb89T+Ht40BSO4
	 J6ZrRVftip1+ser7T+yeGsz8=
Received: by mail-ej1-f71.google.com with SMTP id a640c23a62f3a-b72a95dc6d9so959460166b.0
        for <linux-kernel@vger.kernel.org>; Wed, 19 Nov 2025 05:27:32 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20230601; t=1763558852; x=1764163652;
        h=cc:to:subject:message-id:date:user-agent:from:references
         :in-reply-to:mime-version:x-gm-gg:x-gm-message-state:from:to:cc
         :subject:date:message-id:reply-to;
        bh=Zf71PPi80OPlEx8Il95aFJzJcBxtZN/TTdL1nSo4eyc=;
        b=f1c9UfxSa4QrB60dl3E1QzlGoQ4WQnQJ4u3Mklb4mJ5Z8RkTejAyZjN3YVA171l9Gd
         A97EBNLultAdB6eghIH0Kb1qTAoFYG/CqFO1Ap9B3IrKIADMrW5akTv172/XXFkoMTgi
         FL8EFORzy4LxDkMLgPvz0A6ztpQthzTN/NhvgGkdhBkkBu4ERdY5XAU3TWHr202nGN8E
         jMlkfm7nJB8NG8PmHy4l/xyhAdbQaAtUPYkA6u6Xf512Ve5iQ3ZrWhgOPxmvXyesdZop
         d/AnpC9Brq3FP71A1eHVJH/Id9L/ZjijB1R7zlhcTfk/o96tIDBXFeOxz1IVidDwm/sn
         EULQ==
X-Forwarded-Encrypted: i=1; AJvYcCUvHVoHZbSApTMlFvDNQs9EvNMnnTZHvKvW0Q6W8yZ/SygwkvGn9dldnLBw9y43Su8qZO68IDflUa7+AKo=@vger.kernel.org
X-Gm-Message-State: AOJu0YwNuIkMYiJZ26w+cbTQtId5RwTAcpKz0zdxjWnitWIe0AwCZrfo
	ptsOvzXgvwPYVIf0E7vibVpQUQxdIqBIifQT1DpF6G+m1wDUQ4HPXGAYBFLObBRTYp4JjWFrUBV
	k07Xl3mSFljyz/GmAWp2SAKNL+OyJJQZUMAWfcYEcjDGhtO/oNo/3KZ7sVXPS/beHK+YQjv1mTU
	r+hlEMS2ccGUzuePzJuvVsune1KdwHfK9BuWIB/eO/oBznKsPCoyLHQL/H
X-Gm-Gg: ASbGnctXKVP5dAPRVAMEmXrqkTED2qWvoUAW3bf7EEeS/xVApkFgul/+f+n/AjIahvn
	4Ucpo+gTWW0S3l20pA1WtTA9fdj2iudqdzENSogGXBB7FYezJcnK1+3r9D/lPvgQIuplfLPhJt2
	6a/+cvdz2v6kSJczg4HMUOGAkyJ/lC+DUD3JArEh0hlDEe2Jb6ZXSqrR5B+TVJD2+kt5JEmah3e
	4Anl/qJW5GN/U7LmcGSl1Q=
X-Received: by 2002:a17:907:25c4:b0:b5f:c2f6:a172 with SMTP id a640c23a62f3a-b7367962920mr2271129966b.30.1763558851804;
        Wed, 19 Nov 2025 05:27:31 -0800 (PST)
X-Google-Smtp-Source: AGHT+IExSS9MaUldyLPT7Iou5C3NP0DPQDxJxzB9TQhVXWuuilvLezgx6R8t0Ds/PpwPKNH6hoMB6uCLUA2EuEKKjh8=
X-Received: by 2002:a17:907:25c4:b0:b5f:c2f6:a172 with SMTP id
 a640c23a62f3a-b7367962920mr2271124466b.30.1763558851353; Wed, 19 Nov 2025
 05:27:31 -0800 (PST)
Received: from 753933720722 named unknown by gmailapi.google.com with
 HTTPREST; Wed, 19 Nov 2025 05:27:30 -0800
Received: from 753933720722 named unknown by gmailapi.google.com with
 HTTPREST; Wed, 19 Nov 2025 05:27:30 -0800
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
In-Reply-To: <20251118-throwing-marina-14a87d65465a@spud>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <CAJM55Z_rczBo4D3HsC90QW1=fp3NWgK-tsEo6LHTZNXEBHTDqA@mail.gmail.com>
 <ZQ2PR01MB13076544E2136E7E7C2EEDA1E6CD2@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <CAJM55Z9KyNK1n4i9FxbLor4HTQKqK8WKA2svjPVvKXihw_E+sg@mail.gmail.com>
 <4a55301a-ef7e-4b47-8151-621cfba36ddd@freeshell.de> <CAJM55Z-bRdNmnRZ7wi3PMOkzGYrxQEGk+7F67Pdu4WXwKmTjCQ@mail.gmail.com>
 <ZQ2PR01MB13075CDDEFC2F03C837E1B31E6C92@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <b33919e9-e100-4629-92cb-d1ec3dd756a7@freeshell.de> <ZQ2PR01MB1307DADE17FFEFCE70C3F391E6D62@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <20251118-throwing-marina-14a87d65465a@spud>
From: Emil Renner Berthing <emil.renner.berthing@canonical.com>
User-Agent: alot/0.0.0
Date: Wed, 19 Nov 2025 05:27:30 -0800
X-Gm-Features: AWmQ_bkXMb__BB3WeHVgakQ5iZHBjvvMXAjrpqkcU7PRZ3VxAvyAIYzaQhqJGpo
Message-ID: <CAJM55Z-MfpVX3EuQ_AjvDSk6FwR51R5cQdN5RybS9pbJ8r9NNg@mail.gmail.com>
Subject: Re: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
To: Conor Dooley <conor@kernel.org>, Hal Feng <hal.feng@starfivetech.com>
Cc: E Shattow <e@freeshell.de>, Albert Ou <aou@eecs.berkeley.edu>, 
	Bjorn Helgaas <bhelgaas@google.com>, Conor Dooley <conor+dt@kernel.org>, 
	Heinrich Schuchardt <heinrich.schuchardt@canonical.com>, 
	Krzysztof Kozlowski <krzk+dt@kernel.org>, =?UTF-8?Q?Krzysztof_Wilczy=C5=84ski?= <kwilczynski@kernel.org>, 
	Lorenzo Pieralisi <lpieralisi@kernel.org>, Manivannan Sadhasivam <mani@kernel.org>, 
	Palmer Dabbelt <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>, 
	"Rafael J . Wysocki" <rafael@kernel.org>, Rob Herring <robh@kernel.org>, 
	Viresh Kumar <viresh.kumar@linaro.org>, 
	"devicetree@vger.kernel.org" <devicetree@vger.kernel.org>, 
	"linux-riscv@lists.infradead.org" <linux-riscv@lists.infradead.org>, 
	"linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
Content-Type: text/plain; charset="UTF-8"

Quoting Conor Dooley (2025-11-19 00:10:08)
> On Tue, Nov 18, 2025 at 02:12:58AM +0000, Hal Feng wrote:
> > > All,
> > >
> > > I repeat that the suggestion was made months ago (by Hal) to split out the
> > > OPP tables per-board from the period of time when I was complaining about
> > > 1.5GHz JH-7110 operation pushing TDP into over-temperature thermal limit
> > > on Milk-V Mars CM SoM.
> > >
> > > Whether or not JH7110S is a new compatible should follow precedence in
> > > Linux development. JH-7110S is evidently the same tape-out as JH-7110 and
> > > however you deal with that in Linux is the appropriate way to deal with that
> > > here. Selection of OPP table for correct operation will be determined by
> > > bootloader, where, it is demonstrated by patch series sent to U-Boot
> > > upstream to be selected ** per-board ** based on EEPROM content as if it
> > > was any other JH-7110 board deciding dts based on EEPROM content. Given
> > > that it is the same tape-out I do not find a valid justification for a new
> > > compatible in the stack of adjacent software besides going along with some
> > > kind of marketing-driven answer about whether or not this is a new SoC.
> > >
> > > What I care about now is that the VisionFive 2 Lite series is in good enough
> > > shape and there's a possibility to act on this months-old suggestion to split out
> > > the OPP tables which as we have confirmed the JH7110S is the same SoC as
> > > JH7110 it makes a lot of sense to do.
> > >
> > > How is it supposed to work for binned silicon in Linux?
> >
> > Hi, Conor,  Emil,
> >
> > What do you think about this? Hope to hear from you.
>
> Can someone just give me a yes/no question out of this thread? I'm not
> really immediately sure what's being asked of me. What exactly do you
> want to do with the opp-tables? "Split out" isn't super clear. Does that
> mean into board files? I am guessing it does, since you're saying that a
> particular board cannot support the 1.5 GHz mode. It's not unusual
> though to use delete node for unsupported opp-table entries, could that
> be done instead?

Yes, as far as I can tell we should be able to just add the board description
like this:

 jh7110.dtsi               # JH7110 SoC description
 |- jh7110-common.dtsi     # Peripherals common to all JH7110 boards
    |- jh7110-starfive-visionfive-2.dtsi # Peripherals common to VF2 boards
    |  |- <VF2 boards>     # Final VF2 board descriptions
    |- jh7110-milkv-marscm.dtsi # Peripherals common to Mars CM boards
    |  |- <Mars CM boards> # Final Mars CM board descriptions
    |- <other boards>      # Other JH7110 board descriptions
+   |- jh7110-starfive-visionfive-2-lite.dts

and have it do

&cpu_opp {
    /delete-node/ opp-375000000;
    /delete-node/ opp-500000000;
    /delete-node/ opp-750000000;
    /delete-node/ opp-1500000000;

    opp-312500000 {
        opp-hz = /bits/ 64 <312500000>;
        opp-microvolt = <800000>;
    };
    opp-417000000 {
        opp-hz = /bits/ 64 <417000000>;
        opp-microvolt = <800000>;
    };
    opp-625000000 {
        opp-hz = /bits/ 64 <625000000>;
        opp-microvolt = <800000>;
    };
    opp-1250000000 {
        opp-hz = /bits/ 64 <1250000000>;
        opp-microvolt = <1000000>;
    };
};

This seems to be the minimal amount of changes needed. I looked through the
latest OpenSBI and it does match "starfive,jh7110s", but it treats it exactly
the same as "starfive,jh7110" and Hal have not really given any other reason
we'd need new compatible strings.

E: I know this doesn't split out the opp table like you suggested, but I think
that can come later if needed. Let's just start with the minimal amount of
changes to get the VF2 Lite supported.

Hal: Do you think this could work? You might need a patch to move some mmc
properties out of jh7110-common.dtsi

/Emil

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from smtp.kernel.org (aws-us-west-2-korg-mail-1.web.codeaurora.org [10.30.226.201])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 4312F20C00C;
	Thu, 20 Nov 2025 00:47:44 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=10.30.226.201
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1763599665; cv=none; b=fqnALqT3a07bZL4X+2VYYmAGmsMvhFetrCqDulX2LSXOqocuwB3pyP/jl/7TGPiesrAKPIX6vl+4podT7Zpr5d4oC0sZnK27PLvnSdgTN0kcNyDBTFkU9OJvoUp6j4EcYmI7FFlB0a0MbywlK2gYiDn9jIPs4x1nn0r+2+vSX4o=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1763599665; c=relaxed/simple;
	bh=/Z2MAozJnU/LYuNLYNctu23sEUYxIs/9YPAdnmPT4PQ=;
	h=Date:From:To:Cc:Subject:Message-ID:References:MIME-Version:
	 Content-Type:Content-Disposition:In-Reply-To; b=H0risJEoyfSeLjEkavsTouX6u9t440FBnM4KXEF2kEApdsifBCVN/PlMNQwkCUxYLRWN0ej3smkXZLwCY07NmsAW6LsG47eX+7TRC6FJcvfZP4qG/QmlQEIf1I0sdV+aGRtVCZKNnYaYwa8nb8YoN8bwRP8l4eyiTsOCrBAEdHE=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b=A0a9AQ/Q; arc=none smtp.client-ip=10.30.226.201
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b="A0a9AQ/Q"
Received: by smtp.kernel.org (Postfix) with ESMTPSA id 5CABBC4CEF5;
	Thu, 20 Nov 2025 00:47:41 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
	s=k20201202; t=1763599664;
	bh=/Z2MAozJnU/LYuNLYNctu23sEUYxIs/9YPAdnmPT4PQ=;
	h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
	b=A0a9AQ/Qmx4jMEFAgLrq3xe8iw45ICswS3k4qtjFM5dOQwoiVX+cJPX2VlnyoRIy/
	 K5Hwr+lg9UG00h481Jem88rTyyTruJ3CVKXqfFka8x/R2usbysdZm0UyHXlcnTVRmu
	 gqdTnWBQQVmjHDGN9a9M2iaWIcIdlRtn0z+eqRVkHyUlFBajdgcADHtSvu9axoSy1r
	 r47SrRNhOa8aMNWZ+KK+c+UtNhuIo6J9R3Gp1/ritXWHWQqD5AD+ORJtJPhBDS/d6l
	 tB9QeKGGjVdDBnYhrRp7ZTT0KY9W4yk1CCwfBAEOE4hJbOroV/OkY23VFql3dU0F18
	 rgmUdAyCZa5Rw==
Date: Thu, 20 Nov 2025 00:47:39 +0000
From: Conor Dooley <conor@kernel.org>
To: Emil Renner Berthing <emil.renner.berthing@canonical.com>
Cc: Hal Feng <hal.feng@starfivetech.com>, E Shattow <e@freeshell.de>,
	Albert Ou <aou@eecs.berkeley.edu>,
	Bjorn Helgaas <bhelgaas@google.com>,
	Conor Dooley <conor+dt@kernel.org>,
	Heinrich Schuchardt <heinrich.schuchardt@canonical.com>,
	Krzysztof Kozlowski <krzk+dt@kernel.org>,
	Krzysztof =?utf-8?Q?Wilczy=C5=84ski?= <kwilczynski@kernel.org>,
	Lorenzo Pieralisi <lpieralisi@kernel.org>,
	Manivannan Sadhasivam <mani@kernel.org>,
	Palmer Dabbelt <palmer@dabbelt.com>, Paul Walmsley <pjw@kernel.org>,
	"Rafael J . Wysocki" <rafael@kernel.org>,
	Rob Herring <robh@kernel.org>,
	Viresh Kumar <viresh.kumar@linaro.org>,
	"devicetree@vger.kernel.org" <devicetree@vger.kernel.org>,
	"linux-riscv@lists.infradead.org" <linux-riscv@lists.infradead.org>,
	"linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
Subject: Re: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
Message-ID: <20251120-ambiguity-obsessive-b4ebf225d293@spud>
References: <CAJM55Z_rczBo4D3HsC90QW1=fp3NWgK-tsEo6LHTZNXEBHTDqA@mail.gmail.com>
 <ZQ2PR01MB13076544E2136E7E7C2EEDA1E6CD2@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <CAJM55Z9KyNK1n4i9FxbLor4HTQKqK8WKA2svjPVvKXihw_E+sg@mail.gmail.com>
 <4a55301a-ef7e-4b47-8151-621cfba36ddd@freeshell.de>
 <CAJM55Z-bRdNmnRZ7wi3PMOkzGYrxQEGk+7F67Pdu4WXwKmTjCQ@mail.gmail.com>
 <ZQ2PR01MB13075CDDEFC2F03C837E1B31E6C92@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <b33919e9-e100-4629-92cb-d1ec3dd756a7@freeshell.de>
 <ZQ2PR01MB1307DADE17FFEFCE70C3F391E6D62@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <20251118-throwing-marina-14a87d65465a@spud>
 <CAJM55Z-MfpVX3EuQ_AjvDSk6FwR51R5cQdN5RybS9pbJ8r9NNg@mail.gmail.com>
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha512;
	protocol="application/pgp-signature"; boundary="HczvwQk9dFBg2zrj"
Content-Disposition: inline
In-Reply-To: <CAJM55Z-MfpVX3EuQ_AjvDSk6FwR51R5cQdN5RybS9pbJ8r9NNg@mail.gmail.com>


--HczvwQk9dFBg2zrj
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On Wed, Nov 19, 2025 at 05:27:30AM -0800, Emil Renner Berthing wrote:
> Quoting Conor Dooley (2025-11-19 00:10:08)
> > On Tue, Nov 18, 2025 at 02:12:58AM +0000, Hal Feng wrote:
> > > > All,
> > > >
> > > > I repeat that the suggestion was made months ago (by Hal) to split =
out the
> > > > OPP tables per-board from the period of time when I was complaining=
 about
> > > > 1.5GHz JH-7110 operation pushing TDP into over-temperature thermal =
limit
> > > > on Milk-V Mars CM SoM.
> > > >
> > > > Whether or not JH7110S is a new compatible should follow precedence=
 in
> > > > Linux development. JH-7110S is evidently the same tape-out as JH-71=
10 and
> > > > however you deal with that in Linux is the appropriate way to deal =
with that
> > > > here. Selection of OPP table for correct operation will be determin=
ed by
> > > > bootloader, where, it is demonstrated by patch series sent to U-Boot
> > > > upstream to be selected ** per-board ** based on EEPROM content as =
if it
> > > > was any other JH-7110 board deciding dts based on EEPROM content. G=
iven
> > > > that it is the same tape-out I do not find a valid justification fo=
r a new
> > > > compatible in the stack of adjacent software besides going along wi=
th some
> > > > kind of marketing-driven answer about whether or not this is a new =
SoC.
> > > >
> > > > What I care about now is that the VisionFive 2 Lite series is in go=
od enough
> > > > shape and there's a possibility to act on this months-old suggestio=
n to split out
> > > > the OPP tables which as we have confirmed the JH7110S is the same S=
oC as
> > > > JH7110 it makes a lot of sense to do.
> > > >
> > > > How is it supposed to work for binned silicon in Linux?
> > >
> > > Hi, Conor,  Emil,
> > >
> > > What do you think about this? Hope to hear from you.
> >
> > Can someone just give me a yes/no question out of this thread? I'm not
> > really immediately sure what's being asked of me. What exactly do you
> > want to do with the opp-tables? "Split out" isn't super clear. Does that
> > mean into board files? I am guessing it does, since you're saying that a
> > particular board cannot support the 1.5 GHz mode. It's not unusual
> > though to use delete node for unsupported opp-table entries, could that
> > be done instead?
>=20
> Yes, as far as I can tell we should be able to just add the board descrip=
tion
> like this:
>=20
>  jh7110.dtsi               # JH7110 SoC description
>  |- jh7110-common.dtsi     # Peripherals common to all JH7110 boards
>     |- jh7110-starfive-visionfive-2.dtsi # Peripherals common to VF2 boar=
ds
>     |  |- <VF2 boards>     # Final VF2 board descriptions
>     |- jh7110-milkv-marscm.dtsi # Peripherals common to Mars CM boards
>     |  |- <Mars CM boards> # Final Mars CM board descriptions
>     |- <other boards>      # Other JH7110 board descriptions
> +   |- jh7110-starfive-visionfive-2-lite.dts
>=20
> and have it do
>=20
> &cpu_opp {
>     /delete-node/ opp-375000000;
>     /delete-node/ opp-500000000;
>     /delete-node/ opp-750000000;
>     /delete-node/ opp-1500000000;
>=20
>     opp-312500000 {
>         opp-hz =3D /bits/ 64 <312500000>;
>         opp-microvolt =3D <800000>;
>     };
>     opp-417000000 {
>         opp-hz =3D /bits/ 64 <417000000>;
>         opp-microvolt =3D <800000>;
>     };
>     opp-625000000 {
>         opp-hz =3D /bits/ 64 <625000000>;
>         opp-microvolt =3D <800000>;
>     };
>     opp-1250000000 {
>         opp-hz =3D /bits/ 64 <1250000000>;
>         opp-microvolt =3D <1000000>;
>     };
> };
>=20
> This seems to be the minimal amount of changes needed. I looked through t=
he
> latest OpenSBI and it does match "starfive,jh7110s", but it treats it exa=
ctly
> the same as "starfive,jh7110" and Hal have not really given any other rea=
son
> we'd need new compatible strings.

FWIW, chucking in the extra compatible is pretty straightforward if
there's a respin to adjust to the above file layout, so can probably
just go and do it.

> E: I know this doesn't split out the opp table like you suggested, but I =
think
> that can come later if needed. Let's just start with the minimal amount of
> changes to get the VF2 Lite supported.
>=20
> Hal: Do you think this could work? You might need a patch to move some mmc
> properties out of jh7110-common.dtsi

I'm going to consider this "Changes Requested" then, and I'll expect
another version with the file layout above.

I was starting on my 6.19 PRs today, and I remembered that I actually
have some dts material for the second week of the merge window, so
you've got an extra week out of that Hal before it'd be 6.20 content
instead.

Cheers,
Conor.

--HczvwQk9dFBg2zrj
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----

iHUEABYKAB0WIQRh246EGq/8RLhDjO14tDGHoIJi0gUCaR5lKwAKCRB4tDGHoIJi
0oBcAP48VjJAVIyq9kjFr/K/aTwxVR0ytZbmiCj2Yw4bGqqWWwD7B2lP8xHnX6C0
KOZFF18PpPgtMTG5AzDsCkU8YfJRbQ0=
=YKzs
-----END PGP SIGNATURE-----

--HczvwQk9dFBg2zrj--

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from CHN02-BJS-obe.outbound.protection.partner.outlook.cn (mail-bjschn02on2105.outbound.protection.partner.outlook.cn [139.219.17.105])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 0E51B2FF644;
	Thu, 20 Nov 2025 07:10:10 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=fail smtp.client-ip=139.219.17.105
ARC-Seal:i=2; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1763622615; cv=fail; b=H7E48QCBTCxt5kpHSHGXjl2RULHwp+4ONkpsUQRtRXfMZxV84v65YnX9lWzLgq8mjtcRVGYJ4qXuD15vfC/uP57gFUAvNyQs0+ze8mp3jN22ev8zTig1vmo3H41hPF56k06TOBRlQf6Xk2J4AP6xNeB5ojTdtO6pPjiyVjR45nM=
ARC-Message-Signature:i=2; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1763622615; c=relaxed/simple;
	bh=GTMd2g4iZz3V2h7W3RyDkIf0jC9SPuuN0uyq7ylPRs4=;
	h=From:To:CC:Subject:Date:Message-ID:References:In-Reply-To:
	 Content-Type:MIME-Version; b=GATUPzHRFttERdqiSOafM8kztX/phveAOnsW+83oq+oOH/cvq+6whtoFsfnp8GWnsEcWH67mhLu/MnhHx5ajbvqojtV4TE4S0MHuSS8TfgFVX4VcnnNRxhSsOntmyi6eaOap6Nt15VSQNJ/fqrd6qSuFDv7RmuMCOXbb2Pdz4oQ=
ARC-Authentication-Results:i=2; smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com; spf=pass smtp.mailfrom=starfivetech.com; arc=fail smtp.client-ip=139.219.17.105
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=starfivetech.com
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=Gcwv2o1y/aXrN5VeoLsxubJuDfPnw0L9pK/XP4og1gYlOCwHGMB4LoZIpACb5IEhLUoX+VSHNvcv20t9IlcPYIZJUquMKRWm5G9Z6rAHQWbZCfmUJLPqArRGhyAr5EGjOA/6QMk9iJy1m/PHOo/dXt4DBA26T8PRXZxjepPHYhBHrxk45PO7jzJoRu4+goV4A8aoQFP6cuuNLHUyXGf6fIDLGgPJrxAp2BNklog6Oqbs375jmtKYtH3RITUM+m8JGzn/s9TckuTYOHhoVX56o8/F0qQ0j32W3HgrvGnhEMv3VeUKruQkj9dXhx92bO90BVf+oaG9b+NFg1rQJjNaiw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=GTMd2g4iZz3V2h7W3RyDkIf0jC9SPuuN0uyq7ylPRs4=;
 b=FaL6dv7yngh4r1bOen2rOM+/cp14VSKH6QQuWaHS+quDjqz/COeu9hnCBu08CRUvRa5sTzMxW//RvwDESfAsHD66vw+7AHrEOegU0YH2YXo9fARELTjMcPZhBojY7JiyYNET0CpU1iymCfPjJruFD45p0e79V3bwA4FeSHfVtcA9ZdGnDu8Z8qr71e3xVun9Um+UGOB065BH3xXQWByP9VkYSESHf9JSC3mcs8cWaKscb5/ejZTSvFiVUk9Jj3rjBh8k4IaRwEJCKno2VvpdQsKizvP39vqHDvqqAw/JY1R5wg/oznVnIhtN4EWp8Xt8NpvpIYDk5OTPXGyOo26Y5Q==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=starfivetech.com; dmarc=pass action=none
 header.from=starfivetech.com; dkim=pass header.d=starfivetech.com; arc=none
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:7::14) by ZQ2PR01MB1257.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:11::13) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9320.21; Thu, 20 Nov
 2025 02:38:04 +0000
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7]) by ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7%6]) with mapi id 15.20.9320.021; Thu, 20 Nov 2025
 02:38:04 +0000
From: Hal Feng <hal.feng@starfivetech.com>
To: Emil Renner Berthing <emil.renner.berthing@canonical.com>, Conor Dooley
	<conor@kernel.org>
CC: E Shattow <e@freeshell.de>, Albert Ou <aou@eecs.berkeley.edu>, Bjorn
 Helgaas <bhelgaas@google.com>, Conor Dooley <conor+dt@kernel.org>, Heinrich
 Schuchardt <heinrich.schuchardt@canonical.com>, Krzysztof Kozlowski
	<krzk+dt@kernel.org>, =?utf-8?B?S3J6eXN6dG9mIFdpbGN6ecWEc2tp?=
	<kwilczynski@kernel.org>, Lorenzo Pieralisi <lpieralisi@kernel.org>,
	Manivannan Sadhasivam <mani@kernel.org>, Palmer Dabbelt <palmer@dabbelt.com>,
	Paul Walmsley <pjw@kernel.org>, "Rafael J . Wysocki" <rafael@kernel.org>, Rob
 Herring <robh@kernel.org>, Viresh Kumar <viresh.kumar@linaro.org>,
	"devicetree@vger.kernel.org" <devicetree@vger.kernel.org>,
	"linux-riscv@lists.infradead.org" <linux-riscv@lists.infradead.org>,
	"linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
Subject: RE: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
Thread-Topic: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
Thread-Index:
 AQHcT8yr76WB0y2LYU6wjdN+ecXGd7TvGAmAgADiXSCAAHpnAIAATH0AgAM44ACAAnXysIABCekAgABDeoCAAWPeAIAA74wAgADZdKA=
Date: Thu, 20 Nov 2025 02:38:04 +0000
Message-ID:
 <ZQ2PR01MB130738275772B0AD73099EF0E6D42@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
References: <20251107095530.114775-1-hal.feng@starfivetech.com>
 <CAJM55Z_rczBo4D3HsC90QW1=fp3NWgK-tsEo6LHTZNXEBHTDqA@mail.gmail.com>
 <ZQ2PR01MB13076544E2136E7E7C2EEDA1E6CD2@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <CAJM55Z9KyNK1n4i9FxbLor4HTQKqK8WKA2svjPVvKXihw_E+sg@mail.gmail.com>
 <4a55301a-ef7e-4b47-8151-621cfba36ddd@freeshell.de>
 <CAJM55Z-bRdNmnRZ7wi3PMOkzGYrxQEGk+7F67Pdu4WXwKmTjCQ@mail.gmail.com>
 <ZQ2PR01MB13075CDDEFC2F03C837E1B31E6C92@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <b33919e9-e100-4629-92cb-d1ec3dd756a7@freeshell.de>
 <ZQ2PR01MB1307DADE17FFEFCE70C3F391E6D62@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <20251118-throwing-marina-14a87d65465a@spud>
 <CAJM55Z-MfpVX3EuQ_AjvDSk6FwR51R5cQdN5RybS9pbJ8r9NNg@mail.gmail.com>
In-Reply-To:
 <CAJM55Z-MfpVX3EuQ_AjvDSk6FwR51R5cQdN5RybS9pbJ8r9NNg@mail.gmail.com>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=starfivetech.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: ZQ2PR01MB1307:EE_|ZQ2PR01MB1257:EE_
x-ms-office365-filtering-correlation-id: c534e303-35b8-4a06-5bff-08de27ddd4c8
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam:
 BCL:0;ARA:13230040|7416014|41320700013|1800799024|366016|38070700021;
x-microsoft-antispam-message-info:
 u+DAAEvnLmZKXtlAIieA756E9S7TCeX4jpFjGzgqkWJNaNXVCc1GPmrAv7Q3gNPfwp3xTefw3tuNljzlwOgtztXrL5B6GlZ4tUDLO61EzT17jg3zcgI/iMUG/8OxzvattdI6C7q3ItkI/rPXQWGKe1SfyCLlIimkcKiiEpDimeiEtfLX9KftRzeixfrc+mHNpZTueVyG6lkxHbOQHKS1Rlye0GhAxzZGTlGYrhOEHOjdi5tnrRMkmV1eaTPQQPIBz1Id+A3TYO/UhBITRIYjWJM/ENipszSBao2v9WZ97J7nXLWBP2ljxbfbDpumhGMbkJCzzn93KQYdDlYJyYxAJn0iKY8cs2IcaC2NO8+TRkK49lSbgEDAnwy3x2F0C6k9whggs/J31N/ZLQQscEiNb3BqsLiwun+zv8K/vHJ8E1Uha/XN/R1Pgd2dxkR2VwNIt11uSNcxAh4aWvR8yxReXrxPxEp/re7SLPEvSvbaLwQO2QZleL9G5lhjNZH9F/rYccBO8DtdnvJhSp+lPWi4Z4g2gfTqPkGj1J6el0bZReGyjYHtXel15RR0U4I8v35CPx29t6h1j+DSORz74ShOrMsNxz3F8uPAlUcNBhXGSDY=
x-forefront-antispam-report:
 CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn;PTR:;CAT:NONE;SFS:(13230040)(7416014)(41320700013)(1800799024)(366016)(38070700021);DIR:OUT;SFP:1102;
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0:
 =?utf-8?B?ZklIOWs3enhmMXhLcDQvU1UxbnpVcXFtT0R6VVE5eStqbE1PUEJ4Um9aSVR3?=
 =?utf-8?B?aUZ0ejZLK3htYm94SE1MOUNUVmozQkpJdVNUQ0Q1L05JWSs2amFJNlZCNWZ5?=
 =?utf-8?B?cW1qSnNkc3g1bkIyQzltRHJvZWRRVVFETkkxVFVTUDlsd1ZpY2hHUVhVdjF0?=
 =?utf-8?B?S1BSRnBvWU9MM3FOL0IrU090MmoyKzN6Y0ZvWEl4em9pQjh0SU5RODV0ckQy?=
 =?utf-8?B?aGNJMzVwdlE0WjNndVNvUnhHeWNEaFBDVDR6NnNvTXo1ZG5takNGVzBSdU1w?=
 =?utf-8?B?Yi8zSnFXTnNKZWNBbXRIWmRabW8yUkgyRU5IVWhuVnpwME0vYTJFQ05hcGZW?=
 =?utf-8?B?RnUvdzB3OTZRSUR0TzlUQlZFQndOd3h3YXpWM2NzYmcxQW56SkxiQTY2N3Q2?=
 =?utf-8?B?ajN4UlptU2RIeGFNS3cvUGQxcDhnRDVkMjF4bFhBRW0reGFGS2o4MzFDeTFB?=
 =?utf-8?B?K3RWSExtMTVlUk1lQk5ydnVlbGowVjZVa2lXZFRWdUxVZ1RrcUNqQzBZN2Nm?=
 =?utf-8?B?bFlaanJTZ1JhcFIxeU82WDFsMWxLQ3FaL3NUT01SYWNxbHRIaFJPdW1zMzF3?=
 =?utf-8?B?cTkwdWZZVW1IYmNwdjN5NFBTT2dMaXBFQ0pseVpCcFlWT1FmRzA1eCswQUNV?=
 =?utf-8?B?N3lxS3BUN0VsYkhOeEwwV1lzdWlPckRWTFlGUG5zclRBRFpPQXA3REV5eGRk?=
 =?utf-8?B?cEs2aCtwQzNsdGk5Y3UzQS94RkRJb29XQ1BiYjNpZE40VStEbTBibVFIN0VQ?=
 =?utf-8?B?QkMwaGpjNW96aGxqUjNpZ2RWSWJmbTRkU2tWQzhDaDVpRUVybktISnpNYW1z?=
 =?utf-8?B?aXJDTnprSjB2VWpPUlBjdGd6NUxyL3ZjNHhkcU8xSld3QmZVZDNISVVtQzBS?=
 =?utf-8?B?dHRYdFRRbUtmaHBJYnpSbE92NHFUMWF5aXhEaXB2cGI3b2lYd2ZzK1Y0dllB?=
 =?utf-8?B?RlpDakxOSCtqNnFScnZQWjR1L3NIVTVTYjJWUUNkTFBnR20ydWVNOUx1MDAz?=
 =?utf-8?B?UjMwRHp2ZDlxdzdLdWIybU14ZEdVQ2RUUElYdHJXVHhpbGdlRnpvRGFGa0h5?=
 =?utf-8?B?amFnZXB0eWZSU1VsdXR1a0xSb3NDdjJrR3ZKbXZtV2lualdUdTZ2c3Y0NGYw?=
 =?utf-8?B?SHhsV3UxTmVtM0QwRkd6aGplMnNCV2ZId3BXajUycnExRkJpbVFoWTNycncw?=
 =?utf-8?B?a0xCUVVRYVZkVzdtL2JZR1poR2lVU3RBVWlKc2FHK2ZGWE9DeDY3SUZzQnhD?=
 =?utf-8?B?dmlyMDZaRHFrcWZmbXJRdUJ6RkVybGFUbnJRekRKREo2ZkhEVU5jQWo4UkpK?=
 =?utf-8?B?Y3RTZURqNFhHR2l6aDRkRmlZRkhGYS9Bai9qU2NvcDUxWmxjL29Pak9zSHNZ?=
 =?utf-8?B?dFBRVWtDcEJVSnVsVnZoOGhvV3o0a3ZXZ3FNdGIvVkowbG9sYUpJUWdBUCta?=
 =?utf-8?B?S3AxYlhMMDMvb2NJNk9qN25ES1dETUJHNVdjelRZbkRMN2xsWStaeTRaSzlP?=
 =?utf-8?B?MW54WHFzNWxOdXRpd1BrdUU4UW9abjlVVmo1ZEx4YzRuT1RJZVBNNlR3OWpR?=
 =?utf-8?B?NVdWM2VCZkFqNUhJNG5tR2FNR2tnb21weTczazcwWXdkTkpUZkI3S3RTdFpm?=
 =?utf-8?B?U0RLdm1SUEE5S1JNY2U0ZnhIeVloSXhxTW45K21CRlJtL3FaYUgyMFlSOFBU?=
 =?utf-8?B?ZzZkdmJWUjI4SjEyWmZJM2tQTy9LbVZONzFsOGZUSzdZd0xLcTZWTnFLTGZv?=
 =?utf-8?B?aXpoN3JaWitXamR5STN0cERMTXBVeFArMzJoN1VYMURHWkYvdkNJSXBRWElj?=
 =?utf-8?B?R2tzNldqTUZrRDhnbTRJVzhDcnpyQlJjcWFzSlAzYkpLT0lFRXNlTm1QM0Uv?=
 =?utf-8?B?TWNVM2F2S3JzTStRb3I0bGJhVGZWem5udUl6KzU1akNWTHRDNGxDWm5hbUlQ?=
 =?utf-8?B?bGZKaEVvc01OdVkyWGFGcEE1dkhMWU5lcTBkekpsanp1SUhFYkFXaDNmSkF3?=
 =?utf-8?B?T1BVWlBiNER1SlZXQmVlMzViK21pSGgvY2lMbGN0T2hVUnJJTTFoNmEzaXla?=
 =?utf-8?B?VzJOK3Y3bVdaZFp2YitYS0FaUnJGVElhUE5GSFppL3pIdjVLLzRQVUdGRy9v?=
 =?utf-8?Q?u5Xgvwj4LFGiQr+mAKXDdXTUr?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-OriginatorOrg: starfivetech.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
X-MS-Exchange-CrossTenant-Network-Message-Id: c534e303-35b8-4a06-5bff-08de27ddd4c8
X-MS-Exchange-CrossTenant-originalarrivaltime: 20 Nov 2025 02:38:04.4139
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 06fe3fa3-1221-43d3-861b-5a4ee687a85c
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: bcsC+8nWsUAjQ9pDs4IpR46OblirW51+b6LJtthc4e7aieRe9gbqbKAmMfrU++fBKvDkHENKhB8Ug5m8Kn742yihl8BLluMpI6qlwvZ8y30=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: ZQ2PR01MB1257

PiBPbiAxOS4xMS4yNSAyMToyOCwgRW1pbCBSZW5uZXIgQmVydGhpbmcgd3JvdGU6DQo+IFF1b3Rp
bmcgQ29ub3IgRG9vbGV5ICgyMDI1LTExLTE5IDAwOjEwOjA4KQ0KPiA+IE9uIFR1ZSwgTm92IDE4
LCAyMDI1IGF0IDAyOjEyOjU4QU0gKzAwMDAsIEhhbCBGZW5nIHdyb3RlOg0KPiA+ID4gPiBBbGws
DQo+ID4gPiA+DQo+ID4gPiA+IEkgcmVwZWF0IHRoYXQgdGhlIHN1Z2dlc3Rpb24gd2FzIG1hZGUg
bW9udGhzIGFnbyAoYnkgSGFsKSB0byBzcGxpdA0KPiA+ID4gPiBvdXQgdGhlIE9QUCB0YWJsZXMg
cGVyLWJvYXJkIGZyb20gdGhlIHBlcmlvZCBvZiB0aW1lIHdoZW4gSSB3YXMNCj4gPiA+ID4gY29t
cGxhaW5pbmcgYWJvdXQgMS41R0h6IEpILTcxMTAgb3BlcmF0aW9uIHB1c2hpbmcgVERQIGludG8N
Cj4gPiA+ID4gb3Zlci10ZW1wZXJhdHVyZSB0aGVybWFsIGxpbWl0IG9uIE1pbGstViBNYXJzIENN
IFNvTS4NCj4gPiA+ID4NCj4gPiA+ID4gV2hldGhlciBvciBub3QgSkg3MTEwUyBpcyBhIG5ldyBj
b21wYXRpYmxlIHNob3VsZCBmb2xsb3cNCj4gPiA+ID4gcHJlY2VkZW5jZSBpbiBMaW51eCBkZXZl
bG9wbWVudC4gSkgtNzExMFMgaXMgZXZpZGVudGx5IHRoZSBzYW1lDQo+ID4gPiA+IHRhcGUtb3V0
IGFzIEpILTcxMTAgYW5kIGhvd2V2ZXIgeW91IGRlYWwgd2l0aCB0aGF0IGluIExpbnV4IGlzIHRo
ZQ0KPiA+ID4gPiBhcHByb3ByaWF0ZSB3YXkgdG8gZGVhbCB3aXRoIHRoYXQgaGVyZS4gU2VsZWN0
aW9uIG9mIE9QUCB0YWJsZSBmb3INCj4gPiA+ID4gY29ycmVjdCBvcGVyYXRpb24gd2lsbCBiZSBk
ZXRlcm1pbmVkIGJ5IGJvb3Rsb2FkZXIsIHdoZXJlLCBpdCBpcw0KPiA+ID4gPiBkZW1vbnN0cmF0
ZWQgYnkgcGF0Y2ggc2VyaWVzIHNlbnQgdG8gVS1Cb290IHVwc3RyZWFtIHRvIGJlDQo+ID4gPiA+
IHNlbGVjdGVkICoqIHBlci1ib2FyZCAqKiBiYXNlZCBvbiBFRVBST00gY29udGVudCBhcyBpZiBp
dCB3YXMgYW55DQo+ID4gPiA+IG90aGVyIEpILTcxMTAgYm9hcmQgZGVjaWRpbmcgZHRzIGJhc2Vk
IG9uIEVFUFJPTSBjb250ZW50LiBHaXZlbg0KPiA+ID4gPiB0aGF0IGl0IGlzIHRoZSBzYW1lIHRh
cGUtb3V0IEkgZG8gbm90IGZpbmQgYSB2YWxpZCBqdXN0aWZpY2F0aW9uDQo+ID4gPiA+IGZvciBh
IG5ldyBjb21wYXRpYmxlIGluIHRoZSBzdGFjayBvZiBhZGphY2VudCBzb2Z0d2FyZSBiZXNpZGVz
IGdvaW5nDQo+IGFsb25nIHdpdGggc29tZSBraW5kIG9mIG1hcmtldGluZy1kcml2ZW4gYW5zd2Vy
IGFib3V0IHdoZXRoZXIgb3Igbm90IHRoaXMgaXMNCj4gYSBuZXcgU29DLg0KPiA+ID4gPg0KPiA+
ID4gPiBXaGF0IEkgY2FyZSBhYm91dCBub3cgaXMgdGhhdCB0aGUgVmlzaW9uRml2ZSAyIExpdGUg
c2VyaWVzIGlzIGluDQo+ID4gPiA+IGdvb2QgZW5vdWdoIHNoYXBlIGFuZCB0aGVyZSdzIGEgcG9z
c2liaWxpdHkgdG8gYWN0IG9uIHRoaXMNCj4gPiA+ID4gbW9udGhzLW9sZCBzdWdnZXN0aW9uIHRv
IHNwbGl0IG91dCB0aGUgT1BQIHRhYmxlcyB3aGljaCBhcyB3ZSBoYXZlDQo+ID4gPiA+IGNvbmZp
cm1lZCB0aGUgSkg3MTEwUyBpcyB0aGUgc2FtZSBTb0MgYXMNCj4gPiA+ID4gSkg3MTEwIGl0IG1h
a2VzIGEgbG90IG9mIHNlbnNlIHRvIGRvLg0KPiA+ID4gPg0KPiA+ID4gPiBIb3cgaXMgaXQgc3Vw
cG9zZWQgdG8gd29yayBmb3IgYmlubmVkIHNpbGljb24gaW4gTGludXg/DQo+ID4gPg0KPiA+ID4g
SGksIENvbm9yLCAgRW1pbCwNCj4gPiA+DQo+ID4gPiBXaGF0IGRvIHlvdSB0aGluayBhYm91dCB0
aGlzPyBIb3BlIHRvIGhlYXIgZnJvbSB5b3UuDQo+ID4NCj4gPiBDYW4gc29tZW9uZSBqdXN0IGdp
dmUgbWUgYSB5ZXMvbm8gcXVlc3Rpb24gb3V0IG9mIHRoaXMgdGhyZWFkPyBJJ20gbm90DQo+ID4g
cmVhbGx5IGltbWVkaWF0ZWx5IHN1cmUgd2hhdCdzIGJlaW5nIGFza2VkIG9mIG1lLiBXaGF0IGV4
YWN0bHkgZG8geW91DQo+ID4gd2FudCB0byBkbyB3aXRoIHRoZSBvcHAtdGFibGVzPyAiU3BsaXQg
b3V0IiBpc24ndCBzdXBlciBjbGVhci4gRG9lcw0KPiA+IHRoYXQgbWVhbiBpbnRvIGJvYXJkIGZp
bGVzPyBJIGFtIGd1ZXNzaW5nIGl0IGRvZXMsIHNpbmNlIHlvdSdyZSBzYXlpbmcNCj4gPiB0aGF0
IGEgcGFydGljdWxhciBib2FyZCBjYW5ub3Qgc3VwcG9ydCB0aGUgMS41IEdIeiBtb2RlLiBJdCdz
IG5vdA0KPiA+IHVudXN1YWwgdGhvdWdoIHRvIHVzZSBkZWxldGUgbm9kZSBmb3IgdW5zdXBwb3J0
ZWQgb3BwLXRhYmxlIGVudHJpZXMsDQo+ID4gY291bGQgdGhhdCBiZSBkb25lIGluc3RlYWQ/DQo+
IA0KPiBZZXMsIGFzIGZhciBhcyBJIGNhbiB0ZWxsIHdlIHNob3VsZCBiZSBhYmxlIHRvIGp1c3Qg
YWRkIHRoZSBib2FyZCBkZXNjcmlwdGlvbiBsaWtlDQo+IHRoaXM6DQo+IA0KPiAgamg3MTEwLmR0
c2kgICAgICAgICAgICAgICAjIEpINzExMCBTb0MgZGVzY3JpcHRpb24NCj4gIHwtIGpoNzExMC1j
b21tb24uZHRzaSAgICAgIyBQZXJpcGhlcmFscyBjb21tb24gdG8gYWxsIEpINzExMCBib2FyZHMN
Cj4gICAgIHwtIGpoNzExMC1zdGFyZml2ZS12aXNpb25maXZlLTIuZHRzaSAjIFBlcmlwaGVyYWxz
IGNvbW1vbiB0byBWRjIgYm9hcmRzDQo+ICAgICB8ICB8LSA8VkYyIGJvYXJkcz4gICAgICMgRmlu
YWwgVkYyIGJvYXJkIGRlc2NyaXB0aW9ucw0KPiAgICAgfC0gamg3MTEwLW1pbGt2LW1hcnNjbS5k
dHNpICMgUGVyaXBoZXJhbHMgY29tbW9uIHRvIE1hcnMgQ00gYm9hcmRzDQo+ICAgICB8ICB8LSA8
TWFycyBDTSBib2FyZHM+ICMgRmluYWwgTWFycyBDTSBib2FyZCBkZXNjcmlwdGlvbnMNCj4gICAg
IHwtIDxvdGhlciBib2FyZHM+ICAgICAgIyBPdGhlciBKSDcxMTAgYm9hcmQgZGVzY3JpcHRpb25z
DQo+ICsgICB8LSBqaDcxMTAtc3RhcmZpdmUtdmlzaW9uZml2ZS0yLWxpdGUuZHRzDQo+IA0KPiBh
bmQgaGF2ZSBpdCBkbw0KPiANCj4gJmNwdV9vcHAgew0KPiAgICAgL2RlbGV0ZS1ub2RlLyBvcHAt
Mzc1MDAwMDAwOw0KPiAgICAgL2RlbGV0ZS1ub2RlLyBvcHAtNTAwMDAwMDAwOw0KPiAgICAgL2Rl
bGV0ZS1ub2RlLyBvcHAtNzUwMDAwMDAwOw0KPiAgICAgL2RlbGV0ZS1ub2RlLyBvcHAtMTUwMDAw
MDAwMDsNCj4gDQo+ICAgICBvcHAtMzEyNTAwMDAwIHsNCj4gICAgICAgICBvcHAtaHogPSAvYml0
cy8gNjQgPDMxMjUwMDAwMD47DQo+ICAgICAgICAgb3BwLW1pY3Jvdm9sdCA9IDw4MDAwMDA+Ow0K
PiAgICAgfTsNCj4gICAgIG9wcC00MTcwMDAwMDAgew0KPiAgICAgICAgIG9wcC1oeiA9IC9iaXRz
LyA2NCA8NDE3MDAwMDAwPjsNCj4gICAgICAgICBvcHAtbWljcm92b2x0ID0gPDgwMDAwMD47DQo+
ICAgICB9Ow0KPiAgICAgb3BwLTYyNTAwMDAwMCB7DQo+ICAgICAgICAgb3BwLWh6ID0gL2JpdHMv
IDY0IDw2MjUwMDAwMDA+Ow0KPiAgICAgICAgIG9wcC1taWNyb3ZvbHQgPSA8ODAwMDAwPjsNCj4g
ICAgIH07DQo+ICAgICBvcHAtMTI1MDAwMDAwMCB7DQo+ICAgICAgICAgb3BwLWh6ID0gL2JpdHMv
IDY0IDwxMjUwMDAwMDAwPjsNCj4gICAgICAgICBvcHAtbWljcm92b2x0ID0gPDEwMDAwMDA+Ow0K
PiAgICAgfTsNCj4gfTsNCj4gDQo+IFRoaXMgc2VlbXMgdG8gYmUgdGhlIG1pbmltYWwgYW1vdW50
IG9mIGNoYW5nZXMgbmVlZGVkLiBJIGxvb2tlZCB0aHJvdWdoIHRoZQ0KPiBsYXRlc3QgT3BlblNC
SSBhbmQgaXQgZG9lcyBtYXRjaCAic3RhcmZpdmUsamg3MTEwcyIsIGJ1dCBpdCB0cmVhdHMgaXQg
ZXhhY3RseSB0aGUNCj4gc2FtZSBhcyAic3RhcmZpdmUsamg3MTEwIiBhbmQgSGFsIGhhdmUgbm90
IHJlYWxseSBnaXZlbiBhbnkgb3RoZXIgcmVhc29uIHdlJ2QNCj4gbmVlZCBuZXcgY29tcGF0aWJs
ZSBzdHJpbmdzLg0KPiANCj4gRTogSSBrbm93IHRoaXMgZG9lc24ndCBzcGxpdCBvdXQgdGhlIG9w
cCB0YWJsZSBsaWtlIHlvdSBzdWdnZXN0ZWQsIGJ1dCBJIHRoaW5rDQo+IHRoYXQgY2FuIGNvbWUg
bGF0ZXIgaWYgbmVlZGVkLiBMZXQncyBqdXN0IHN0YXJ0IHdpdGggdGhlIG1pbmltYWwgYW1vdW50
IG9mDQo+IGNoYW5nZXMgdG8gZ2V0IHRoZSBWRjIgTGl0ZSBzdXBwb3J0ZWQuDQo+IA0KPiBIYWw6
IERvIHlvdSB0aGluayB0aGlzIGNvdWxkIHdvcms/IFlvdSBtaWdodCBuZWVkIGEgcGF0Y2ggdG8g
bW92ZSBzb21lIG1tYw0KPiBwcm9wZXJ0aWVzIG91dCBvZiBqaDcxMTAtY29tbW9uLmR0c2kNCg0K
WWVzLCBJIHdpbGwgc2VuZCBvdXQgYSBuZXcgdmVyc2lvbiB3aXRoIHRoZSBmaWxlIGxheW91dCBh
Ym92ZSB0b2RheS4gVGhhbmsgeW91Lg0KDQpCZXN0IHJlZ2FyZHMsDQpIYWwNCg==

From mboxrd@z Thu Jan  1 00:00:00 1970
Received: from CHN02-SH0-obe.outbound.protection.partner.outlook.cn (mail-sh0chn02on2139.outbound.protection.partner.outlook.cn [139.219.146.139])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id AF50A332908;
	Thu, 20 Nov 2025 11:23:02 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=fail smtp.client-ip=139.219.146.139
ARC-Seal:i=2; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1763637788; cv=fail; b=L00x4jI+4U9lY9oNeQ/Y2obu7KpczHmvhxRsxEXbLEzeuA42fGeeHSNeZVOV8/GcC4qBQ8OvCQBoi4Mlfyo9fKz6J6uX14pjB0aZEjgV+cMObc9IFCKbnkb6UmY8KEaCLiaphvzNVxUVOLzuTwqTMPM6ecm94jC0B9xp7ZVXP/c=
ARC-Message-Signature:i=2; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1763637788; c=relaxed/simple;
	bh=goJyT23uy9CyOp3zxvgqK9smukx6j18S65kt2TfNGak=;
	h=From:To:CC:Subject:Date:Message-ID:References:In-Reply-To:
	 Content-Type:MIME-Version; b=XkFg+HwY1XzZramxidWxBVWZw5l6tdnoENX+f7Dxuay2SB2tveJm3l/pOdwcgKx33g/GK7a8fClvaGH7gWstQFfbT9A5xSSANXT79oplDdvjj40LOEVj4XIdMrigeAVaAHY+fqOQ4mQ0UxBqTku7qcSit8mPMn57PpehEOtXyJM=
ARC-Authentication-Results:i=2; smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com; spf=pass smtp.mailfrom=starfivetech.com; arc=fail smtp.client-ip=139.219.146.139
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=starfivetech.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=starfivetech.com
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=GEDJ1LdNAQQcND8YvQvnQCNfXlIKev02OmAMXRJZ8WQtYvNIBe8iE/4XknhyGQnxcEGqQlJ85h42Zl0s4jSvrnunJzTsbMsrA6QIeeKBb/NjF0LSwSw4fSgJg231DG7jfhD9kk16EIpUwKaTqUn+zkPI4LFTK8PKQ+N6zGI5tDdqsiDfMFYGPkpPXdPitpCAg1Rw0qnoOEfrssw1MLY27FEYuVl4L//iI65H/C8KW6C0YvYH0LknPDaCe/g1sczLs6TGz1DxsaNxU0xaNk0AawR/PFJkmUkivpCPCSpxMK06oX46j5zwDRX6sz/8lqI1QmLLH6i9uOGqxqDov9vhUA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=0FwjC6cTOLDkkfd2F864fhpJfdfSrMZR85UFKLMejEo=;
 b=dS7CZfepeHt4HA2+zopy7ZL1Dg4ghA7TktW7q09VoCizY1ZD+9/L2T0pK2NVQAIg8uNTI5Ntrlg4DngIF94FUcBYsHUVs2FdwkkgWQehc4j1mShDIcOBtw5fOzh7e4MztE6fzJI75p+NSFMIaKyi/DFNCn/TpqMHxd4Qii9XMjxnj6VdbxcNPYMqbQQHlz4B3ZMEcD8UrBTlWA9ECUoVHUhY9OduU4XCwRX2m7w2+eSNIqs1VTz/yCeo1gl6qRUOIwsQ7aSdn3v8SapOrLNycVF0KP2PRu2P0L8W9CU/O6xq6yjmObPCFa+ARN7frgtAPOr24wuosYd6kEHq6maqPA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=starfivetech.com; dmarc=pass action=none
 header.from=starfivetech.com; dkim=pass header.d=starfivetech.com; arc=none
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:7::14) by ZQ2PR01MB1241.CHNPR01.prod.partner.outlook.cn
 (2406:e500:c550:6::13) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9320.18; Thu, 20 Nov
 2025 02:47:48 +0000
Received: from ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7]) by ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
 ([fe80::2595:ef4d:fae:37d7%6]) with mapi id 15.20.9320.021; Thu, 20 Nov 2025
 02:47:48 +0000
From: Hal Feng <hal.feng@starfivetech.com>
To: Conor Dooley <conor@kernel.org>, Emil Renner Berthing
	<emil.renner.berthing@canonical.com>
CC: E Shattow <e@freeshell.de>, Albert Ou <aou@eecs.berkeley.edu>, Bjorn
 Helgaas <bhelgaas@google.com>, Conor Dooley <conor+dt@kernel.org>, Heinrich
 Schuchardt <heinrich.schuchardt@canonical.com>, Krzysztof Kozlowski
	<krzk+dt@kernel.org>, =?iso-8859-2?Q?Krzysztof_Wilczy=F1ski?=
	<kwilczynski@kernel.org>, Lorenzo Pieralisi <lpieralisi@kernel.org>,
	Manivannan Sadhasivam <mani@kernel.org>, Palmer Dabbelt <palmer@dabbelt.com>,
	Paul Walmsley <pjw@kernel.org>, "Rafael J . Wysocki" <rafael@kernel.org>, Rob
 Herring <robh@kernel.org>, Viresh Kumar <viresh.kumar@linaro.org>,
	"devicetree@vger.kernel.org" <devicetree@vger.kernel.org>,
	"linux-riscv@lists.infradead.org" <linux-riscv@lists.infradead.org>,
	"linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
Subject: RE: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
Thread-Topic: [PATCH v2 0/8] Add support for StarFive VisionFive 2 Lite board
Thread-Index:
 AQHcT8yr76WB0y2LYU6wjdN+ecXGd7TvGAmAgADiXSCAAHpnAIAATH0AgAM44ACAAnXysIABCekAgABDeoCAAWPeAIAA74wAgAC+CICAAB704A==
Date: Thu, 20 Nov 2025 02:47:48 +0000
Message-ID:
 <ZQ2PR01MB13071209BB1472382BF51A0EE6D42@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
References:
 <CAJM55Z_rczBo4D3HsC90QW1=fp3NWgK-tsEo6LHTZNXEBHTDqA@mail.gmail.com>
 <ZQ2PR01MB13076544E2136E7E7C2EEDA1E6CD2@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <CAJM55Z9KyNK1n4i9FxbLor4HTQKqK8WKA2svjPVvKXihw_E+sg@mail.gmail.com>
 <4a55301a-ef7e-4b47-8151-621cfba36ddd@freeshell.de>
 <CAJM55Z-bRdNmnRZ7wi3PMOkzGYrxQEGk+7F67Pdu4WXwKmTjCQ@mail.gmail.com>
 <ZQ2PR01MB13075CDDEFC2F03C837E1B31E6C92@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <b33919e9-e100-4629-92cb-d1ec3dd756a7@freeshell.de>
 <ZQ2PR01MB1307DADE17FFEFCE70C3F391E6D62@ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn>
 <20251118-throwing-marina-14a87d65465a@spud>
 <CAJM55Z-MfpVX3EuQ_AjvDSk6FwR51R5cQdN5RybS9pbJ8r9NNg@mail.gmail.com>
 <20251120-ambiguity-obsessive-b4ebf225d293@spud>
In-Reply-To: <20251120-ambiguity-obsessive-b4ebf225d293@spud>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=starfivetech.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: ZQ2PR01MB1307:EE_|ZQ2PR01MB1241:EE_
x-ms-office365-filtering-correlation-id: 350faea7-c2a5-47aa-d636-08de27df30e2
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam:
 BCL:0;ARA:13230040|41320700013|1800799024|366016|7416014|38070700021;
x-microsoft-antispam-message-info:
 rfh5660y4Mv6EUJzQcWMXN3uNSwLDvFd+Qv79veJm/81KQ5ISVdRQBA6D5SN5ABBIoo+sGG9gYW9C43eL3TQnILE/D3Rhv9cqJNIHYUz2QTENvEVYCL+JjR8W0v/sbsAjktTmZzf6ho9plC4cDT5bDyzXY8D/dYqjkip3TV0F3mkHvkUOXy55lPWeQsH/NWzRVSvbXRg6y++XokxpP1gtHXXjLakC3okWixRU5mcTINbRdM2UNJS+h4LoLqUGKAdewW5nQclGGyCSwm4pyj2oVjfgMaItqfe3j3KoCa/U3TLsQ7dzmHeFi61ZTw2y19z3+48WDxrR6IE2pq3huXoD3MJJkBOmujhjvjSY2Sftn1nuHCq/WB9hO4qaCXHwYOzo4OsSP+hREyzNoVIHyjKVmcAR4cItKG+6QLbSjlX705KsLSzGLf5nPx18RXaX97QMGytcbzbpMIE3svBldxMERTUxaBU5WB5Li/FF/fpatWTxoASqwH3LyWrgiSQ2JiDiOedFzwLWgG2MF2emPdmPFt+92bhRwvv4ChKsVlL0lU3svj7artXAqNizW1UcQ1QG1dZJi5Cm2nmTN7ZLA5Aopd09PHZ+q+dcdD4a4+2fh4=
x-forefront-antispam-report:
 CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn;PTR:;CAT:NONE;SFS:(13230040)(41320700013)(1800799024)(366016)(7416014)(38070700021);DIR:OUT;SFP:1102;
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0:
 =?iso-8859-2?Q?Xat9kOU/Je7PC+/g5cX2QSBjZ20RUlAgCZvnRMbkdIw2bWWfh5LzHQfGlu?=
 =?iso-8859-2?Q?SdcJ+aXhTMfBhbTTlTrjB+H3fuEjmzHFJA6M53lU8Pl95vduJntJVAqe3S?=
 =?iso-8859-2?Q?cX3CfRi8x/Y+hOYIEDJ6PMv1HX+rSHMjlnrfBTJFINEiCXwV4X9OLIN90S?=
 =?iso-8859-2?Q?B8KZ3Ba80lzAm26YO6T6ZUL2F1/kr/l65T8V2QWgqtOTueRr6wQIhpF6ZX?=
 =?iso-8859-2?Q?Vs1pyOgW169d1bhOXUcmGREPR9Ln/WgFDhcccKodM9HbBi+jP+vbARIT34?=
 =?iso-8859-2?Q?+PH8q/dYV+tTwImkVnBCSjvhBnfrd/j7ed5yJifDc5LfK/lqtHWsYbrcXj?=
 =?iso-8859-2?Q?SVBm4vE/4bx5Vlgq1B41JaHq1GRu8MQ3ANgEo9ePKBOdSW3kfrhqX90Mwf?=
 =?iso-8859-2?Q?fnJ9tRPPsJ0xXc7dRFryThsoeWU2xGw5qAvF1URQ9Tuwd1c/8uplftOQo/?=
 =?iso-8859-2?Q?f8N+EWoUIgX3I17rzdlRtEOwBzlpxu/G3iMCy53f/ai7y6JZ6DWSxvYLXq?=
 =?iso-8859-2?Q?6vUQrHfrk6/Qw/LSh5Lip/LUWP4daLFG4YO9sSwo5bfIZ5V5qMbbvpbHN7?=
 =?iso-8859-2?Q?v5d+2EjLvuCBNYZJLu7D5MrZT682eVgrwBEN+XheWqbGqFOOwzymplxFvR?=
 =?iso-8859-2?Q?ceepbuNbu0sdc2uDRmUNL1+PxF3Xnyj265xVaFlXZGbv7v4tJR2l44WuKv?=
 =?iso-8859-2?Q?GMGxo8LBu324O0VRuuIwJgIUNRWWYlGlLCtnmAX9xXXvxDFmYDoLpgHqsb?=
 =?iso-8859-2?Q?JnLLM1ylgQL+2nh6o6EbhqVmLXew1Gz7x5MjW+pE1SDqJ3L7NcvjlL49Al?=
 =?iso-8859-2?Q?9qTJiIAJIiPmpWMJrrMp2XQXxK1qJ6scqVQWWLPQUh8pibiz9AFu5lATga?=
 =?iso-8859-2?Q?5fXa8mEqfFORkiTYnE11pBRyzLlr1SXw3eW8kFBFg76idwsgiA7uEaTyM6?=
 =?iso-8859-2?Q?IsyJh3BIGajA3lGi9/vVPo8viVYZKFTAAwndZiNQJ19Q/1yZdKNCAuFM5q?=
 =?iso-8859-2?Q?kr3VRgUfI7520nnOVcSvmEgiiDTUqH9BYMtUGgdJtyicpu2icX7js/azdb?=
 =?iso-8859-2?Q?u/kWsHxK0D4FA+omn/NeE5Nn8wgpQ9Hk0zohub0DLNwlJtYbCx4tINrZZo?=
 =?iso-8859-2?Q?fad4g1BF+vSMFp7mjpI0D9qL6P8jId8mCi00PS7LPaYqkN0+daXGPBWy24?=
 =?iso-8859-2?Q?pubqBUV/KOARXGAQkYxt/GYy2wk9dsSSrQUYKfwHTG/uIzta5fOnTn6T0A?=
 =?iso-8859-2?Q?RBbJUjhevYcwOZeoU5+l1yATL1/UPlpUP1D77xhRl+UIBYWaqWRX1agA9+?=
 =?iso-8859-2?Q?MABsWYBH5TyriOio5pRraspfUhfXAX3My0gkhgM+J8wKFDzoLYcmQuxzj0?=
 =?iso-8859-2?Q?LC2FYZmg1ZtPfM3uK5hHv3KQMiyU/ZvxUux+vd8TMBfqXAeX7chEvcCLDZ?=
 =?iso-8859-2?Q?ORxTAwlPSVNLSrGsrVZsMqUNiZ/2Um7wTu2wlqRSYETDWDyiM1so3+OwHL?=
 =?iso-8859-2?Q?Eq93EmdewCRDGKtuOgVNuAC9setXuRQ5tjpmNO7AP+IxzUu87Z09x6UffH?=
 =?iso-8859-2?Q?jCtHcTjpM9lZsMPw6B2gXU3CadB1BHtpMuEiO+7fywvsg3L2+YnLoARCaU?=
 =?iso-8859-2?Q?tKO39km1CNQFOuWOuNPvrwSvBo40R3DrJK?=
Content-Type: text/plain; charset="iso-8859-2"
Content-Transfer-Encoding: quoted-printable
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-OriginatorOrg: starfivetech.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: ZQ2PR01MB1307.CHNPR01.prod.partner.outlook.cn
X-MS-Exchange-CrossTenant-Network-Message-Id: 350faea7-c2a5-47aa-d636-08de27df30e2
X-MS-Exchange-CrossTenant-originalarrivaltime: 20 Nov 2025 02:47:48.4290
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 06fe3fa3-1221-43d3-861b-5a4ee687a85c
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: 5R5/rvBpF2ZfdhUNvf/d3Gvt9841oUvlBN1hkuX7oF4aKRPAzYLxGMW8NtdspimkyOKnP2+MF8PC3j6tXimLZxpxjtSX350LLdQu+qw2GN0=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: ZQ2PR01MB1241

> On 20.11.25 08:48, Conor Dooley wrote:
> On Wed, Nov 19, 2025 at 05:27:30AM -0800, Emil Renner Berthing wrote:
> > Quoting Conor Dooley (2025-11-19 00:10:08)
> > > On Tue, Nov 18, 2025 at 02:12:58AM +0000, Hal Feng wrote:
> > > > > All,
> > > > >
> > > > > I repeat that the suggestion was made months ago (by Hal) to
> > > > > split out the OPP tables per-board from the period of time when
> > > > > I was complaining about 1.5GHz JH-7110 operation pushing TDP
> > > > > into over-temperature thermal limit on Milk-V Mars CM SoM.
> > > > >
> > > > > Whether or not JH7110S is a new compatible should follow
> > > > > precedence in Linux development. JH-7110S is evidently the same
> > > > > tape-out as JH-7110 and however you deal with that in Linux is
> > > > > the appropriate way to deal with that here. Selection of OPP
> > > > > table for correct operation will be determined by bootloader,
> > > > > where, it is demonstrated by patch series sent to U-Boot
> > > > > upstream to be selected ** per-board ** based on EEPROM content
> > > > > as if it was any other JH-7110 board deciding dts based on
> > > > > EEPROM content. Given that it is the same tape-out I do not find
> > > > > a valid justification for a new compatible in the stack of adjace=
nt
> software besides going along with some kind of marketing-driven answer
> about whether or not this is a new SoC.
> > > > >
> > > > > What I care about now is that the VisionFive 2 Lite series is in
> > > > > good enough shape and there's a possibility to act on this
> > > > > months-old suggestion to split out the OPP tables which as we
> > > > > have confirmed the JH7110S is the same SoC as
> > > > > JH7110 it makes a lot of sense to do.
> > > > >
> > > > > How is it supposed to work for binned silicon in Linux?
> > > >
> > > > Hi, Conor,  Emil,
> > > >
> > > > What do you think about this? Hope to hear from you.
> > >
> > > Can someone just give me a yes/no question out of this thread? I'm
> > > not really immediately sure what's being asked of me. What exactly
> > > do you want to do with the opp-tables? "Split out" isn't super
> > > clear. Does that mean into board files? I am guessing it does, since
> > > you're saying that a particular board cannot support the 1.5 GHz
> > > mode. It's not unusual though to use delete node for unsupported
> > > opp-table entries, could that be done instead?
> >
> > Yes, as far as I can tell we should be able to just add the board
> > description like this:
> >
> >  jh7110.dtsi               # JH7110 SoC description
> >  |- jh7110-common.dtsi     # Peripherals common to all JH7110 boards
> >     |- jh7110-starfive-visionfive-2.dtsi # Peripherals common to VF2 bo=
ards
> >     |  |- <VF2 boards>     # Final VF2 board descriptions
> >     |- jh7110-milkv-marscm.dtsi # Peripherals common to Mars CM boards
> >     |  |- <Mars CM boards> # Final Mars CM board descriptions
> >     |- <other boards>      # Other JH7110 board descriptions
> > +   |- jh7110-starfive-visionfive-2-lite.dts
> >
> > and have it do
> >
> > &cpu_opp {
> >     /delete-node/ opp-375000000;
> >     /delete-node/ opp-500000000;
> >     /delete-node/ opp-750000000;
> >     /delete-node/ opp-1500000000;
> >
> >     opp-312500000 {
> >         opp-hz =3D /bits/ 64 <312500000>;
> >         opp-microvolt =3D <800000>;
> >     };
> >     opp-417000000 {
> >         opp-hz =3D /bits/ 64 <417000000>;
> >         opp-microvolt =3D <800000>;
> >     };
> >     opp-625000000 {
> >         opp-hz =3D /bits/ 64 <625000000>;
> >         opp-microvolt =3D <800000>;
> >     };
> >     opp-1250000000 {
> >         opp-hz =3D /bits/ 64 <1250000000>;
> >         opp-microvolt =3D <1000000>;
> >     };
> > };
> >
> > This seems to be the minimal amount of changes needed. I looked
> > through the latest OpenSBI and it does match "starfive,jh7110s", but
> > it treats it exactly the same as "starfive,jh7110" and Hal have not
> > really given any other reason we'd need new compatible strings.
>=20
> FWIW, chucking in the extra compatible is pretty straightforward if there=
's a
> respin to adjust to the above file layout, so can probably just go and do=
 it.
>=20
> > E: I know this doesn't split out the opp table like you suggested, but
> > I think that can come later if needed. Let's just start with the
> > minimal amount of changes to get the VF2 Lite supported.
> >
> > Hal: Do you think this could work? You might need a patch to move some
> > mmc properties out of jh7110-common.dtsi
>=20
> I'm going to consider this "Changes Requested" then, and I'll expect anot=
her
> version with the file layout above.

I will send out the new version today.

>=20
> I was starting on my 6.19 PRs today, and I remembered that I actually hav=
e
> some dts material for the second week of the merge window, so you've got =
an
> extra week out of that Hal before it'd be 6.20 content instead.

We really hope VF2 Lite can be supported in the coming v6.19.
Wish everything goes well.

Best regard,
Hal

